angular.module("ibosApp.templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("templates/attach.html","<div class=\"list attach-list\">\n  <div class=\"item item-avatar\" ng-repeat=\"att in attach\">\n    <a class=\"fr anchor\" ng-click=\"download(att)\">查看</a>\n    <div class=\"item-image\">\n      <img ng-src=\"{{att.iconsmall|filetypeIcon}}\" alt=\"{{ att.filename }}\" width=\"44\" height=\"44\">\n    </div>\n    <h2>{{att.filename}}</h2>\n    <p>{{att.dateline * 1000|date:\'yyyy-MM-dd\'}}&nbsp;&nbsp;&nbsp;&nbsp;{{att.filesize}}</p>\n  </div>\n</div>");
$templateCache.put("templates/img-preview.html","<ion-modal-view class=\"modal-full-screen\">\n	<span class=\"img-preview-close\" ng-click=\"closeModal()\">\n		<i class=\"ion-ios-close-empty\"></i>\n	</span>\n  <ion-slide-box class=\"img-preview-slide text-center\" show-pager=\"false\" delegate-handle=\"imgPreviewSlide\">\n    <ion-slide ng-repeat=\"url in urls\">\n      <img ng-src=\"{{ url }}\" ng-doubletap=\"zoomImg($event)\">\n    </ion-slide>\n  </ion-slide-box>\n</ion-modal-view>");
$templateCache.put("templates/login.html","<ion-view title=\"Login\" hide-back-button=\"true\" hide-nav-bar=\"true\" class=\"login-panel\">\n  <ion-content>\n    <form name=\"loginForm\" ng-submit=\"submitLogin()\">\n      <div class=\"text-center\">\n        <img src=\"img/logo.png\" style=\"max-width: 90%;\">\n      </div>\n      <div class=\"list list-inset\">\n        <label class=\"item item-input\">\n          <input type=\"text\" placeholder=\"用户名\" ng-model=\"user.username\" name=\"username\" required>\n        </label>\n        <label class=\"item item-input\">\n          <input type=\"password\" placeholder=\"密码\" ng-model=\"user.password\" name=\"password\" required>\n        </label>\n      </div>\n      <div class=\"padding\">\n        <button class=\"button button-block button-positive\" ng-disabled=\"!loginForm.$valid || logining\">\n          {{ logining ? \'登录中...\' : \'登录\' }}\n        </button>\n      </div>\n    </form>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/portal-order.html","<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button back-button button-clear header-item\" ng-click=\"orderModal.hide()\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      返回\n    </button>\n    <h1 class=\"title\">排序</h1>\n  </ion-header-bar>\n\n  <ion-content class=\"sets-ctnr\">\n    <div class=\"item item-divider setting-header\">\n      <span>图标</span>\n    </div>\n    <ion-list class=\"list list-avatar-group light-bg\" show-reorder=\"true\">\n      <ion-item class=\"item-avatar\"  ng-repeat=\"app in settings.icon.apps\">\n        <img ng-src=\"{{ app.icon }}\" alt=\"{{ app.title }}\">\n        <h2>{{ app.title }}</h2>\n        <ion-reorder-button class=\"ion-navicon coyness\" on-reorder=\"settings.icon.reorder(app, $fromIndex, $toIndex)\">\n        </ion-reorder-button>\n      </ion-item>\n    </ion-list>\n    <div class=\"item item-divider setting-header\">\n      <span>展示面板</span>\n    </div>\n\n    <ion-list class=\"list list-avatar-group light-bg\" show-reorder=\"true\">\n      <ion-item class=\"item-avatar\"  ng-repeat=\"app in settings.panel.apps\">\n        <img ng-src=\"{{ app.icon }}\" alt=\"{{ app.title }}\">\n        <h2>{{ app.title }}</h2>\n        <ion-reorder-button class=\"ion-navicon coyness\" on-reorder=\"settings.panel.reorder(app, $fromIndex, $toIndex)\">\n        </ion-reorder-button>\n      </ion-item>\n    </ion-list>\n  </ion-content>\n</ion-modal-view>");
$templateCache.put("templates/portal-setting.html","<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button back-button button-clear header-item\"ng-click=\"setModal.hide()\" >\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n    <h1 class=\"title\">设置</h1>\n    <button class=\"button back-button button-clear header-item\" ng-click=\"orderModal.show()\">\n      排序\n    </button>\n  </ion-header-bar>\n\n  <ion-content class=\"sets-ctnr\">\n    <div class=\"item item-divider setting-header\">\n      <span>显示与隐藏</span>\n      <div>\n        <span style=\"margin-right: 10px\">图标</span>\n        <span>展示面板</span>\n      </div>\n    </div>\n      <ion-list class=\"list list-avatar-group light-bg\">\n        <ion-item class=\"item-avatar\"  ng-repeat=\"app in apps\">\n          <img ng-src=\"{{ app.icon }}\" alt=\"{{ app.title }}\">\n          <h2>{{ app.title }}</h2>\n          <div class=\"sets-checkbox\">\n            <label class=\"checkbox\">\n              <input type=\"checkbox\"\n                ng-checked=\"settings.icon.isShow(app)\"\n                ng-click=\"settings.icon.toggleShow($event, app)\"\n                ng-disabled=\"settings.icon.isDisabled(app)\"\n                >\n            </label>\n            <label class=\"checkbox\">\n              <input type=\"checkbox\"\n                ng-checked=\"settings.panel.isShow(app)\"\n                ng-click=\"settings.panel.toggleShow($event, app)\"\n                ng-disabled=\"settings.panel.isDisabled(app)\"\n                >\n            </label>\n          </div>\n        </ion-item>\n      </ion-list>\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/tab-apps.html","<ion-view title=\"门户\" class=\"portal-pane gloomy-bg\" transheader hide-back-button=\"true\">\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button back-button button-clear header-item\" ng-click=\"setModal.show()\">\n      <i class=\"o-portal-settings\"></i>\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <ion-refresher on-refresh=\"refresh()\"></ion-refresher>\n    <div class=\"portal-user-bar\" >\n      <div>\n        <img ng-src=\"{{ user.avatar_middle | fullUrl }}\">\n        <p>{{ user.realname }}</p>\n      </div>\n    </div>\n    \n    <!-- 快捷入口栏 -->\n    <div class=\"portal-quickbar\">\n      <div class=\"row\" ng-repeat=\"partApps in settings.icon.apps | chunkBy:4\">\n        <div class=\"col col-25\" ng-repeat=\"app in partApps track by $index\">\n          <div nav-direction=\"forward\" ui-sref=\"{{ app.state }}\">\n            <img ng-src=\"{{ app.icon }}\" alt=\"{{ app.title }}\">\n            <p>{{ app.title }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"list portal-block portal-{{ app.name }}\" ng-include=\"\'portal-\' +  app.name + \'-panel\'\" ng-repeat=\"app in settings.panel.apps\">\n    </div>\n\n    <div class=\"portal-empty text-center light-bg\" ng-if=\"!settings.panel.apps.length\">\n      <i class=\"portal-empty-icon\"></i>\n      <p>展示常用的模块，可以提高工作效率哦~</p>\n    </div>\n\n    <div class=\"portal-footer text-center\">\n      <i class=\"footer-logo\"></i>\n      <copyright></copyright>\n    </div>\n  </ion-content>\n</ion-view>\n\n<!-- 门户：日志 -->\n<script type=\"text/ng-template\" id=\"portal-diary-panel\">\n  <div ng-controller=\"AppsDiaryCtrl\" class=\"light-bg\">\n    <div class=\"item item-divider\">\n      <img src=\"./img/modicon/diary.png\">\n      日志\n      <span class=\"item-note positive\" ui-sref=\"diary.create\" nav-direction=\"forward\">\n        <i class=\"ion-ios-compose-outline\"></i> 新建\n      </span>\n    </div>\n    <!-- 暂时不显示评阅跟已关注 \n    <div class=\"tabs text-center\">\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'personal\' }\" ng-click=\"tab(\'personal\')\">我的</div>\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'review\' }\" ng-click=\"tab(\'review\')\">评阅</div>\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'follow\' }\" ng-click=\"tab(\'follow\')\">已关注</div>\n    </div>\n    -->\n\n    <!-- 我的 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'personal\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"personal.loading\">日志加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!personal.loading && !(personal.list && personal.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        你还没有日志哦~\n      </div>\n      <ion-list class=\"list list-avatar-group\" ng-if=\"personal.list && personal.list.length\">\n        <ion-item class=\"item-avatar\" ng-repeat=\"item in (personal.list | before:4)\" ui-sref=\"diary.detail({ id: item.diaryid })\" nav-direction=\"forward\">\n          <div class=\"item-image\">\n            <p>{{ item.diarytime * 1000 | date:\'M月d日\' }}</p>\n            <h5>{{ item.diarytime * 1000 | date: \'EEEE\'}}</h5>\n          </div>\n          <div class=\"item-note insipid fss\" ng-if=\"item.isreview == 1\">已阅</div>\n          <div class=\"media-body\">\n            <h2>{{ item.content }}</h2>\n            <p>{{ item.addtime * 1000 | date: \'MM-dd HH:mm\' }}</p>\n          </div>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"personal.list.length > 3\" ui-sref=\"diary.personal\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n\n    <!-- 评阅 -->\n    <!--\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'review\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"review.loading\">日志加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!review.loading && !(review.list && review.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        还没有评阅的日志哦~\n      </div>\n      <ion-list class=\"list list-avatar-group\" ng-if=\"review.list && review.list.length\">\n        <ion-item class=\"item-avatar\" ng-repeat=\"item in (review.list | before:4)\" ui-sref=\"diary.reviewDetail({ id: item.diaryid })\" nav-direction=\"forward\">\n          <img ng-src=\"{{ item.uid | userInfo:\'avatar_middle\' | fullUrl }}\">\n          <div class=\"media-body\">\n            <h2>{{ item.content | htmlToPlaintext }}</h2>\n            <p>{{ item.uid | userInfo:\'realname\' }} {{ item.addtime * 1000 | date: \'MM-dd HH:mm\' }}</p>\n          </div>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"review.list.length > 3\" ui-sref=\"diary.review\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n    -->\n\n    <!-- 已关注 -->\n    <!--\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'follow\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"follow.loading\">日志加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!follow.loading && !(follow.list && follow.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        还没有关注日志哦~\n      </div>\n      <ion-list class=\"list list-avatar-group\" ng-if=\"follow.list && follow.list.length\">\n        <ion-item class=\"item-avatar\" ng-repeat=\"item in (follow.list | before:4)\" ui-sref=\"diary.followDetail({ id: item.diaryid })\" nav-direction=\"forward\">\n          <img ng-src=\"{{ item.user.avatar_middle | fullUrl }}\">\n          <div class=\"media-body\">\n            <h2>{{ item.content }}</h2>\n            <p>{{ item.realname }} {{ item.addtime * 1000 | date: \'MM-dd HH:mm\' }}</p>\n          </div>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"follow.list.length > 3\" ui-sref=\"diary.follow\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n    -->\n  </div>\n</script>\n\n<!-- 门户：工作流 -->\n<script type=\"text/ng-template\" id=\"portal-workflow-panel\">\n  <div ng-controller=\"AppsWorkflowCtrl\" class=\"light-bg\">\n    <div class=\"item item-divider\">\n      <img src=\"./img/modicon/workflow.png\">\n      工作流\n      <span class=\"item-note positive\" ui-sref=\"workflow.create\" nav-direction=\"forward\">\n        <i class=\"ion-ios-compose-outline\"></i> 新建\n      </span>\n    </div>\n\n    <div class=\"tabs text-center\">\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'todo\' }\" ng-click=\"tab(\'todo\')\">待办工作</div>\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'follow\' }\" ng-click=\"tab(\'follow\')\">我关注的</div>\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'done\' }\" ng-click=\"tab(\'done\')\">已完成</div>\n    </div>\n\n    <!-- 待办工作 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'todo\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"todo.loading\">工作流加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!todo.loading && !(todo.list && todo.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        你还没有工作哦~\n      </div>\n      <ion-list class=\"list\" ng-if=\"todo.list && todo.list.length\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (todo.list | before:4)\" ui-sref=\"workflow.handle({ key: item.key })\" nav-direction=\"forward\">\n          <span class=\"item-note insipid fss\">{{ item.flag | wfStatus }}</span>\n          <div>\n            <h2>{{ item.runName }}</h2>\n            <p>\n              <span>【{{ item.opflag == \'1\' ? \'主办\' : \'经办\' }}】</span>\n              {{ item.processtime * 1000 | date: \'MM-dd HH:mm\' }}\n            </p>\n          </div>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"todo.list.length > 3\" ui-sref=\"workflow.todo\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n\n    <!-- 我关注的 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'follow\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"follow.loading\">工作流加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!follow.loading && !(follow.list && follow.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        你还没有工作哦~\n      </div>\n      <ion-list class=\"list\" ng-if=\"follow.list && follow.list.length\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (follow.list | before:4)\" ui-sref=\"workflow.detail({ key: item.key })\" nav-direction=\"forward\">\n          <span class=\"item-note insipid fss\">{{ item.flag | wfStatus }}</span>\n          <div>\n            <h2>{{ item.runName }}</h2>\n            <p>\n              <span>【{{ item.opflag == \'1\' ? \'主办\' : \'经办\' }}】</span>\n              {{ item.processtime * 1000 | date: \'MM-dd HH:mm\' }}\n            </p>\n          </div>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"follow.list.length > 3\" ui-sref=\"workflow.follow\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n\n    <!-- 已完成 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'done\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"done.loading\">工作流加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!done.loading && !(done.list && done.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        你还没有工作哦~\n      </div>\n      <ion-list class=\"list\" ng-if=\"done.list && done.list.length\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (done.list | before:4)\" ui-sref=\"workflow.detail({ key: item.key })\" nav-direction=\"forward\">\n          <span class=\"item-note insipid fss\">{{ item.flag | wfStatus }}</span>\n          <div>\n            <h2>{{ item.runName }}</h2>\n            <p>\n              <span>【{{ item.opflag == \'1\' ? \'主办\' : \'经办\' }}】</span>\n              {{ item.processtime * 1000 | date: \'MM-dd HH:mm\' }}\n            </p>\n          </div>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"done.list.length > 3\" ui-sref=\"workflow.done\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n  </div>\n</script>\n\n<!-- 门户：日程 -->\n<script type=\"text/ng-template\" id=\"portal-calendar-panel\">\n  <div ng-controller=\"AppsCalendarCtrl\" class=\"light-bg\">\n    <div class=\"item item-divider\">\n      <img src=\"./img/modicon/calendar.png\">\n      日程\n      <span class=\"item-note positive\" ui-sref=\"calendar-create\" nav-direction=\"forward\">\n        <i class=\"ion-ios-compose-outline\"></i> 新建\n      </span>\n    </div>\n\n    <div class=\"portal-block-body\">\n      <div class=\"portal-block-placeholder\" ng-if=\"calendar.loading\">日程加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!calendar.loading && !(calendar.list && calendar.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        你还没有日程哦~\n      </div>\n      <ion-list class=\"list\" ng-if=\"calendar.list && calendar.list.length\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (calendar.list | before:4)\" ui-sref=\"calendar-detail({ calendarId: item.calendarid })\" nav-direction=\"forward\">\n          <div class=\"calendar-type\" style=\"background-color: {{ item.category|calendarTheme }}\"></div>\n          <div class=\"item-note insipid fss\" ng-if=\"item.status == \'1\'\">已完成</div>\n          <div>\n            <h2>{{ item.subject }}</h2>\n            <p>\n              <span ng-if=\"item.isalldayevent == \'1\' && !isInterDay(item)\">{{ item.starttime|date:\'MM-dd EEEE\' }} 全天</span>\n              <span ng-if=\"item.isalldayevent == \'1\' && isInterDay(item)\">{{ item.starttime|date:\'MM-dd EEEE\' }} 至 {{ item.endtime|date:\'MM-dd EEEE\' }}</span>\n              <span ng-if=\"item.isalldayevent != \'1\'\">{{ item.starttime|date:\'MM-dd EEEE\' }} {{ item.starttime|date:\'HH:mm\' }} 至 {{ item.endtime|date:\'HH:mm\' }}</span>\n              <span ng-if=\"item.instancetype == 1\"> [周期性日程]</span>\n            </p>\n          </div>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"calendar.list.length > 3\" ui-sref=\"calendar\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n  </div>\n</script>\n\n<!-- 门户：任务指派 -->\n<script type=\"text/ng-template\" id=\"portal-assignment-panel\">\n  <div ng-controller=\"AppsAssignmentCtrl\" class=\"light-bg\">\n    <div class=\"item item-divider\">\n      <img src=\"./img/modicon/assignment.png\">\n      任务指派\n      <span class=\"item-note positive\" ui-sref=\"assignment.create\" nav-direction=\"forward\">\n        <i class=\"ion-ios-compose-outline\"></i> 新建\n      </span>\n    </div>\n\n    <div class=\"tabs text-center\">\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'unfinished\' }\" ng-click=\"tab(\'unfinished\')\">未完成</div>\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'finished\' }\" ng-click=\"tab(\'finished\')\">已完成</div>\n    </div>\n\n    <!-- 未完成 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'unfinished\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"unfinished.loading\">任务加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!unfinished.loading && !(unfinished.list && unfinished.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        你还没有任务哦~\n      </div>\n      <ion-list class=\"list\" ng-if=\"unfinished.list && unfinished.list.length\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (unfinished.list | before:4)\" ui-sref=\"assignment.detail({ id: item.assignmentid })\" nav-direction=\"forward\">\n          <div class=\"item-note insipid fss\">{{ item.status | asmStatusText }}</div>\n          <h2>{{ item.subject }}</h2>\n          <p>\n            {{item.designeeuid|userInfo:\'realname\'}} 指派给 我&nbsp;&nbsp;{{ item.addtime | date:\'MM-dd HH:mm\' }}\n            &nbsp;\n            <small class=\"assertive\" ng-if=\"isOverdue(item)\">[已过期]</small>\n            <small class=\"positive\" ng-if=\"haveRemind(item)\">[已设提醒]</small>\n          </p>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"unfinished.list.length > 3\" ui-sref=\"assignment.unfinished\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n\n    <!-- 已完成 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'finished\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"finished.loading\">任务加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!finished.loading && !(finished.list && finished.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        你还没有任务哦~\n      </div>\n      <ion-list class=\"list\" ng-if=\"finished.list && finished.list.length\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (finished.list | before:4)\" ui-sref=\"assignment.detail({ id: item.assignmentid })\" nav-direction=\"forward\">\n          <h2>{{ item.subject }}</h2>\n          <p>\n            {{item.designeeuid|userInfo:\'realname\'}} 指派给 我&nbsp;&nbsp;{{ item.addtime | date:\'MM-dd HH:mm\' }}\n          </p>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"finished.list.length > 3\" ui-sref=\"assignment.finished\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n  </div>\n</script>\n\n<!-- 门户：主线 -->\n<!--\n<script type=\"text/ng-template\" id=\"portal-thread-panel\">\n  <div>\n    <div class=\"item item-divider\">\n      <img src=\"./img/modicon/thread.png\">\n      主线\n     <span class=\"item-note\">\n       <span>全部</span>\n       <i class=\"ion-chevron-right\"></i>\n     </span>\n    </div>\n\n    <div class=\"light-bg\">\n      <ion-list class=\"list list-avatar-group indent\" >\n\n        <ion-item class=\"item-avatar\">\n          <div class=\"media-body\">\n            <h2>IBOS门户-排版</h2>\n            <div class=\"progress-bar\">\n              <div class=\"progress-ctnr\">\n                <div class=\"progress-bg\">\n                  <div class=\"progress-active\" style=\"width: 66%;\"></div>\n                </div>\n              </div>\n              <span class=\"positive\">66%</span>\n            </div>\n            <p>06-14 16:00 </p>\n          </div>\n        </ion-item>\n\n      </ion-list>\n    </div>\n  </div>\n</script>\n-->\n\n<!-- 门户：公文 -->\n<script type=\"text/ng-template\" id=\"portal-docs-panel\">\n  <div ng-controller=\"AppsDocsCtrl\" class=\"light-bg\">\n    <div class=\"item item-divider\">\n      <img src=\"./img/modicon/docs.png\">\n      公文\n    </div>\n\n    <div class=\"tabs text-center\">\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'unsigned\' }\" ng-click=\"tab(\'unsigned\')\">未签收</div>\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'published\' }\" ng-click=\"tab(\'published\')\">已发布</div>\n    </div>\n\n    <!-- 未签收 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'unsigned\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"unsigned.loading\">公文加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!unsigned.loading && !(unsigned.list && unsigned.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        没有未签收的公文哦~\n      </div>\n      <ion-list class=\"list\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (unsigned.list | before:4)\" ui-sref=\"docs.detail({ id: item.docid })\" nav-direction=\"forward\">\n          <h2>{{ item.subject }}</h2>\n          <p>{{ item.author }} <span ng-bind-html=\"item.uptime\"></span> </p>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"unsigned.list.length > 3\" ui-sref=\"docs.unsigned\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n\n    <!-- 已发布 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'published\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"published.loading\">公文加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!published.loading && !(published.list && published.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        没有已发布的公文哦~\n      </div>\n      <ion-list class=\"list\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (published.list | before:4)\" ui-sref=\"docs.detail({ id: item.docid })\" nav-direction=\"forward\">\n          <div class=\"item-note insipid fss\" ng-if=\"item.signStatus == 0\">未签收</div>\n          <h2>{{ item.subject }}</h2>\n          <p>{{ item.author }} <span ng-bind-html=\"item.uptime\"></span> </p>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"published.list.length > 3\" ui-sref=\"docs.published\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n  </div>\n</script>\n\n<!-- 门户：信息中心 -->\n<script type=\"text/ng-template\" id=\"portal-news-panel\">\n  <div ng-controller=\"AppsNewsCtrl\" class=\"light-bg\">\n    <div class=\"item item-divider\">\n      <img src=\"./img/modicon/news.png\">\n      信息中心\n    </div>\n\n    <div class=\"tabs text-center\">\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'unread\' }\" ng-click=\"tab(\'unread\')\">未读</div>\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'published\' }\" ng-click=\"tab(\'published\')\">已发布</div>\n    </div>\n\n    <!-- 未读 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'unread\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"unread.loading\">新闻加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!unread.loading && !(unread.list && unread.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        没有未读的新闻哦~\n      </div>\n      <ion-list class=\"list\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (unread.list | before:4)\" ui-sref=\"news.detail({ id: item.articleid })\" nav-direction=\"forward\">\n          <h2>{{ item.subject }}</h2>\n          <p>{{ item.author }} {{ item.uptime }} </p>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"unread.list.length > 3\" ui-sref=\"news.unread\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n\n    <!-- 已发布 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'published\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"published.loading\">新闻加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!published.loading && !(published.list && published.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        没有未读的新闻哦~\n      </div>\n      <ion-list class=\"list\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (published.list | before:4)\" ui-sref=\"news.detail({ id: item.articleid })\" nav-direction=\"forward\">\n          <div class=\"item-note insipid fss\" ng-if=\"item.readStatus != \'1\'\">未读</div>\n          <h2>{{ item.subject }}</h2>\n          <p>{{ item.author }} {{ item.uptime }} </p>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"published.list.length > 3\" ui-sref=\"news.published\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n  </div>\n</script>\n\n<!-- 门户：邮件 -->\n<script type=\"text/ng-template\" id=\"portal-email-panel\">\n  <div ng-controller=\"AppsEmailCtrl\" class=\"light-bg\">\n    <div class=\"item item-divider\">\n      <img src=\"./img/modicon/email.png\">\n      邮件\n      <span class=\"item-note positive\" ui-sref=\"email.create\" nav-direction=\"forward\">\n        <i class=\"ion-ios-compose-outline\"></i> 新建\n      </span>\n    </div>\n\n    <div class=\"tabs text-center\">\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'inbox\' }\" ng-click=\"tab(\'inbox\')\">收件箱</div>\n      <div class=\"tab-item\" ng-class=\"{ \'active\': tabOn == \'todo\' }\" ng-click=\"tab(\'todo\')\">待办邮件</div>\n    </div>\n\n    <!-- 收件箱 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'inbox\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"inbox.loading\">邮件加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!inbox.loading && !(inbox.list && inbox.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        没有收到的邮件哦~\n      </div>\n      <ion-list class=\"list\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (inbox.list | before:4)\" ui-sref=\"email.detail({ id: item.emailid })\" nav-direction=\"forward\">\n          <span class=\"item-note insipid fss\" ng-if=\"item.isread != \'1\'\">未读</span>\n          <h2>{{ item.subject }}</h2>\n          <p>{{ item.fromuser }} {{ item.sendtime | date:\'MM-dd HH:mm\' }}</p>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"inbox.list.length > 3\" ui-sref=\"email.inbox\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n\n    <!-- 待办邮件 -->\n    <div class=\"portal-block-body\" ng-if=\"tabOn == \'todo\'\">\n      <div class=\"portal-block-placeholder\" ng-if=\"todo.loading\">邮件加载中...</div>\n      <div class=\"portal-block-placeholder\" ng-if=\"!todo.loading && !(todo.list && todo.list.length)\">\n        <i class=\"o-partal-mod-empty\"></i>\n        没有待办的邮件哦~\n      </div>\n      <ion-list class=\"list\">\n        <ion-item class=\"item-indent\" ng-repeat=\"item in (todo.list | before:4)\" ui-sref=\"email.detail({ id: item.emailid })\" nav-direction=\"forward\">\n          <span class=\"item-note insipid fss\" ng-if=\"item.isread != \'1\'\">未读</span>\n          <h2>{{ item.subject }}</h2>\n          <p>{{ item.fromuser }} {{ item.sendtime | date:\'MM-dd HH:mm\' }}</p>\n        </ion-item>\n        <div class=\"item text-center item-complex\" ng-if=\"todo.list.length > 3\" ui-sref=\"email.todo\" nav-direction=\"forward\">\n          <a class=\"item-content\">\n            查看所有\n            <i class=\"ion-ios-arrow-right\"></i>\n          </a>\n        </div>\n      </ion-list>\n    </div>\n  </div>\n</script>\n\n<!-- 门户：文件柜 -->\n<script type=\"text/ng-template\" id=\"portal-cabinet-panel\">\n  <div>\n    <div class=\"item item-divider\">\n      <img src=\"./img/modicon/cabinet.png\">\n      文件柜\n    </div>\n\n    <!-- \n    <div class=\"portal-netdisk light-bg\">\n      <ion-list class=\"list list-avatar-group\" >\n        <ion-item class=\"item-avatar\">\n          <img src=\"./img/portalIcons/netdisk-corporation.png\" style=\"width: 30px; height: 30px;\">\n          <div class=\"media-body\">\n            <h2>图标集</h2>\n            <p>包子 06-15 18:06</p>\n          </div>\n        </ion-item>\n        <ion-item class=\"item-avatar\">\n          <img src=\"./img/portalIcons/netdisk-self.png\" style=\"width: 30px; height: 30px;\" >\n          <div class=\"media-body\">\n            <h2>学习文档</h2>\n            <p>果子 06-15 18:06</p>\n          </div>\n        </ion-item>\n      </ion-list>\n    </div>\n    -->\n  </div>\n</script>\n\n<script type=\"text/ng-template\" id=\"portal-activity-panel\"></script>\n<script type=\"text/ng-template\" id=\"portal-crm-panel\"></script>\n<script type=\"text/ng-template\" id=\"portal-report-panel\"></script>\n<script type=\"text/ng-template\" id=\"portal-vote-panel\"></script>");
$templateCache.put("templates/tabs.html","<!-- \n  Create tabs with an icon and label, using the tabs-positive style. \n  Each tab\'s child <ion-nav-view> directive will have its own \n  navigation history that also transitions its views in and out.\n-->\n\n<ion-tabs class=\"tabs-icon-top tabs-item-hide\">\n  \n  <!-- Msgs Tab -->\n  <!-- ion-chatboxes -->\n  <!--\n  <ion-tab title=\"Msgs\" icon=\"icon ion-ios-chatboxes\" href=\"#/tab/msgs\">\n    <ion-nav-view name=\"tab-msgs\"></ion-nav-view>\n  </ion-tab>\n  -->\n\n  <!-- Contacts Tab -->\n  <!-- ion-persion -->\n  <!--\n  <ion-tab title=\"Contacts\" icon=\"icon ion-ios-person\" href=\"#/tab/contacts\">\n    <ion-nav-view name=\"tab-contacts\"></ion-nav-view>\n  </ion-tab>\n  -->\n\n  <!-- Notices Tab -->\n  <!--\n  <ion-tab title=\"Notices\" icon=\"icon ion-ios-cloud\" href=\"#/tab/notices\">\n    <ion-nav-view name=\"tab-notices\"></ion-nav-view>\n  </ion-tab>\n  -->\n\n  <!-- Apps Tab -->\n  <ion-tab title=\"Apps\" icon=\"icon ion-ios-more\" href=\"#/tab/apps\">\n    <ion-nav-view name=\"tab-apps\"></ion-nav-view>\n  </ion-tab>\n\n</ion-tabs>\n");
$templateCache.put("templates/user-select-department-modal.html","<!-- @Template: 部门选择控件 -->\n<ion-modal-view>\n  <ion-header-bar>\n    <h1 class=\"title\">选择部门</h1>\n    <button class=\"button button-icon\" ng-click=\"modal.hide()\">取消</button>\n  </ion-header-bar>\n\n  <ion-content class=\"has-footer\">\n    <ion-list>\n      <div class=\"item item-checkbox item-indent\" ng-if=\"isSelectAllShow()\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" ng-click=\"toggleSelectAll($event)\">\n        </label>\n        <h2 class=\"coyness\">全选</h2>\n      </div>\n      <div class=\"item item-divider\" id=\"userselect_{{usid}}_{{letter}}\" ng-repeat-start=\"(letter, dids) in groups\">{{letter}}</div>\n\n      <div class=\"item item-checkbox\" ng-repeat-end ng-repeat=\"did in dids\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" value=\"{{did}}\" ng-checked=\"isSelected(did)\" ng-click=\"toggleSelect(did)\">\n        </label>\n        {{did|departmentInfo:\'deptname\'}}            \n      </div>\n\n    </ion-list>\n  </ion-content>\n\n  <div class=\"bar bar-footer us-footer-bar\">\n    <div class=\"us-scroll-wrap\">\n      <ion-scroll delegate-handle=\"us-scroll\" direction=\"x\" scrollbar-x=\"false\" >\n        <div class=\"us-selected\">\n          <div class=\"us-selected-item\" ng-repeat=\"id in selected\" ng-click=\"toggleSelect(id)\">\n            <div class=\"us-selected-letter\">{{ id | departmentInfo:\'deptname\' }}</div>\n          </div>\n        </div>\n      </ion-scroll>\n    </div>\n    <div class=\"us-footer-button-bar\">\n      <button type=\"button\" class=\"button button-positive fr\" ng-disabled=\"!selected.length\" ng-click=\"save()\">确定({{ getSelectedCount() }})</button>\n    </div>\n  </div>\n  <div letter=\"userselect_{{usid}}\" class=\"has-header has-footer\"></div>\n</ion-modal-view>");
$templateCache.put("templates/user-select-modal.html","<!-- @Template: 人员选择控件 -->\n<ion-modal-view class=\"gloomy-bg\">\n  <ion-header-bar>\n    <button class=\"button button-icon no-animation\" ng-if=\"paths.length\" ng-click=\"back()\">返回</button>\n    <h1 class=\"title\">选择用户</h1>\n    <button class=\"button button-icon\" ng-click=\"modal.hide()\">取消</button>\n  </ion-header-bar>\n\n  <ion-content class=\"has-footer\" delegate-handle=\"us-modal\">\n    <div class=\"list us-org-list\" ng-if=\"!paths.length || !((departments | isEmpty) && (positions | isEmpty))\">\n      <!-- 首页 -->\n      <div class=\"item item-enter\" ng-if=\"!paths.length\" ng-click=\"openDepartment()\">\n        按部门\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n      <div class=\"item item-enter\" ng-if=\"!paths.length\" ng-click=\"openPosition()\">\n        按岗位\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n\n      <!-- 子部门页面 -->\n      <div class=\"item item-divider\" ng-if=\"paths.length && !(departments | isEmpty)\">部门</div>\n      <div class=\"item item-enter\" ng-if=\"paths.length\" ng-repeat=\"dept in departments\" ng-click=\"openDepartment(dept.deptid)\">\n        {{ dept.deptname }}\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n\n      <!-- 岗位列表 -->\n      <div class=\"item item-divider\" ng-if=\"paths.length && !(positions | isEmpty)\">岗位</div>\n      <div class=\"item item-enter\" ng-if=\"paths.length\" ng-repeat=\"pos in positions\" ng-click=\"openPosition(pos.positionid)\">\n        {{ pos.posname }}\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n    </div>\n    \n    <ion-list>\n      <div class=\"item item-checkbox item-indent\" ng-if=\"isSelectAllShow()\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" ng-click=\"toggleSelectAll($event)\">\n        </label>\n        <h2 class=\"coyness\">全选</h2>\n      </div>\n\n      <div class=\"item item-divider\" id=\"userselect_{{usid}}_{{letter}}\" ng-repeat-start=\"(letter, uids) in groups\">{{letter}}</div>\n\n      <div class=\"item item-checkbox\" ng-repeat-end ng-repeat=\"uid in uids track by $index\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" value=\"{{uid}}\" ng-checked=\"isSelected(uid)\" ng-click=\"toggleSelect(uid)\">\n        </label>\n        {{uid|userInfo:\'realname\'}}\n      </div>\n      <div class=\"list-empty-tip\" ng-if=\"(groups | isEmpty) && (departments | isEmpty) && (positions | isEmpty)\">没有可选择的人员了</div> \n    </ion-list>\n\n    <ion-infinite-scroll \n      on-infinite=\"loadMore()\"\n      ng-if=\"hasLoadMore()\"\n      distance=\"1%\">\n    </ion-infinite-scroll>\n\n  </ion-content>\n  \n  <div class=\"bar bar-footer us-footer-bar\">\n    <div class=\"us-scroll-wrap\">\n      <ion-scroll delegate-handle=\"us-scroll\" direction=\"x\" scrollbar-x=\"false\" >\n        <div class=\"us-selected\">\n          <div class=\"us-selected-item\" ng-repeat=\"uid in selected\" ng-click=\"toggleSelect(uid)\">\n            <img width=\"30\" height=\"30\" avatar=\"{{ uid | userInfo:\'avatar_middle\' | fullUrl }}\" >\n          </div>\n        </div>\n      </ion-scroll>\n    </div>\n    <div class=\"us-footer-button-bar\">\n      <button type=\"button\" class=\"button button-positive fr\" ng-disabled=\"!selected.length\" ng-click=\"save()\">确定({{ getSelectedCount() }})</button>\n    </div>\n  </div>\n\n  <div letter=\"userselect_{{usid}}\" class=\"has-header has-footer\"></div>\n</ion-modal-view>");
$templateCache.put("templates/user-select-position-modal.html","<!-- @Template: 岗位选择控件 -->\n<ion-modal-view>\n  <ion-header-bar>\n    <h1 class=\"title\">选择岗位</h1>\n    <button class=\"button button-icon\" ng-click=\"modal.hide()\">取消</button>\n  </ion-header-bar>\n\n  <ion-content class=\"has-footer\">\n    <ion-list>\n      <div class=\"item item-checkbox item-indent\" ng-if=\"isSelectAllShow()\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" ng-click=\"toggleSelectAll($event)\">\n        </label>\n        <h2 class=\"coyness\">全选</h2>\n      </div>\n      <div class=\"item item-divider\" id=\"userselect_{{usid}}_{{letter}}\" ng-repeat-start=\"(letter, pids) in groups\">{{letter}}</div>\n\n      <div class=\"item item-checkbox\" ng-repeat-end ng-repeat=\"pid in pids\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" value=\"{{pid}}\" ng-checked=\"isSelected(pid)\" ng-click=\"toggleSelect(pid)\">\n        </label>\n        {{pid|positionInfo:\'posname\'}}            \n      </div>\n\n    </ion-list>\n  </ion-content>\n\n  <div class=\"bar bar-footer us-footer-bar\">\n    <div class=\"us-scroll-wrap\">\n      <ion-scroll delegate-handle=\"us-scroll\" direction=\"x\" scrollbar-x=\"false\" >\n        <div class=\"us-selected\">\n          <div class=\"us-selected-item\" ng-repeat=\"id in selected\" ng-click=\"toggleSelect(id)\">\n            <div class=\"us-selected-letter\">{{ id | positionInfo:\'posname\' }}</div>\n          </div>\n        </div>\n      </ion-scroll>\n    </div>\n    <div class=\"us-footer-button-bar\">\n      <button type=\"button\" class=\"button button-positive fr\" ng-disabled=\"!selected.length\" ng-click=\"save()\">确定({{ getSelectedCount() }})</button>\n    </div>\n  </div>\n  <div letter=\"userselect_{{usid}}\" class=\"has-header has-footer\"></div>\n</ion-modal-view>");
$templateCache.put("templates/activity/activity-arrange.html","<ion-view title=\"活动安排\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!hasBackView()\" ui-sref=\"activity.index\">\n      <i class=\"icon ion-ios-arrow-back\"></i> 活动中心\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content class=\"activity-info\">\n    <div class=\"list list-indent\">\n      <div class=\"item item-input item-text-wrap\">\n        <span class=\"input-label\">活动主题</span>\n        <div class=\"input-content\">\n          <span class=\"positive\" ui-sref=\"activity.view({ id: activity.activityid })\">{{ activity.title }}</span>\n        </div>\n      </div>\n\n      <div class=\"item item-input item-text-wrap\" ng-repeat=\"field in fields\">\n        <span class=\"input-label\">{{ field.fieldtitle }}</span>\n        <div class=\"input-content common\">{{ field.value }}</div>\n      </div>\n    </div>\n  </ion-content>\n\n\n</ion-view>");
$templateCache.put("templates/activity/activity-create.html","<form name=\"signUpForm\">\n<ion-view title=\"编辑信息\" class=\"activity-create\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"portal\" ng-if=\"!hasBackView()\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button back-button button-clear header-item button-energized\" ng-disabled=\"signUpForm.$invalid\" ng-click=\"save()\">\n      提交\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content class=\"activity-info\">\n    <div class=\"list list-indent\">\n      <!-- fieldtype: \n        0 单行文本\n        1 多行文本\n        2 数字\n        3 是否\n      -->\n      <label class=\"item\" ng-repeat-start=\"field in fields\" ng-class=\"{\n        \'item-input\': field.fieldtype == \'0\' || field.fieldtype == \'2\',\n        \'item-toggle\': field.fieldtype == \'3\'\n      }\">\n        <span class=\"input-label\">{{ field.fieldtitle }}</span>\n        <!-- 单行文本或数字 -->\n        <div class=\"input-content\" ng-if=\"field.fieldtype == \'0\' || field.fieldtype == \'2\'\">\n          <input type=\"text\"\n            name=\"{{ field.fieldname }}\"\n            ng-model=\"form[field.fieldname]\"\n            ng-required=\"field.fieldrule == \'1\'\"\n            ng-pattern=\"field.fieldtype == \'2\' ? \'\\\\d*\' : \'\'\"\n            placeholder=\"{{ field.fieldrule == \'1\' ? \'必填\' : \'\' }} {{ field.fieldtype == \'2\' ? \'（数字）\' : \'\' }}\"\n            >\n        </div>\n\n        <!-- 多行文本 -->\n        <textarea ng-if=\"field.fieldtype == \'1\'\"\n          name=\"{{ field.fieldname }}\"\n          ng-model=\"form[field.fieldname]\"\n          ng-required=\"field.fieldrule == \'1\'\"\n          placeholder=\"{{ field.fieldrule == \'1\' ? \'必填\' : \'\' }}\"\n          ></textarea>\n\n        <!-- 是否 -->\n        <label class=\"toggle toggle-positive\" ng-if=\"field.fieldtype == \'3\'\">\n          <input type=\"checkbox\" ng-model=\"form[field.fieldname]\" ng-true-value=\"true\" ng-false-value=\"false\">\n          <div class=\"track\">\n            <div class=\"handle\"></div>\n          </div>\n        </label>\n      </label>\n  \n      <!-- 类型为是否时，出现备注 -->\n      <label class=\"item\" ng-repeat-end ng-if=\"field.fieldtype == \'3\' && form[field.fieldname]\">\n        <span class=\"input-label\">备注</span>\n         <textarea name=\"field.fieldname\" ng-model=\"note[field.fieldname]\"\n            placeholder=\"请输入相关备注信息 {{ field.fieldrule == \'2\' ? \'（必填）\' : \'\'}}\"\n            ng-required=\"field.fieldrule == \'2\'\"\n            ></textarea>\n      </label>\n      \n      <!--\n      <label class=\"item item-input item-input-tip\" ng-if=\"signUpForm[field.fieldname].$invalid\">\n        <span class=\"input-label\"></span>\n        <div class=\"input-content assertive\" ng-if=\"signUpForm[field.fieldname].$error.pattern\">请填写数字</div>\n        <div class=\"input-content assertive\" ng-if=\"signUpForm[field.fieldname].$error.required\">不能为空</div>\n      </label>\n      -->\n    </div>\n\n  </ion-content>\n</ion-view>\n</form>");
$templateCache.put("templates/activity/activity-index.html","<ion-view title=\"活动中心\" hide-back-button=\"true\" class=\"activity-bg subheader-nav-pane\">\n\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\"  ui-sref=\"portal\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n\n  <ion-header-bar class=\"bar-subheader\">\n      <div class=\"subheader-nav subheader-nav-activity row\">\n        <span class=\"col col-50\" ng-class=\"{\'active\': stateName == \'activity.index\'}\" ui-sref=\"activity.index\" nav-direction=\"none\">全部活动</span>\n        <span class=\"col col-50\" ng-class=\"{\'active\': stateName == \'activity.join\'}\" ui-sref=\"activity.join\" nav-direction=\"none\">我参加的</span>\n      </div>\n    </ion-header-bar>\n\n  <ion-content>\n    \n    <ion-refresher on-refresh=\"reload()\"></ion-refresher>\n\n    <!-- 空值 -->\n    <div class=\"list-empty-tip\" ng-if=\"!activity.list.length && !activity.loading\">\n      <p class=\"margin-top20\">这里空空如也~</p>\n    </div>\n\n    <div class=\"list activity-list activity-all-list\">\n      <a class=\"item activity-item\" ng-repeat=\"item in activity.list\" ui-sref=\"activity.view({ id: item.activityid })\"\n        ng-class=\"{ \'activity-item-finish\': item.flag == 3 }\"\n        >\n        <i class=\"activity-signup-stamp\" ng-if=\"stateName != \'activity.join\' && item.issignup\"></i>\n        <div class=\"item-note positive\" ng-if=\"item.flag == 1\">进行中</div>\n        <div class=\"item-note insipid\" ng-if=\"item.flag == 2\">未开始</div>\n        <div class=\"item-note\" ng-if=\"item.flag == 3\">已结束</div>\n        <div class=\"item-note assertive\" ng-if=\"item.flag == 4\">异常</div>\n        <h2>{{ item.title }}</h2>\n        <p>{{ item.updatetime * 1000 | date:\'yyyy年MM月dd日 HH:mm\' }}</p>\n      </a>      \n      <button class=\"button button-full button-clear button-positive no-animation\" ng-click=\"load()\" ng-disabled=\"activity.loading\" ng-if=\"activity.hasMore\">\n        {{ activity.loading ? \'加载中...\' : \'加载更多\' }}\n      </button>\n    </div>\n\n  </ion-content>\n</ion-view>");
$templateCache.put("templates/activity/activity-info.html","<ion-view title=\"我的信息\" class=\"activity-bg\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!hasBackView()\" ui-sref=\"activity.index\">\n      <i class=\"icon ion-ios-arrow-back\"></i> 活动中心\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content class=\"activity-info\">\n    <div class=\"item activity-notice-bar\">您已经报名成功，请继续关注活动后续通知</div>\n    <div class=\"list list-indent activity-list\" ng-repeat=\"info in infos\">\n      <div class=\"padding-vertical\">\n        <label class=\"item item-input\" ng-repeat-start=\"field in info.formdata\">\n          <span class=\"input-label item-text-wrap\">{{ field.fieldtitle }}</span>\n          <div class=\"input-content common\" ng-if=\"field.fieldtype != \'3\'\">{{ field.value || \'无\' }}</div>\n          <!-- 是否 -->\n          <div class=\"input-content common\" ng-if=\"field.fieldtype == \'3\'\">{{ field.value === \'0.\' ? \'否\' : \'是\' }}</div>\n        </label>\n        <label class=\"item item-input\" ng-repeat-end ng-if=\"field.fieldtype == \'3\' && field.value !==\'0.\'\">\n          <span class=\"input-label item-text-wrap\">备注</span>\n          <div class=\"input-content common\">{{ field.value.slice(2) || \'无\' }}</div>\n        </label>\n      </div>\n      <div class=\"item row activity-operate-bar\">\n        <div class=\"col col-50\">\n          <button class=\"button button-small button-block button-outline button-positive fsl\" ui-sref=\"activity.create({ id: activityId, formdataid: info.formdataid })\">编辑</button>\n        </div>\n        <div class=\"col col-50\">\n          <button class=\"button button-small button-block button-assertive fsl\" ng-click=\"removeItem(info)\">删除</button>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"padding\">\n      <div class=\"padding-horizontal\">\n        <button class=\"button button-block button-positive\" ui-sref=\"activity.create({ id: activityId })\">继续报名</button>\n      </div>\n    </div>\n  </ion-content>\n\n</ion-view>");
$templateCache.put("templates/activity/activity-view.html","<ion-view title=\"活动报名\" class=\"activity-bg\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"activity.index\" ng-if=\"!hasBackView()\">\n      <i class=\"icon ion-ios-arrow-back\"></i> 活动中心\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content class=\"activity-view\">\n    <div class=\"item padding-vertical\">\n      <i class=\"activity-signup-stamp\" ng-if=\"item.issignup\"></i>\n      <h2 class=\"fsu\">{{ item.title }}</h2>\n      <p class=\"fsm\">\n        <span ng-if=\"item.flag == \'1\'\" class=\"positive\">活动进行中</span>\n        <span ng-if=\"item.flag == \'2\'\">距活动开始还剩：<span class=\"positive\">{{ item.ndaysleft }}</span></span>\n        <span ng-if=\"item.flag == \'3\'\">活动已结束</span>\n        <span ng-if=\"item.flag == \'4\'\" class=\"assertive\">活动异常</span>\n      </p>\n    </div>\n\n    <div class=\"item row activity-info-bar\" ng-if=\"item.issignup == \'1\'\">\n      <div class=\"col col-50\" ui-sref=\"activity.info({ id: activityId })\">\n        <i class=\"icon-more\"></i>\n        我的报名信息\n      </div>\n      <div class=\"col col-50\" ui-sref=\"activity.arrange({ id: activityId })\">\n        <i class=\"icon-plan\"></i>\n        我的活动安排\n      </div>\n    </div>\n\n    <div class=\"item item-divider\">活动内容</div>\n\n    <div class=\"activity-plan\">\n      <div class=\"item padding-vertical activity-period-item\">\n        <p>时间</p>\n        <span class=\"common\">{{ item.begin * 1000 | date: \'yyyy-MM-dd HH:mm\' }}</span>\n        <span class=\"cut-line\"> 一 </span>\n        <span class=\"common\">{{ item.end * 1000 | date: \'yyyy-MM-dd HH:mm\' }}</span>\n      </div>\n\n      <div class=\"item padding-vertical\">\n        <p>地点</p>\n        <i class=\"item-note o-activity-map\" ng-click=\"openMap()\"></i>\n        <div class=\"common item-text-wrap\">{{ item.address }}</div>\n      </div>\n      \n      <div class=\"item item-text-wrap padding-vertical\">\n        <p>内容</p>\n        <div class=\"activity-content editor-content\" ng-class=\"{ \'unfurl\' : toggleOpen == false }\" ng-bind-html=\"item.content | phoneCrawler | editorContent\">\n        </div>\n      </div>\n    </div>\n\n    <div class=\"item activity-toggle\" ng-click=\"toggleView()\">\n      {{ toggleOpen === true? \'展开详情\': \'收起详情\' }}\n    </div>\n    \n    <div class=\"item item-divider\" ng-if=\"item.attachments && item.attachments.length\">附件</div>\n    <attach-list attach=\"item.attachments\"></attach-list>\n    <div class=\"padding\"></div>\n  </ion-content>\n\n  <!-- 已报名和已结束的都不显示报名按钮 -->\n  <ion-footer-bar class=\"bar-button-full\" ng-class=\"{\'ng-hide\': item.issignup || item.flag == \'3\'}\"> \n    <button class=\"button button-full button-positive\" ui-sref=\"activity.create({ id: item.activityid })\" ng-if=\"item.whethersignup == \'1\'\">\n      参加报名\n    </button>\n    <button class=\"button button-full button-positive\" disabled ng-if=\"item.whethersignup != \'1\'\">\n      未开启报名\n    </button>\n  </ion-footer-bar>\n\n</ion-view>");
$templateCache.put("templates/assignment/assignment-create.html","<ion-view title=\"新建任务\">\n  <ion-nav-buttons side=\"right\">\n    <button type=\"submit\" class=\"button button-clear button-positive\" ng-disabled=\"isDisabledSubmit()\" ng-click=\"save()\">保存</button>\n  </ion-nav-buttons>\n  <form name=\"assignmentForm\">\n    <ion-content>\n\n      <div class=\"list\">\n        <label class=\"item \">\n          <input type=\"text\" class=\"asm-form-subject w100p\" name=\"subject\" ng-model=\"form.subject\" placeholder=\"写下要做的事情...\" required>\n          <span class=\"asm-subject-charcount\"></span>\n          <div class=\"asm-subject-charcount\">还可以输入 <charcount max=\"25\" countdown=\"true\" ng-model=\"form.subject\" ></charcount> 字</div>\n        </label>\n\n        <div class=\"item item-text-wrap item-user-select clearfix\">\n          <span class=\"fl\">负责人：</span>\n          <i class=\"icon ion-ios-plus positive\" ng-model=\"form.chargeuid\" user-selector-trigger max-selection=\"1\"></i>\n          <user-selector ng-model=\"form.chargeuid\" name=\"chargeuid\" ng-value=\"form.chargeuid\" required></user-selector>\n        </div>\n        \n        <div class=\"item item-input\" ng-if=\"showFullForm\">\n          <span class=\"input-label\">开始时间：</span>\n          <input type=\"date\" name=\"starttime\" ng-model=\"form.starttime\" data-tap-disabled=\"true\" required />\n        </div>\n\n        <div class=\"item item-input\">\n          <span class=\"input-label\">结束时间：</span>\n          <!-- 支持 datetime-local 类型时，直接使用 -->\n          <input type=\"date\" name=\"endtime\" ng-model=\"form.endtime\" data-tap-disabled=\"true\" required />\n        </div>\n\n        <div class=\"item item-text-wrap item-user-select clearfix\" ng-if=\"showFullForm\">\n          <span class=\"fl\">参与人：</span>\n          <i class=\"icon ion-ios-plus positive\" ng-model=\"form.participantuid\" user-selector-trigger></i>\n          <user-selector ng-model=\"form.participantuid\" name=\"participantuid\" ng-value=\"form.participantuid\"></user-selector>\n        </div>\n      </div>\n      <div class=\"asm-description\" ng-if=\"showFullForm\">\n        <textarea\n          name=\"description\"\n          ng-model=\"form.description\"\n          class=\"padding-horizontal w100p\"\n          rows=\"3\"\n          placeholder=\"任务详细说明...\"\n        ></textarea>\n        <charcount max=\"140\" ng-model=\"form.description\" class=\"asm-description-charcount\">/140</charcount>  \n      </div>\n      <button type=\"button\" class=\"button button-block button-clear button-positive\" ng-click=\"showFullForm=true\" ng-show=\"!showFullForm\">显示完整表单</button>\n    </ion-content>\n  </form>\n</ion-view>\n");
$templateCache.put("templates/assignment/assignment-detail.html","<ion-view title=\"查看任务\">\n  <ion-content>\n    <img ng-if=\"assignment.stamp != \'0\'\" ng-src=\"{{getStampPath(assignment.stamp)|fullUrl}}\" class=\"asm-stamp\">\n    <div class=\"padding-horizontal\">\n      <!-- 任务状态 -->\n      <span class=\"fr asm-corner-mark energized-bg\" ng-if=\"assignment.status == \'0\'\">未读</span>\n      <span class=\"fr asm-corner-mark positive-bg\" ng-if=\"assignment.status == \'1\'\">进行中</span>\n      <span class=\"fr asm-corner-mark balanced-bg\" ng-if=\"assignment.status == \'2\'\">已完成</span>\n      <span class=\"fr asm-corner-mark assertive-bg\" ng-if=\"assignment.status == \'3\'\">已评价</span>\n      <span class=\"fr asm-corner-mark coyness-bg\" ng-if=\"assignment.status == \'4\'\">已取消</span>\n\n      <h4 class=\"asm-detail-tt\">{{assignment.subject}}</h4>\n      <div class=\"detail-info\">\n        <p>{{assignment.description}}</p>\n        <p>{{assignment.st}} 至 {{assignment.et}}</p>        \n        <small class=\"assertive\" ng-if=\"isOverdue()\">[已过期]</small>\n        <small class=\"positive\" ng-if=\"haveRemind()\">[已设提醒]</small>\n      </div>\n    </div>\n    <div class=\"padding\">\n      <div class=\"asm-dt-bar\">\n        <img ng-src=\"{{assignment.designeeuid|avatar:\'small\'}}\" class=\"asm-dt-avt\">\n        <strong>{{assignment.designeeuid|userInfo:\'realname\'}}</strong>\n        <span class=\"padding-horizontal\">指派给</span>\n        <img ng-src=\"{{assignment.chargeuid|avatar:\'small\'}}\" class=\"asm-dt-avt\">\n        <strong>{{assignment.chargeuid|userInfo:\'realname\'}}</strong>\n      </div>\n\n      <!-- 附件 -->\n      <attach-list attach=\"assignment.attach\" ng-if=\"assignment.attachmentid\" class=\"list-inset\"></attach-list>\n\n      <!-- 参与人员 -->\n      <div ng-if=\"data.participantCount > 0\">\n        <p>另外还有 <span class=\"asm-p-count\">{{data.participantCount}}</span> 个参与人</p>\n        <p>{{data.participant}}</p>\n      </div>\n\n    </div>\n\n    <div class=\"padding\">\n      <!-- 当前用户为指派人或负责人，且任务已读时，允许完成 -->\n      <button type=\"button\"\n        class=\"button button-block button-balanced\"\n        ng-if=\"(isDesignee || isCharge) && assignment.status == 1\"\n        ng-disabled=\"submitting\"\n        ng-click=\"done()\"\n      >完成任务</button>\n      \n      <!-- 当前用户为指派人且任务未读时，允许催办 -->\n      <button type=\"button\"\n        class=\"button button-block button-balanced\"\n        ng-if=\"isDesignee && assignment.status == 0\"\n        ng-disabled=\"submitting\"\n        ng-click=\"urge()\"\n      >催办提醒</button>\n      \n      <!-- 当前用户为指派人，且任务已完成，允许评价 -->\n      <button type=\"button\"\n        class=\"button button-block button-assertive\"\n        ng-if=\"isDesignee && assignment.status == 2\"\n        ng-click=\"stampModal.show()\"\n      >马上评价</button>\n    \n      <!-- 当前用户为指派人或负责人，且任务已完成、已评价、已取消时，允许重启 -->\n      <button type=\"button\"\n        class=\"button button-block\"\n        ng-if=\"(isDesignee || isCharge) && (assignment.status != 0 && assignment.status != 1)\"\n        ng-disabled=\"submitting\"\n        ng-click=\"restart()\"\n      >重启任务</button>\n    </div>\n\n  </ion-content>\n</ion-view>\n\n");
$templateCache.put("templates/assignment/assignment-edit.html","<ion-view title=\"编辑任务\">\n  <ion-nav-buttons side=\"right\">\n    <button type=\"submit\" class=\"button button-clear button-positive\" ng-disabled=\"isDisabledSubmit()\" ng-click=\"save()\">保存</button>\n  </ion-nav-buttons>\n\n  <form name=\"assignmentForm\">\n    <ion-content>\n      <div class=\"list\">\n        <label class=\"item \">\n          <input type=\"text\" class=\"asm-form-subject w100p\" name=\"subject\" ng-model=\"form.subject\" placeholder=\"写下要做的事情...\" required>\n          <span class=\"asm-subject-charcount\"></span>\n          <div class=\"asm-subject-charcount\">还可以输入 <charcount max=\"25\" countdown=\"true\" ng-model=\"form.subject\" ></charcount> 字</div>\n        </label>\n\n        <div class=\"item item-text-wrap item-user-select clearfix\">\n          <span class=\"fl\">负责人：</span>\n          <i class=\"icon ion-ios-plus positive\" ng-model=\"form.chargeuid\" user-selector-trigger max-selection=\"1\"></i>\n          <user-selector ng-model=\"form.chargeuid\" name=\"chargeuid\" ng-value=\"form.chargeuid\" required></user-selector>\n        </div>\n        \n        <label class=\"item item-input\">\n          <span class=\"input-label\">开始时间：</span>\n          <input type=\"date\" name=\"starttime\" ng-model=\"form.starttime\" data-tap-disabled=\"true\" required />\n        </label>\n\n        <label class=\"item item-input\">\n          <span class=\"input-label\">结束时间：</span>\n          <input type=\"date\" name=\"endtime\" ng-model=\"form.endtime\" data-tap-disabled=\"true\" required />\n        </label>\n\n        <div class=\"item item-text-wrap item-user-select clearfix\">\n          <span class=\"fl\">参与人：</span>\n          <i class=\"icon ion-ios-plus positive\" ng-model=\"form.participantuid\" user-selector-trigger></i>\n          <user-selector ng-model=\"form.participantuid\" name=\"participantuid\" ng-value=\"form.participantuid\"></user-selector>\n        </div>\n      </div>\n      <div class=\"asm-description\">\n        <textarea\n          name=\"description\"\n          ng-model=\"form.description\"\n          class=\"padding-horizontal w100p\"\n          rows=\"3\"\n          placeholder=\"任务详细说明...\"\n        ></textarea>\n        <charcount max=\"140\" ng-model=\"form.description\" class=\"asm-description-charcount\">/140</charcount>  \n      </div>\n    </ion-content>\n  </form>\n</ion-view>\n");
$templateCache.put("templates/assignment/assignment-finished.html","<ion-view title=\"已完成\">\n  <ion-content>\n    <ion-refresher\n      on-refresh=\"refresh()\">\n    </ion-refresher>\n    \n    <ion-list>\n      <div class=\"item item-input-inset\">\n        <label class=\"item-input-wrapper\">\n          <input type=\"text\" placeholder=\"搜索关键词\" name=\"keyword\" ng-model=\"prop.keyword\">\n        </label>\n        <button class=\"button button-small button-clear\" ng-click=\"list.search(prop.keyword)\">\n          搜索\n        </button>\n      </div>\n      <div\n        class=\"item item-divider\"\n        ng-repeat-start=\"group in groupedItems\"\n      >\n        {{group.finishDate}}\n      </div>\n      <a class=\"item item-avatar\"\n        ng-repeat=\"item in group.items\"\n        on-hold=\"showMenu(item)\"\n        ui-sref=\"assignment.detail({ id: item.assignmentid })\"\n      >\n        <!-- 自己是指派人 -->\n        <div ng-if=\"isDesignee(item)\">\n          <img ng-src=\"{{item.chargeuid|avatar}}\" class=\"item-image\">\n          <h2>{{item.subject}}</h2>\n          <p>\n            安排给 {{item.chargeuid|userInfo:\'realname\'}}\n            <br>\n            {{item.starttime * 1000|date:\'MM月dd日 HH:mm\'}} - {{item.endtime * 1000|date:\'MM月dd日 HH:mm\'}}\n          </p>\n        </div>\n        <!-- 自己是负责人 -->\n        <div ng-if=\"!isDesignee(item)\">\n          <img ng-src=\"{{item.designeeuid|avatar}}\" class=\"item-image\">\n          <h2>{{item.subject}}</h2>\n          <p>\n            发布人 {{item.designeeuid|userInfo:\'realname\'}}\n            <br>\n            {{item.starttime * 1000|date:\'MM月dd日 HH:mm\'}} - {{item.endtime * 1000|date:\'MM月dd日 HH:mm\'}}\n          </p>\n        </div>\n      </a>\n      <div ng-repeat-end></div>\n    </ion-list>\n    <div class=\"list-empty-tip\" ng-if=\"list.checkNoData()\">\n      暂无已完成的任务\n    </div>\n    <button class=\"button button-full button-clear button-positive\" ng-if=\"list.items.length && list.hasMore\" ng-click=\"list.loadMore()\">加载更多</button>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/assignment/assignment-index.html","<ion-view title=\"任务指派\" >\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!hasBackView()\" ui-sref=\"portal\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear button-positive\" ui-sref=\"assignment.create\"> 新建任务</button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <div class=\"list\">\n      <div class=\"item item-icon-left item-complex\" ui-sref=\"assignment.unfinished\">\n        <a class=\"item-content\" target=\"_self\">\n          <i class=\"icon ion-ios-settings-strong\"></i> 未完成\n        </a>\n      </div>\n      <div class=\"item item-icon-left item-complex\" ui-sref=\"assignment.finished\">\n        <a class=\"item-content\" target=\"_self\">\n          <i class=\"icon ion-ios-checkmark-outline\"></i> 已完成\n        </a>\n      </div>\n\n      <div class=\"item item-divider\">我的下属</div>\n\n      <a class=\"item item-avatar\" ng-repeat=\"user in users\" ui-sref=\"assignment.unfinished({ uid: user.uid })\">\n        <img ng-src=\"{{user.avatar_middle|fullUrl}}\">\n        <span class=\"item-note positive\" ng-click=\"openSubordinateModal($event, user.uid)\" ng-if=\"user.hasSub\">查看下属</span>\n        <h3>{{user.realname}}</h3>\n        <p>{{user.deptname}} · {{user.posname}}</p>\n      </a>\n    </div>\n\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/assignment/assignment-unfinished.html","<ion-view title=\"未完成{{userName}}\">\n  <ion-content>\n    <div class=\"list asm-list\">\n      <!-- 负责的任务 -->\n      <div class=\"item item-divider\">\n        <span ng-if=\"myself\">我</span><span ng-if=\"!myself\">TA</span>负责的任务\n      </div>\n      <ion-item \n        ng-repeat=\"item in data.chargeData\"\n        class=\"item-avatar\"\n        type=\"item-text-wrap\"\n        on-hold=\"showMenu(item)\"\n        ui-sref=\"assignment.detail({id: item.assignmentid})\"\n        ng-if=\"!item.isRemove\"\n        >\n        <img ng-src=\"{{item.designeeuid|avatar}}\">\n        <div>\n          <span class=\"item-note asm-label energized\" ng-if=\"item.status == \'0\'\">未读</span>\n          <span class=\"item-note asm-label positive positive-border\" ng-if=\"item.status == \'1\'\">进行中</span>\n          <span class=\"item-note asm-label balanced balanced-border\" ng-if=\"item.status == \'2\'\">已完成</span>\n          <span class=\"item-note asm-label\" ng-if=\"item.status == \'4\'\">已取消</span>\n          <h2>{{item.subject}}</h2>\n          <p>\n            发起人 {{item.designeeuid|userInfo:\'realname\'}} \n            <small class=\"assertive\" ng-if=\"isOverdue(item)\">[已过期]</small>\n            <small class=\"positive\" ng-if=\"haveRemind(item)\">[已设提醒]</small>\n            <br>\n            {{item.st}} - {{item.et}}\n          </p>\n        </div>\n      </ion-item>\n      <div class=\"item text-center\" ng-if=\"!data.chargeData.length\">暂无负责的任务</div>\n\n      <!-- 指派的任务 -->\n      <div class=\"item item-divider\">\n        <span ng-if=\"myself\">我</span><span ng-if=\"!myself\">TA</span>指派的任务\n      </div>\n      <ion-item \n        ng-repeat=\"item in data.designeeData\"\n        class=\"item-avatar\"\n        type=\"item-text-wrap\"\n        on-hold=\"showMenu(item)\"\n        ui-sref=\"assignment.detail({id: item.assignmentid})\"\n        ng-if=\"!item.isRemove\"\n        >\n        <img ng-src=\"{{item.chargeuid|avatar}}\">\n        <div>\n          <span class=\"item-note asm-label energized\" ng-if=\"item.status == \'0\'\">未读</span>\n          <span class=\"item-note asm-label positive\" ng-if=\"item.status == \'1\'\">进行中</span>\n          <span class=\"item-note asm-label\" ng-if=\"item.status == \'4\'\">已取消</span>\n          <h2>{{item.subject}}</h2>\n          <p>\n            安排给 {{item.chargeuid|userInfo:\'realname\'}}\n            <small class=\"assertive\" ng-if=\"isOverdue(item)\">[已过期]</small>\n            <small class=\"positive\" ng-if=\"haveRemind(item)\">[已设提醒]</small>\n            <br>\n            {{item.st}} - {{item.et}}\n          </p>\n        </div>\n      </ion-item>\n      <div class=\"item text-center\" ng-if=\"!data.designeeData.length\">暂无指派的任务</div>\n\n      <!-- 参与的任务 -->\n      <div class=\"item item-divider\">\n        <span ng-if=\"myself\">我</span><span ng-if=\"!myself\">TA</span>参与的任务\n      </div>\n      <ion-item \n        ng-repeat=\"item in data.participantData\"\n        class=\"item-avatar\"\n        type=\"item-text-wrap\"\n        on-hold=\"showMenu(item)\"\n        ui-sref=\"assignment.detail({id: item.assignmentid})\"\n        ng-if=\"!item.isRemove\"\n        >\n        <img ng-src=\"{{item.chargeuid|avatar}}\">\n        <div>\n          <span class=\"item-note asm-label energized\" ng-if=\"item.status == \'0\'\">未读</span>\n          <span class=\"item-note asm-label positive positive-border\" ng-if=\"item.status == \'1\'\">进行中</span>\n          <span class=\"item-note asm-label\" ng-if=\"item.status == \'4\'\">已取消</span>\n          <h2>{{item.subject}}</h2>\n          <p>\n            负责人 {{item.chargeuid|userInfo:\'realname\'}}\n            <small class=\"assertive\" ng-if=\"isOverdue(item)\">[已过期]</small>\n            <small class=\"positive\" ng-if=\"haveRemind(item)\">[已设提醒]</small>\n            <br>\n            {{item.st}} - {{item.et}}\n          </p>\n        </div>\n      </ion-item>\n      <div class=\"item text-center\" ng-if=\"!data.participantData.length\">暂无参与的任务</div>\n    </div>\n  </ion-content>\n</ion-view>\n\n\n");
$templateCache.put("templates/assignment/cancel-apply-modal.html","<!-- 申请取消模板 -->\n<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button button-icon icon\" ng-click=\"cancelModal.hide()\">取消</button>\n    <h1 class=\"title\">任务取消申请</h1>\n  </ion-header-bar>\n  <ion-content>\n    <form name=\"applyCancelForm\">\n      <div class=\"list\">\n        <textarea name=\"reason\" class=\"padding w100p\" ng-model=\"cancelData.cancelReason\" placeholder=\"说说需要取消的理由...\"  style=\"height: 100px;\" required></textarea>\n      </div>\n      <div class=\"padding\">\n        <button type=\"button\"\n          class=\"button button-positive button-block\"\n          ng-click=\"applyCancel()\"\n          ng-disabled=\"applyCancelForm.$invalid || cancelApplySubmitting\"\n        >\n          <span ng-if=\"cancelApplySubmitting\">提交中...</span>\n          <span ng-if=\"!cancelApplySubmitting\">确定</span>\n        </button>\n      </div>\n    </form>\n  </ion-content>\n</ion-modal-view>\n\n");
$templateCache.put("templates/assignment/deal-cancel-apply.html","<!-- 处理“取消申请” -->\n<div class=\"media\">\n  <img width=\"60\" height=\"60\" ng-src=\"{{data.applyData.uid|avatar}}\" class=\"circle fl\">\n  <div class=\"media-body\">\n    <p><strong>{{data.applyData.uid|userInfo:\'realname\'}}：</strong> {{data.applyData.reason}}</p>\n  </div>\n</div>");
$templateCache.put("templates/assignment/deal-delay-apply.html","<!-- 处理“延期申请” -->\n<div class=\"media\">\n  <img width=\"60\" height=\"60\" ng-src=\"{{data.applyData.uid|avatar}}\" class=\"circle fl\">\n  <div class=\"media-body\">\n    <p><strong>{{data.applyData.uid|userInfo:\'realname\'}}：</strong> {{data.applyData.reason}}</p>\n    <p><strong>延期时间：</strong> {{data.applyData.startTime}} 至 {{data.applyData.endTime}}</p>\n  </div>\n</div>");
$templateCache.put("templates/assignment/delay-apply-modal.html","<!-- 申请延期模板 -->\n<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button button-icon icon\" ng-click=\"delayModal.hide()\">取消</button>\n    <h1 class=\"title\">任务延期申请</h1>\n  </ion-header-bar>\n  <ion-content>\n    <form name=\"applyDelayForm\">\n      <div class=\"list\">\n        <textarea name=\"reason\" class=\"padding w100p\" ng-model=\"delayData.delayReason\" placeholder=\"说说需要延期的理由...\"  style=\"height: 100px;\" required></textarea>\n        <div class=\"item item-input\">\n          <span class=\"input-label\">开始时间</span>\n          <input type=\"date\" name=\"starttime\" ng-model=\"delayData.starttime\" data-tap-disabled=\"true\" required />\n        </div>\n\n        <div class=\"item item-input\">\n          <span class=\"input-label\">结束时间</span>\n          <input type=\"date\" name=\"endtime\" ng-model=\"delayData.endtime\" data-tap-disabled=\"true\" required />\n        </div>\n      </div>\n      <div class=\"padding\">\n        <button type=\"button\"\n          class=\"button button-positive button-block\"\n          ng-click=\"applyDelay(delayData.isDesignee)\"\n          ng-disabled=\"applyDelayForm.$invalid || delayApplySubmitting\"\n        >\n          <span ng-if=\"delayApplySubmitting\">提交中...</span>\n          <span ng-if=\"!delayApplySubmitting\">确定</span>\n        </button>\n      </div>\n    </form>\n  </ion-content>\n</ion-modal-view>\n\n");
$templateCache.put("templates/assignment/remind-modal.html","<!-- 设置提醒模板 -->\n<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button button-icon icon\" ng-click=\"remindModal.hide()\">取消</button>\n    <h1 class=\"title\">设置提醒</h1>\n  </ion-header-bar>\n  <ion-content>\n    <form name=\"remindForm\">\n      <div class=\"list\">\n        <div class=\"item item-input\">\n          <span class=\"input-label\">提醒时间</span>\n          <input type=\"date\" name=\"remindTime\" ng-model=\"remindData.remindTime\" data-tap-disabled=\"true\" required/>\n        </div>\n        <div class=\"item item-input\">\n          <span class=\"input-label\">提醒内容</span>\n          <input type=\"text\" name=\"remindContent\" ng-model=\"remindData.remindContent\">\n        </div>\n      </div>\n      <div class=\"padding\">\n        <button type=\"button\"\n          class=\"button button-positive button-block\"\n          ng-click=\"remind()\"\n          ng-disabled=\"remindForm.$invalid || remindSubmitting\"\n        >\n          <span ng-if=\"remindSubmitting\">提交中...</span>\n          <span ng-if=\"!remindSubmitting\">确定</span>\n        </button>\n      </div>\n    </form>\n  </ion-content>\n</ion-modal-view>\n");
$templateCache.put("templates/assignment/stamp-modal.html","<!-- 图章选择 -->\n<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button button-icon icon\" ng-click=\"stampModal.hide()\">取消</button>\n    <h1 class=\"title\">选择图章</h1>\n  </ion-header-bar>\n  <ion-content>\n  <div class=\"list\">\n    <div class=\"item\" ng-repeat=\"stamp in stamps\" ng-click=\"selectStamp(stamp.value)\">\n      <img ng-src=\"{{stamp.path|fullUrl}}\">\n      <span class=\"item-note\">{{stamp.title}}</span>\n    </div>\n  </div>\n  </ion-content>\n</ion-modal-view>\n\n");
$templateCache.put("templates/assignment/subordinate-modal.html","<!-- 下属列表 -->\n<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button button-icon icon\" ng-click=\"closeSubordinateModal()\" ng-if=\"subordinates.length <= 1\">取消</button>\n    <button class=\"button button-icon icon ion-ios-arrow-back back-button\" ng-click=\"backSubordinateModal()\" ng-if=\"subordinates.length > 1\">\n      返回\n    </button>\n    <h1 class=\"title\">我的下属</h1>\n  </ion-header-bar>\n  <ion-content>\n  <div class=\"list\">\n    <a class=\"item item-avatar\" ng-repeat=\"user in subordinates[subordinates.length-1]\" ui-sref=\"assignment.unfinished({ uid: user.uid })\">\n      <img ng-src=\"{{user.avatar_middle|fullUrl}}\">\n      <!-- 由于 PC 将层级简化成了两级，所以这里不再出现查看下属\n      <span class=\"item-note positive\" ng-click=\"openSubordinateModal($event, user.uid)\" ng-if=\"user.hasSub\">查看下属</span>\n      -->\n      <h3>{{user.realname}}</h3>\n      <p>{{user.deptname}} · {{user.posname}}</p>\n    </a>\n  </div>\n  </ion-content>\n</ion-modal-view>\n\n");
$templateCache.put("templates/cabinet/cabinet-company.html","<ion-view title=\"{{ title || \'公司网盘\' }}\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"portal\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n  \n  <ion-content>\n    <ion-list class=\"cabinet-list\">\n      <div class=\"item item-input-inset\">\n        <label class=\"item-input-wrapper\">\n          <input type=\"text\" placeholder=\"搜索文件\\文件夹\" name=\"keyword\" ng-model=\"keyword\">\n        </label>\n        <button class=\"button button-small button-clear\" ng-click=\"cb.search(keyword)\">\n          搜索\n        </button>\n      </div>\n      <ion-item \n        ng-repeat=\"file in cb.files\"\n        ng-if=\"file.access != 0\"\n        class=\"item item-avatar\"\n        type=\"item-text-wrap\"\n        ng-click=\"cb.open(file)\"\n        on-hold=\"cb.showMenu(file)\">\n        <img ng-if=\"file.thumb\" ng-src=\"{{file.thumb|fullUrl}}\">\n        <img ng-if=\"file.type==\'0\' && !file.thumb\" ng-src=\"{{ file.iconbig | filetypeIcon:\'lt\' }}\">\n        <img ng-if=\"file.type==\'1\' && file.access==\'1\'\" ng-src=\"img/cabinet/folder_lock.png\">\n        <img ng-if=\"file.type==\'1\' && file.access==\'2\'\" ng-src=\"img/cabinet/folder.png\">\n        <div>\n          <h2>{{file.name}}</h2>\n          <p>\n            {{file.addtime*1000|date:\'yyyy-MM-dd HH:mm\'}}\n            <em class=\"item-note\" ng-if=\"file.type==\'0\'\">{{file.size|fileSize}}</em>\n          </p>\n        </div>\n      </ion-item>\n    </ion-list>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/cabinet/cabinet-personal.html","<ion-view title=\"{{ title || \'我的网盘\' }}\" hide-back-button=\"true\">\n  \n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"portal\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n  \n  <ion-content>\n    <ion-list class=\"cabinet-list\">\n      <div class=\"item item-input-inset\">\n        <label class=\"item-input-wrapper\">\n          <input type=\"text\" placeholder=\"搜索文件\\文件夹\" name=\"keyword\" ng-model=\"keyword\">\n        </label>\n        <button class=\"button button-small button-clear\" ng-click=\"cb.search(keyword)\">\n          搜索\n        </button>\n      </div>\n      <ion-item \n        ng-repeat=\"file in cb.files\"\n        class=\"item item-avatar\"\n        type=\"item-text-wrap\"\n        ng-click=\"cb.open(file)\"\n        on-hold=\"cb.showMenu(file)\"\n        >\n        <img ng-if=\"file.thumb\" ng-src=\"{{file.thumb|fullUrl}}\">\n        <img ng-if=\"file.type==\'0\' && !file.thumb\" ng-src=\"{{ file.iconbig | filetypeIcon:\'lt\' }}\">\n        <img ng-if=\"file.type==\'1\'\" ng-src=\"img/cabinet/folder.png\">\n        <div>\n          <h2>{{file.name}}</h2>\n          <p>\n            {{file.addtime*1000|date:\'yyyy-MM-dd HH:mm\'}}\n            <em class=\"item-note\" ng-if=\"file.type==\'0\'\">{{file.size|fileSize}}</em>\n          </p>\n        </div>\n      </ion-item>\n    </ion-list>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/cabinet/cabinet-received.html","<ion-view title=\"{{ title || \'收到的共享\' }}\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"portal\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <ion-list class=\"cabinet-list\">\n      <div class=\"item item-input-inset\">\n        <label class=\"item-input-wrapper\">\n          <input type=\"text\" placeholder=\"搜索用户名\" name=\"keyword\" ng-model=\"keyword\">\n        </label>\n        <button class=\"button button-small button-clear\" ng-click=\"search(keyword)\">\n          搜索\n        </button>\n      </div>\n      <ion-item \n        ng-repeat=\"user in users\"\n        class=\"item item-avatar\"\n        type=\"item-text-wrap\"\n        ui-sref=\"cabinet.user({ fromuid: user.fromuid })\">\n        <img  ng-src=\"{{user.user.avatar_middle|fullUrl}}\">\n        <div>\n          <h2>{{user.user.realname}}</h2>\n          <p>\n            {{user.uptime * 1000|date:\'yyyy-MM-dd\'}}\n          </p>\n        </div>\n      </ion-item>\n    </ion-list>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/cabinet/cabinet.html","<ion-tabs class=\"tabs-icon-top\">\n\n  <!-- Cabinet-Personal Tab -->\n  <ion-tab title=\"我的网盘\" icon=\"icon ion-ios-person\" href=\"#/cabinet/personal\">\n    我的网盘\n    <ion-nav-view name=\"cabinet-personal\"></ion-nav-view>\n  </ion-tab>\n\n  <!-- Cabinet-Company Tab -->\n  <ion-tab title=\"公司网盘\" icon=\"icon ion-ios-cloud\" href=\"#/cabinet/company\">\n    公司网盘\n    <ion-nav-view name=\"cabinet-company\"></ion-nav-view>\n  </ion-tab>\n\n  <!-- Cabinet-Received Tab -->\n  <ion-tab title=\"收到的分享\" icon=\"icon ion-ios-download\" href=\"#/cabinet/received\">\n    收到的分享\n    <ion-nav-view name=\"cabinet-received\"></ion-nav-view>\n  </ion-tab>\n\n</ion-tabs>\n");
$templateCache.put("templates/calendar/calendar.html","<ion-view title=\"{{title}}\" hide-back-button=\"true\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\"  ui-sref=\"portal\"  nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n\n	<ion-nav-buttons side=\"right\">\n    <button class=\"button button-icon button-clear button-positive\" ui-sref=\'calendar-create\'>创建</button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <ion-list class=\"calendar-list\">\n      <div ng-repeat=\"calendar in calendars\">\n        <!-- 日期项 -->\n        <ion-item ng-if=\"calendar.isDateField && calendar.dayFormToday != 0\" class=\"item-divider\">\n          {{calendar.dateField}}\n          <em class=\"item-note\">{{calendar.dayFormToday|dayFormToday}}</em>\n        </ion-item>\n\n        <!-- 当前日期 -->\n        <ion-item ng-if=\"calendar.isDateField && calendar.dayFormToday == 0\" class=\"item-divider positive\" current-date>\n          {{calendar.dateField}}\n          <em class=\"item-note\">{{calendar.dayFormToday|dayFormToday}}</em>\n        </ion-item>\n\n        <!-- 日程项 -->\n        <ion-item ng-if=\"!calendar.isDateField\" ng-class=\"{\n          \'calendar-finish\': calendar.status == \'1\'\n        }\"\n        style=\"border-left-color: {{calendar.category|calendarTheme}}\"\n        ng-href=\"#calendar/{{calendar.calendarid}}\"\n        type=\"item-text-wrap\"\n        >\n          <h2>{{calendar.subject}}</h2>\n          <p ng-if=\"calendar.isalldayevent == 1\">全天</p>\n          <p ng-if=\"calendar.isalldayevent == 0\">\n            {{calendar.starttime|date:\'HH:mm\'}}-{{calendar.endtime|date:\'HH:mm\'}}\n            <span ng-if=\"calendar.instancetype == 1\"> [周期性日程]</span>\n          </p>\n        </ion-item>\n      </div>\n    </ion-list>\n    <div class=\"list-empty-tip\" ng-if=\"calendars.loaded && !calendars.length\">\n      最近没什么安排~\n    </div>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/calendar/detail.html","<ion-view title=\"{{title}}\" hide-back-button=\"true\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-if=\"hasBackView()\" ng-click=\"$ionicGoBack()\"  nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      返回\n    </button>\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!hasBackView()\" ui-sref=\"calendar\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      我的日程\n    </button>\n  </ion-nav-buttons>\n\n  <ion-nav-buttons side=\"right\">\n    <button type=\"submit\"\n      class=\"button button-clear button-positive\"\n      ng-if=\"calendar.editable != 0\"\n      ng-disabled=\"!calendarForm.$valid || isSubmiting\"\n      ng-click=\"submit()\"\n    >保存</button>\n  </ion-nav-buttons>\n\n  <form name=\"calendarForm\" novalidate ng-submit=\"submit()\">\n    <ion-content>\n      <div class=\"padding\">\n          <textarea ng-model=\"calendar.subject\" name=\"title\" row=\"3\" placeholder=\"请输入日程内容\" class=\"w100p\" rows=\"4\" required></textarea>\n      </div>\n\n      <div class=\"list list-inset\">\n        <label class=\"item item-toggle\">\n          全天\n          <label class=\"toggle toggle-balanced\">\n            <input type=\"checkbox\" ng-model=\"calendar.isalldayevent\" ng-true-value=\"\'1\'\" ng-false-value=\"\'0\'\" name=\"allDay\">\n            <div class=\"track\">\n              <div class=\"handle\"></div>\n            </div>\n          </label>\n        </label>\n\n        <label class=\"item item-input\">\n          <span class=\"input-label\">开始日期</span>\n          <input type=\"date\" ng-model=\"calendar.startDate\" name=\"startDate\" required>\n        </label>\n\n        <label class=\"item item-input\" ng-if=\"calendar.isalldayevent == \'1\'\">\n          <span class=\"input-label\">结束日期</span>\n        </label>\n\n        <label class=\"item item-input\" ng-if=\"calendar.isalldayevent == \'0\'\">\n          <span class=\"input-label\">开始时间</span>\n          <input type=\"time\" ng-model=\"calendar.startTime\" name=\"startTime\" required >\n        </label>\n\n        <label class=\"item item-input\" ng-if=\"calendar.isalldayevent == \'0\'\">\n          <span class=\"input-label\">结束时间</span>\n          <input type=\"time\" ng-model=\"calendar.endTime\" name=\"endTime\" required min=\"{{calendar.startTime}}\">\n        </label>\n      </div>\n\n      <div class=\"list list-inset\">\n        <div class=\"item item-input\">\n          <span class=\"input-label\">颜色</span>\n          <calender-colorpicker ng-model=\"calendar.category\" style=\"background-color: {{calendar.category|calendarTheme}}\"></calender-colorpicker>\n        </div>\n      </div>\n    </ion-content>\n    \n    <!-- 底部操作栏，没有权限操作时，给出提示 -->\n    <ion-footer-bar ng-if=\"calendar.editable == 0\">\n      <div class=\"title assertive\">您没有权限编辑该日程</div>\n    </ion-footer-bar>\n\n    <ion-footer-bar ng-if=\"calendar.editable != 0 && calendar.calendarid\">\n      <button type=\"button\" class=\"button button-clear button-assertive\" ng-click=\"remove()\" ng-disabled=\"isSubmiting\">删除</button>\n      \n      <button type=\"button\" \n        class=\"button button-clear button-positive no-animation\"\n        ng-if=\"calendar.status == \'1\'\"\n        ng-disabled=\"isSubmiting\"\n        ng-click=\"unfinish()\"\n      >取消完成</button>\n      \n      <button type=\"button\"\n        class=\"button button-clear button-positive no-animation\"\n        ng-if=\"calendar.status == \'0\'\"\n        ng-disabled=\"isSubmiting\"\n        ng-click=\"finish()\"\n      >设为完成</button>\n    </ion-footer-bar>\n  </form>\n</ion-view>\n");
$templateCache.put("templates/contacts/contact-group-detail.html","<ion-view title=\"{{ corp ? \'企业详情\' : \'部门详情\' }}\" class=\"lightyellow-bg\">\n  <ion-content overflow-scroll=\"true\" class=\"contact-group-info\">\n    <!--企业信息-->\n    <div class=\"item item-thumbnail-left contact-info\" ng-if=\"corp\" style=\"background-image: url({{ corp.bgbig|fullUrl }})\">\n      <div class=\"item-image\">\n        <img ng-src=\"{{corp.logourl | fullUrl }}\" alt=\"{{corp.corpname}}\" ng-if=\"corp.logourl\">\n        <span class=\"dept-img-ctnr\" ng-if=\"!corp.logourl\" > <i class=\"dept-img\"></i></span>\n      </div>\n      <h2><strong>{{ corp.corpname }} </strong></h2>\n    </div>\n\n    <!--部门信息-->\n    <div class=\"item item-thumbnail-left contact-info\" ng-if=\"dept\" style=\"background-image: url({{ dept.bgbig|fullUrl }})\">\n      <div class=\"item-image\">\n        <span class=\"dept-img-ctnr\"> <i class=\"dept-img\"></i></span>\n      </div>\n      <h2> <strong>{{ dept.deptname }}</strong></h2>\n    </div>\n\n    <!--企业信息-->\n    <div class=\"list list-indent contact-info-list\" ng-if=\"corp\" >\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">企业简称</span>\n        {{ (corp.corpname) || \'暂无\' }}\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">系统URL</span>\n        {{ (corp.systemurl) || \'暂无\' }}\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">电话</span>\n        <a href=\"tel:{{corp.phone}}\" class=\"positive\" ng-if=\"!corp.phone\">{{ corp.phone }}</a>\n        <span ng-if=\"!corp.phone\">暂无</span>\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">传真</span>\n        {{ (corp.fax) || \'暂无\' }}\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">地址</span>\n        {{ (corp.address) || \'暂无\' }}\n      </div>\n    </div>\n\n    <!--部门信息-->\n    <div class=\"list list-indent contact-info-list\" ng-if=\"dept\">\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">电话</span>\n        <a href=\"tel:{{ dept.phone }}\" class=\"positive\" ng-if=\"dept.phone\">{{ dept.phone }}</a>\n        <span ng-if=\"!dept.phone\">暂无</span>\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">传真</span>\n        {{ (dept.fax) || \'暂无\'  }}\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">部门主管</span>\n        {{ (dept.managername) || \'暂无\' }}\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">地址</span>\n      {{ (dept.address) || \'暂无\' }}\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">部门职能</span>\n        {{ (dept.func) || \'暂无\' }}\n      </div>\n    </div>\n\n  </ion-content>\n</ion-view>");
$templateCache.put("templates/contacts/contacts-detail.html","<ion-view title=\"联系人详情\" class=\"lightyellow-bg\">\n  <ion-content overflow-scroll=\"true\">\n    <div class=\"item item-thumbnail-left contact-info\" style=\"background-image: url({{ user.bgsmall | fullUrl }})\">\n      <div class=\"item-image\">\n        <img ng-src=\"{{user.uid|avatar:\'big\'}}\" alt=\"{{ user.uid | userInfo: \'realname\' }}\">\n      </div>\n      <h2 class=\"selectable\">\n        <strong>{{ user.uid | userInfo: \'realname\' }}</strong>\n        <i class=\"icon-men\" ng-class=\"{\'icon-women\': user.gender === \'0\'}\"></i>\n      </h2>\n\n     <div class=\"common\">\n       <span >{{ user.uid | userInfo: \'deptname\' }}</span>\n       <span ng-if=\"(user.uid | userInfo: \'posname\') && (user.uid | userInfo: \'deptname\')\"> • </span>\n       <span>{{ user.uid | userInfo: \'posname\'}} </span>\n       <span ng-if=\"(!( user.uid | userInfo: \'deptname\' ) && !(user.uid | userInfo: \'posname\') && !(user.uid | userInfo: \'deptname\') )\"> 暂无 </span>\n     </div>\n    </div>\n\n    <div class=\"list list-indent contact-info-list\">\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">手机</span>\n        <a href=\"tel:{{ user.phone }}\" class=\"positive\" ng-if=\"user.phone\">{{ user.phone }}</a>\n        <span ng-if=\"!user.phone\">暂无</span>\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">QQ</span>\n        {{( user.qq ) || \'暂无\' }}\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">邮箱</span>\n        <a href=\"mailto:{{ user.email }}\" class=\"positive\" ng-if=\"user.email\">{{ user.email }}</a>\n        <span ng-if=\"!user.email\">暂无</span>\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">生日</span>\n        <span ng-if=\"user.birthday !==\'0\' && user.birthday !== \'\' \">{{ user.birthday | date : \'yyyy-MM-dd\'}}</span>\n        <span ng-if=\"user.birthday === \'\' || user.birthday ===\'0\' \"> 暂无 </span>\n      </div>\n    </div>\n\n    <div class=\"list list-indent contact-info-list\">\n      <div  class=\"item item-input\">\n        <span class=\"input-label\">辅助部门</span>\n        <span class=\"auxiliary\" ng-if=\"user.auxiliarydept.length > 0\">\n        <span ng-repeat=\"item in user.auxiliarydept\">{{ item.deptname}}</span>\n      </span>\n        <span style=\"margin-left: 5px\"  ng-if=\"user.auxiliarydept.length == \'0\'\">暂无</span>\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">辅助岗位</span>\n        <span class=\"auxiliary\" ng-if=\"user.auxiliaryposition.length > 0\">\n          <span ng-repeat=\"item in user.auxiliaryposition\">{{ item.posname }}</span>\n        </span>\n        <span ng-if=\"user.auxiliaryposition.length == \'0\'\">暂无</span>\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">工号</span>\n        {{ (user.jobnumber) || \'暂无\' }}\n      </div>\n    </div>\n  </ion-content>\n</ion-view>");
$templateCache.put("templates/contacts/contacts.html","<ion-view title=\"{{ currentCategory.title || currentCategory.deptname }}\" class=\"lightyellow-bg hidesearchbar\">\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button back-button button-clear header-item\"  ui-sref=\"contacts.group({ id: deptInfo.deptid })\">\n      <i class=\"contact-icon-group\"></i>\n    </button>\n  </ion-nav-buttons>\n\n  <div class=\"bar bar-subheader search-header-bar\" ng-hide=\"search.show == true\" ng-if=\"showsearchbar\" >\n    <button class=\"button button-block button-small fsm button-light\"  ng-click=\"search.key = \'\'; search.show = true\">\n      <i class=\"ion-ios-search fsu vam\"></i>&nbsp;姓名、拼音、工号\n    </button>\n  </div>\n\n  <div class=\"bar bar-subheader item-input-inset search-header-bar\" ng-show=\"search.show == true\" ng-if=\"showsearchbar\">\n    <label class=\"item-input-wrapper\">\n      <i class=\"ion-ios-search fsu coyness\"></i>\n      <input type=\"text\"  placeholder=\"姓名、拼音、工号\" ng-model=\"search.key\" focus-on=\"search.show\" >\n    </label>\n    <button type=\"button\" class=\"button button-positive button-clear\" ng-click=\"search.show = false; search.result = []\">\n      取消\n    </button>\n  </div>\n\n\n  <!--面包屑导航-->\n  <ion-scroll class=\"item-divider padding contact-route breadcrumbs\"\n              direction=\"x\" scrollbar-x=\"false\"\n              delegate-handle=\"contact-breadcrumb-scroll\"\n              ng-class=\"{\n                \'has-header\': !showsearchbar,\n                \'has-subheader\': showsearchbar\n              }\"\n              ng-hide=\"search.show == true\"\n      >\n    <a ng-repeat=\"cate in categorys\" ng-click=\"toCategory($index)\">{{ cate }}</a>\n    <span>{{ currentCategory.deptname}}</span>\n  </ion-scroll>\n\n  <ion-content  delegate-handle=\"contact-list\"  ng-class=\"{\n    \'has-searchbar\': showsearchbar,\n    \'contact-has-subheader\': !showsearchbar || search.show == true\n    }\" >\n\n    <div ng-hide=\"search.show == true\"  >\n      <!--通讯录列表-->\n      <div class=\"contact-list\">\n        <!-- 空值 -->\n        <div class=\"index-empty-tip\" ng-if=\"!users.length && !categories.length \">\n          <i class=\"contact-empty\"></i>\n          <p class=\"margin-top20 coyness\">该部门还没有联系人哟！</p>\n        </div>\n\n        <div class=\"list list-avatar-group\">\n          <div class=\"item item-avatar\" ng-repeat=\"category in categories\" ng-click=\"enterCategory(category)\">\n            <i class=\"icon-section\"></i>\n            <i class=\"item-note ion-ios-arrow-right\"></i>\n            <h2>{{ category.deptname }}</h2>\n            <p>{{ category.deptnum }} 人</p>\n          </div>\n        </div>\n\n        <div class=\"contact-list\" ng-class=\"{\'margin-top20\':deptInfo.depts.length > 0 }\">\n          <div class=\"list list-avatar-group\">\n            <div class=\"item item-avatar\" ng-repeat=\"user in users\" ui-sref=\"contacts.detail({ id: user.uid })\">\n              <img ng-src=\"{{ user.uid | userInfo:\'avatar_middle\' | fullUrl }}\">\n              <h2>{{ user.uid | userInfo:\'realname\' }}</h2>\n              <span class=\"contact-label\" ng-if=\"user.isadmin\">主管</span>\n              <p>{{ (user.uid | userInfo:\'posname\') || \'暂无\' }}</p>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n\n    <!--搜索结果列表-->\n    <div ng-show=\"search.show == true\" >\n      <!-- if(有搜索结果): -->\n      <div class=\"contact-list\">\n        <div class=\"list list-avatar-group\" ng-if=\"search.result.length\">\n          <div class=\"item item-avatar\" ng-repeat=\"user in search.result\" ui-sref=\"contacts.detail({ id: user.uid })\">\n            <img ng-src=\"{{ user.uid | userInfo:\'avatar_middle\' | fullUrl }}\">\n            <h2>{{ user.uid | userInfo:\'realname\' }}</h2>\n            <span class=\"contact-label\" ng-if=\"user.isadmin\">主管</span>\n            <p>{{ (user.uid | userInfo:\'posname\') || \'暂无\' }}</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- elseif(未开始搜索): -->\n      <div\n          class=\"margin-top margin-bottom padding text-center coyness\"\n          ng-if=\"!search.result.length && !search.key && !search.searching\"\n          >请输入姓名、拼音或工号进行搜索~\n      </div>\n\n      <!-- elseif(搜索中): -->\n      <div\n          class=\"margin-top margin-bottom padding text-center coyness\"\n          ng-if=\"search.searching && !search.result.length\"\n          >搜索中...\n      </div>\n\n      <!-- elseif(没有搜索结果): -->\n      <div\n          class=\"margin-top margin-bottom padding text-center coyness\"\n          ng-if=\"search.key && !search.searching && !search.result.length\"\n          >没有找到相关的联系人~\n      </div>\n      <!-- endif; -->\n    </div>\n\n  </ion-content>\n  <!--<div letter=\"contact_\"></div>-->\n</ion-view>");
$templateCache.put("templates/crm/attach-modal.html","<ion-modal-view class=\"crm-attach-modal\" ng-click=\"clientAttachModal.hide()\">\n  \n  <div class=\"crm-tabs\">\n    <div class=\"row\">\n      <div class=\"col col-25\"\n        ng-if=\"__attachOpts.newEvent\"\n        ui-sref=\"crm.addEvent(__attachOpts.params)\"\n        ng-click=\"clientAttachModal.hide()\"\n        >\n        <div class=\"crm-fab crm-fab-outline\">\n          <i class=\"icon-attach-event\"></i>\n        </div>\n        <p>新建跟进</p>\n      </div>\n\n      <div class=\"col col-25\"\n        ng-if=\"__attachOpts.newContact\"\n        ui-sref=\"crm.addContact(__attachOpts.params)\"\n        ng-click=\"clientAttachModal.hide()\">\n        <div class=\"crm-fab crm-fab-outline\">\n          <i class=\"icon-attach-contact\"></i>\n        </div>\n        <p>新建联系人</p>\n      </div>\n\n      <div class=\"col col-25\" \n        ng-if=\"__attachOpts.attachContact\"\n        ng-click=\"selectContact();clientAttachModal.hide()\">\n        <div class=\"crm-fab crm-fab-outline\">\n          <i class=\"icon-attach-contact-link\"></i>\n        </div>\n        <p>关联联系人</p>\n      </div>\n      \n      <div class=\"col col-25\"\n        ng-if=\"__attachOpts.newOpp\"\n        ui-sref=\"crm.addOpportunity(__attachOpts.params)\"\n        ng-click=\"clientAttachModal.hide()\"\n        >\n        <div class=\"crm-fab crm-fab-outline\">\n          <i class=\"icon-attach-opportunity\"></i>\n        </div>\n        <p>新建商机</p>\n      </div>\n    </div>\n  </div>\n  \n</ion-modal-view>");
$templateCache.put("templates/crm/client-form.html","<form name=\"clientForm\">\n<ion-view title=\"{{ stateName === \'crm.addClient\' ? \'新建客户\' : \'编辑客户\' }}\" hide-nav-bar=\"true\" class=\"crm-bg\">\n  <!-- <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button default-nav-back-button ng-click=\"goBack()\">{{ backTitle() }}</ion-nav-back-button>\n  </ion-nav-bar> -->\n\n  <!-- <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item\" ng-click=\"submit()\" ng-disabled=\"clientForm.$invalid\">完成</button>\n  </ion-nav-buttons> -->\n\n  <ion-content class=\"crm-cm-form\">\n    <div class=\"padding\"></div>\n\n    <div class=\"list\">\n      <label class=\"item item-input item-indent\">\n        <span class=\"input-label\">公司<span class=\"assertive\">*</span></span>\n        <input type=\"text\" placeholder=\"请输入客户公司名称\" ng-blur=\"likeFullNamesNotShow()\" ng-focus=\"likeFullNamesShow()\" ng-change=\"checkLikeFullName(form.fullname)\" name=\"fullname\" ng-model=\"form.fullname\" required>\n      </label>\n      <label class=\"crm-like-fullname\"  ng-if=\"likeFullNamesShowValue\">\n        <div class=\"clearfix\" style=\"padding: 2%\" ng-repeat=\"x in form.likefullnames\">\n          <div style=\"float: left\">{{x.fullname}}</div>\n          <div style=\"float: right\">({{x.realname}})</div>\n        </div>\n      </label>\n      <label class=\"item item-input item-indent\">\n        <span class=\"input-label\">电话</span>\n        <input type=\"text\" placeholder=\"请输入电话号码\" name=\"phone\" ng-model=\"form.phone\">\n      </label>\n      <!-- @Todo -->\n      <!--\n      <label class=\"item item-input item-indent\">\n        <span class=\"input-label\">归属人</span>\n        <input type=\"text\">\n      </label>\n      -->\n\n      <!--选择客户信息-->\n      <!-- 标签组 -->\n      <div class=\"item item-input item-select item-indent item-enter\" ng-repeat=\"tagGroup in tagGroups\">\n        <span class=\"input-label\">{{ tagGroup.name }}</span>\n        <select ng-options=\"tag.tagid as tag.name for tag in tagGroup.taglist\"\n          ng-model=\"form.tags[tagGroup.groupid]\">\n        </select>\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n    </div>\n\n    <div class=\"list\">\n      <crm-contact-item ng-repeat=\"contact in form.contacts\" contact=\"contact\" mode=\"edit\" on-remove=\"detachContact(contact)\">\n      </crm-contact-item>\n      <div class=\"item padding-vertical text-center\" ng-click=\"attachContact()\">\n        <i class=\"ion-plus vam\"></i>&nbsp;\n        添加关联联系人\n      </div>\n    </div>\n    \n    <div class=\"list\" ng-if=\"!isClientInfoShowed\">\n      <div class=\"item text-center padding-vertical\" ng-click=\"addMoreInfo()\">\n        <i class=\"crm-icon-chevron-dd\"></i>\n        填写更多\n      </div>\n    </div>\n\n    <!--填写更多工作信息-->\n    <div class=\"list\" ng-if=\"isClientInfoShowed\">\n      <label class=\"item item-input item-indent\">\n        <span class=\"input-label\">邮箱</span>\n        <input type=\"text\" placeholder=\"请输入邮箱\" name=\"email\" ng-model=\"form.email\">\n      </label>\n      <div class=\"item item-input item-indent\">\n        <span class=\"input-label\">地址</span>\n        <input type=\"text\" placeholder=\"请输入地址\" name=\"address\" ng-model=\"form.address\">\n        <address-fetcher class=\"item-note padding-horizontal\" ng-model=\"form.address\">\n          <i class=\"crm-icon36-location\" ng-class=\"{\'animated infinite flash\': $parent.locationing }\"></i>\n        </address-fetcher>\n      </div>\n      <label class=\"item item-input item-indent\">\n        <span class=\"input-label\">邮编</span>\n        <input type=\"text\" placeholder=\"邮编\" name=\"zipcode\" ng-model=\"form.zipcode\">\n      </label>\n      <label class=\"item item-input item-indent\">\n        <span class=\"input-label\">网址</span>\n        <input type=\"text\" placeholder=\"请输入网址\" name=\"website\" ng-model=\"form.website\">\n      </label>\n      <!-- @Todo\n      <label class=\"item item-input item-indent\">\n        <span class=\"input-label\">编号</span>\n        <input type=\"text\" placeholder=\"请输入编号\" name=\"website\" ng-model=\"form.website\">\n      </label>\n      -->\n      <label class=\"item item-input item-indent\" style=\"-webkit-align-items: baseline;align-items: baseline;\">\n        <span class=\"input-label\">备注</span>\n        <textarea placeholder=\"请输入备注\" name=\"desc\" ng-model=\"form.desc\" rows=\"4\"></textarea>\n      </label>\n    </div>\n\n    <div class=\"padding-horizontal15\">\n      <button class=\"button button-block button-positive\" ng-disabled=\"clientForm.$invalid\" ng-click=\"submit()\">保存</button>\n    </div>\n    <div class=\"padding-horizontal15\" ng-if=\"stateName === \'crm.editClient\'\">\n      <button class=\"button button-block button-light\" ng-click=\"removeClient()\" ng-disabled=\"!form.canDel\">\n        <span class=\"assertive\" ng-if=\"form.canDel\">删除</span>\n        <small ng-if=\"!form.canDel\">无删除权限</small>\n      </button>\n    </div>\n\n    <div class=\"padding\"></div>\n  </ion-content>  \n</ion-view>\n</form>");
$templateCache.put("templates/crm/client-item.html","<a class=\"item-content\">\n  <span class=\"item-note fss insipid\">\n    {{ client.createtime * 1000 | humanizedDateTime }}\n  </span>\n  <h2>{{ client.name }}</h2>\n  <crm-user uid=\"{{ client.uid }}\"></crm-user>\n  <div class=\"crm-client-item-footer\">\n    <crm-tags-section tags=\"client.tags\"></crm-tags-section>\n  </div>\n</a>");
$templateCache.put("templates/crm/client-search-modal.html","<ion-modal-view>\n  <!-- <div class=\"bar-crm search-header-title-bar\">客户</div> -->\n  <!--搜索框-->\n  <ion-header-bar class=\"item-input-inset search-header-bar\">\n    <label class=\"item-input-wrapper\">\n      <i class=\"ion-ios-search fsu coyness\"></i>\n      <input type=\"text\" placeholder=\"搜索\" ng-model=\"search.key\" focus-on=\"search.modal.isShown()\" focus-delay=\"200\">\n    </label>\n    <button type=\"button\" class=\"button button-positive button-clear\"  ng-click=\"search.modal.hide()\">\n      取消\n    </button>\n  </ion-header-bar>\n\n  <ion-content>\n    <!-- if(有搜索结果): -->\n    <div class=\"list\" ng-if=\"search.result.list.length\">\n      <div class=\"item item-complex item-text-wrap crm-common-item\"\n        ng-repeat=\"client in search.result.list\"\n        ng-click=\"search.modal.hide()\"\n        ng-include=\"\'templates/crm/client-item.html\'\"\n        ui-sref=\"crm.clientView(client)\">\n      </div>\n    </div>\n\n    <!-- elseif(未开始搜索): -->\n    <div class=\"margin-top margin-bottom padding text-center coyness\"\n        ng-if=\"!search.result.list.length && !search.key && !search.searching\"\n        >请输入标题或内容进行搜索~\n    </div>\n\n    <!-- elseif(搜索中): -->\n    <div class=\"margin-top margin-bottom padding text-center coyness\"\n        ng-if=\"search.searching && !search.result.list.length\"\n        >搜索中...\n    </div>\n\n    <!-- elseif(没有搜索结果): -->\n    <div class=\"margin-top margin-bottom padding text-center coyness\"\n        ng-if=\"search.key && !search.searching && !search.result.list.length\"\n        >没有找到相关客户~\n    </div>\n    <!-- endif; -->\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/crm/client-view.html","<ion-view title=\"客户信息\" class=\"crm-bg\" hide-nav-bar=\"true\">\n  <!--\n  <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button></ion-nav-back-button>\n  </ion-nav-bar>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item button-icon ion-ios-more\" ng-click=\"moreOperation()\">\n    </button>\n  </ion-nav-buttons>\n  -->\n  <ion-content>\n    <!--头部资料-->\n    <div class=\"item item-text-wrap crm-mn-card crm-client-view-header\">\n      <i class=\"item-note ion-ios-plus-outline\" ng-click=\"openAttachModal()\"></i>\n      <div class=\"crm-mn-card-title\">{{ client.fullname || \'----\' }}</div>\n      <div>\n        <span class=\"fss vam\">归属人</span>&nbsp;&nbsp;\n        <crm-user uid=\"{{ client.uid }}\" class=\"crm-user-light\"></crm-user>\n      </div>\n      <div class=\"crm-mn-card-footer\">\n        <i class=\"icon-browser\"></i>\n        <a href=\"{{ client.website | httpPrefix }}\" class=\"fss\" ng-if=\"client.website\">{{ client.website }}</a>\n        <span class=\"fss\" ng-if=\"!client.website\">暂无网址</span>\n      </div>\n    </div>\n\n    <div class=\"crm-nb-tabs row\">\n      <div class=\"col col-33\" ng-class=\"{\'active\':activeTab === \'survey\' }\"  ng-click=\"setClientTab(\'survey\')\">详情</div>\n      <div class=\"col col-33\" ng-class=\"{\'active\':activeTab === \'event\' }\"  ng-click=\"setClientTab(\'event\')\">跟进</div>\n      <div class=\"col col-33\" ng-class=\"{\'active\':activeTab === \'opportunity\' }\"  ng-click=\"setClientTab(\'opportunity\')\">商机</div>\n    </div>\n\n    <!--客户详情-->\n    <div ng-if=\"activeTab === \'survey\'\">\n      <div class=\"item-divider crm-divider\" ng-if=\"client.contacts.length\">联系人</div>\n      <div ng-if=\"client.contacts.length\">\n        <crm-contact-item ng-repeat=\"contact in client.contacts\" contact=\"contact\" mode=\"attach\"></crm-contact-item>\n      </div>\n      \n      <div class=\"item-divider crm-divider\">基本信息</div>\n      <!--选择客户信息-->\n      <div class=\"item item-input item-indent\" ng-repeat=\"tagGroup in tagGroups\">\n        <span class=\"input-label\">{{ tagGroup.name }}</span>\n        <div class=\"input-content text-right\">\n          {{ (tagGroup.taglist | where:{ tagid: client.tags[tagGroup.groupid] })[0].name }}\n        </div>\n        <!-- <select ng-options=\"tag.tagid as tag.name for tag in tagGroup.taglist\"\n          ng-change=\"onTagChange()\"\n          ng-model=\"client.tags[tagGroup.groupid]\"\n          disabled>\n        </select> -->\n      </div>\n\n      <div class=\"item item-input item-indent\" ng-if=\"client.phone\">\n        <span class=\"input-label\">电话</span>\n        <div class=\"input-content text-right\">\n          <a href=\"tel:{{ client.phone }}\" class=\"anchor\">{{ client.phone }}</a>\n        </div>\n      </div>\n      <div class=\"item item-input item-indent\" ng-if=\"client.address\">\n        <span class=\"input-label\">地址</span>\n        <div class=\"input-content text-right\">\n          {{ client.address }}\n        </div>\n      </div>\n\n      <div class=\"item item-input item-indent\" ng-if=\"client.email\">\n        <span class=\"input-label\">邮箱</span>\n        <div class=\"input-content text-right\">\n          <a href=\"mailto:{{ client.email }}\" class=\"anchor\">{{ client.email }}</a>\n        </div>\n      </div>\n\n      <div class=\"item item-input item-indent\" ng-if=\"client.desc\">\n        <span class=\"input-label\">简介</span>\n        <div class=\"input-content text-right\">\n          {{ client.desc }}\n        </div>\n      </div>\n    \n      <div class=\"item-divider crm-divider\" ng-if=\"client.attaches.length\">附件</div>\n      <attach-list attach=\"client.attaches\" ng-if=\"client.attaches.length\"></attach-list>\n\n      <div class=\"padding-vertical padding-horizontal15\" ng-if=\"client.canEdit\" ui-sref=\"crm.editClient({ cid: client.cid })\">\n        <button class=\"button button-block button-positive\">编辑</button>\n      </div>\n    </div>\n\n    <!--客户跟进-->\n    <div ng-if=\"activeTab === \'event\'\">\n      <div class=\"list\">\n        <crm-event-item ng-repeat=\"ev in eventList\" ev=\"ev\">\n        </crm-event-item>\n      </div>\n\n      <crm-empty-tip ng-if=\"!eventList.length\"></crm-empty-tip>\n    </div>\n\n    <!--客户商机-->\n    <div ng-if=\"activeTab === \'opportunity\'\">\n      <!--商机列表-->\n      <div class=\"list\">\n        <crm-opp-item ng-repeat=\"opp in oppList\" opp=\"opp\" ui-sref=\"crm.opportunityView(opp)\"></crm-opp-item>\n      </div>\n      \n      <crm-empty-tip ng-if=\"!oppList.length\"></crm-empty-tip>\n    </div>\n  </ion-content>\n\n</ion-view>");
$templateCache.put("templates/crm/client.html","<ion-view title=\"客户\" class=\"crm-client crm-bg\" hide-nav-bar=\"true\">\n  \n  <!-- <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button default-nav-back-button ng-click=\"goBack()\">{{ backTitle() }}</ion-nav-back-button>\n  </ion-nav-bar>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item button-icon ion-ios-plus-empty\" ui-sref=\"crm.addClient\">\n    </button>\n  </ion-nav-buttons> -->\n  \n  <ion-header-bar search-tab-bar=\"tabs\" search-modal=\"search\" on-tab=\"onTab($tab)\" no-tap-scroll=\"true\">\n  </ion-header-bar>\n\n  <crm-filter filter-groups=\"filterGroups\" on-select=\"selectFilterItem\"></crm-filter>\n  \n  <ion-content class=\"crm-filter-header\">\n    <ion-refresher on-refresh=\"clientList.reload()\"></ion-refresher>\n\n    <!--客户列表-->\n    <div class=\"list\">\n      <div class=\"item item-complex item-text-wrap crm-common-item\"\n        ng-repeat=\"client in clientList.list\"\n        ng-include=\"\'templates/crm/client-item.html\'\"\n        ui-sref=\"crm.clientView(client)\">\n      </div>\n  \n      <div ng-if=\"clientList.hasMore\">\n        <button class=\"button button-clear button-positive button-block no-animation\" ng-click=\"clientList.load()\" ng-disabled=\"clientList.loading\">\n          {{ clientList.loading ? \'加载中...\' : \'加载更多\' }}\n        </button>\n      </div>\n\n      <div class=\"margin-top margin-bottom padding text-center coyness\" ng-if=\"!clientList.hasMore && clientList.list.length\">没有更多了...</div>\n    </div>\n    \n    <crm-empty-tip ng-if=\"!clientList.list.length && !clientList.loading\"></crm-empty-tip>\n  </ion-content>\n\n  <div class=\"fixed-toolbar\">\n    <button class=\"fixed-toolbar-btn button button-positive\" ui-sref=\"crm.addClient\">\n      <i class=\"ion-ios-plus-empty\"></i>\n    </button>\n  </div>\n</ion-view>");
$templateCache.put("templates/crm/contact-form.html","<form name=\"contactForm\">\n<ion-view title=\"{{ stateName === \'crm.addContact\' ? \'新建联系人\' : \'编辑联系人\' }}\" hide-nav-bar=\"true\" class=\"crm-bg\">\n  \n  <!-- <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button default-nav-back-button ng-click=\"goBack()\">{{ backTitle() }}</ion-nav-back-button>\n  </ion-nav-bar>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item\" ng-click=\"submit()\" ng-disabled=\"contactForm.$invalid\">\n      完成\n    </button>\n  </ion-nav-buttons> -->\n\n  <ion-content class=\"crm-cm-form\">\n    <div class=\"padding\"></div>\n    \n    <div class=\"list\">\n      <div class=\"item item-input item-indent\">\n        <span class=\"input-label\">姓名<span class=\"assertive\">*</span></span>\n        <input type=\"text\" placeholder=\"请输入姓名\" name=\"name\" ng-model=\"form.name\" required>\n      </div>\n\n      <div class=\"item item-input item-select item-indent item-enter\">\n        <span class=\"input-label\">性别<span class=\"assertive\">*</span></span>\n        <select ng-model=\"form.gender\" name=\"gender\">\n          <option value=\"0\">男</option>\n          <option value=\"1\">女</option>\n          <option value=\"2\">未知</option>\n        </select>\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n      \n      <!-- 联系方式 -->\n      <div class=\"item item-input item-indent\" ng-repeat=\"extend in form.extends\">\n        <span class=\"input-label\">\n          {{ extend.key | crmContactExtendText }}\n          <span class=\"assertive\" ng-if=\"$first\">*</span>\n        </span>\n        <input type=\"text\" placeholder=\"请输入{{ extend.key | crmContactExtendText }}\" name=\"extend.key\" ng-model=\"extend.value\">\n\n        <!-- 地址字段提供定位 -->\n        <address-fetcher class=\"item-note padding-horizontal\" ng-model=\"extend.value\" ng-if=\"extend.key === \'address\'\">\n          <i class=\"crm-icon36-location\" ng-class=\"{\'animated infinite flash\': $parent.locationing }\"></i>\n        </address-fetcher>\n        \n        <!-- 至少保留一项联系方式 -->\n        <span class=\"item-note padding-horizontal ion-minus-circled assertive\"\n          ng-if=\"form.extends.length > 1\"\n          style=\"font-size: 20px;\"\n          ng-click=\"removeContactWay($index)\"\n          >\n        </span>\n      </div>\n      \n      <div class=\"item text-center padding-vertical\" ng-click=\"contactWayModal.show()\">\n        <i class=\"ion-plus\"></i> 添加联系方式\n      </div>\n    </div>\n  \n    <div class=\"list\">\n      <!-- @Todo: 归属人 -->\n      <div class=\"item item-input item-enter item-indent\" ng-click=\"selectClient()\">\n        <span class=\"input-label\">关联客户<span class=\"assertive\">*</span></span>\n        <div class=\"input-content\">{{ form.client && form.client.fullname }}</div>\n        <i class=\"ion-ios-arrow-right\"></i>\n        <input type=\"hidden\" ng-model=\"form.client\" name=\"client\" required>\n      </div>\n      <div class=\"item item-input item-select item-enter item-indent\" ng-repeat=\"tagGroup in tagGroups\">\n        <span class=\"input-label\">{{ tagGroup.name }}</span>\n        <select ng-options=\"tag.tagid as tag.name for tag in tagGroup.taglist\"\n          ng-model=\"form.tags[tagGroup.groupid]\">\n        </select>\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n    </div>\n\n    <div class=\"list\" ng-if=\"!isContactInfoShowed\">\n      <div class=\"item text-center  padding-vertical\" ng-click=\"showContactInfo()\">\n        <i class=\"crm-icon-chevron-dd\"></i>\n        填写更多\n      </div>\n    </div>\n\n    <div class=\"list\" ng-if=\"isContactInfoShowed\">\n      <div class=\"item item-input item-indent item-enter\">\n        <span class=\"input-label\">生日</span>\n        <input type=\"date\" placeholder=\"请输入联系人生日\" name=\"birthday\" ng-model=\"form.birthday\">\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n\n      <div class=\"item item-input item-indent\">\n        <span class=\"input-label\">部门</span>\n        <input type=\"text\" placeholder=\"请输入联系人部门\" name=\"department\" ng-model=\"form.department\">\n      </div>\n\n      <div class=\"item item-input item-indent\">\n        <span class=\"input-label\">职务</span>\n        <input type=\"text\" placeholder=\"请输入联系人职务\" name=\"position\" ng-model=\"form.position\">\n      </div>\n      <!-- @Todo: 编号 -->\n\n      <div class=\"item item-input item-indent\" style=\"-webkit-align-items: baseline;align-items: baseline;\">\n        <span class=\"input-label\">备注</span>\n        <textarea placeholder=\"请输入备注\" name=\"remark\" ng-model=\"form.remark\" rows=\"4\"></textarea>\n      </div>\n    </div>\n\n    <div class=\"padding-horizontal15\">\n      <button class=\"button button-block button-positive\" ng-click=\"submit()\" ng-disabled=\"contactForm.$invalid\">保存</button>\n    </div>\n  \n    <div class=\"padding-horizontal15\" ng-if=\"stateName === \'crm.editContact\'\">\n      <button class=\"button button-block button-light\" ng-click=\"removeContact()\" ng-disabled=\"!form.canDel\">\n        <span class=\"assertive\" ng-if=\"form.canDel\">删除</span>\n        <small ng-if=\"!form.canDel\">无删除权限</small>\n      </button>\n    </div>\n\n    <div class=\"padding\"></div>\n  </ion-content>\n</ion-view>\n</form>");
$templateCache.put("templates/crm/contact-item.html","<div class=\"item item-complex crm-contact-item item-indent\" ui-sref=\"crm.contactView(contact)\"\n  ng-class=\"{\n    \'item-icon-right\': mode !== \'edit\',\n    \'item-icon-left\': mode === \'edit\'\n  }\"\n  >\n  <a class=\"item-content\">\n    <i class=\"ion-minus-circled icon\" ng-click=\"onRemove()\" ng-if=\"mode === \'edit\'\" stop-propagation=\"click\"></i>\n    <h2>\n      {{ contact.name }}\n      <span class=\"fs09 insipid\" ng-if=\"mode === \'view\'\">\n        <span>{{ contact.department || \'暂无部门\' }} </span> • <span>{{ contact.position || \'暂无岗位\' }}</span>\n      </span>\n      <span ng-if=\"mode !== \'view\'\">\n        <!-- @Todo: 联系人角色：主办人、协办人等 -->\n      </span>\n    </h2>\n\n    <p class=\"fss coyness\" ng-if=\"mode === \'view\'\">\n      <span>{{ contact.client[0].fullname || \'暂无\' }}</span>\n    </p>\n    <p class=\"fss coyness\" ng-if=\"mode !== \'view\'\">\n      <span>{{ contact.department || \'暂无部门\' }} </span> • <span>{{ contact.position || \'暂无岗位\' }}</span>\n    </p>\n  </a>\n  <div class=\"icon\" ng-if=\"mode !== \'edit\'\">\n    <a class=\"ion-ios-telephone contact-telephone\" href=\"tel:{{ contact.mobile }}\" stop-propagation=\"click\"></a>\n  </div>\n</div>\n\n");
$templateCache.put("templates/crm/contact-search-modal.html","<ion-modal-view>\n  <!--搜索框-->\n  <ion-header-bar class=\"item-input-inset search-header-bar\">\n    <label class=\"item-input-wrapper\">\n      <i class=\"ion-ios-search fsu coyness\"></i>\n      <input type=\"text\" placeholder=\"搜索\" ng-model=\"search.key\" focus-on=\"search.modal.isShown()\" focus-delay=\"200\">\n    </label>\n    <button type=\"button\" class=\"button button-positive button-clear\" ng-click=\"search.modal.hide()\">\n      取消\n    </button>\n  </ion-header-bar>\n\n  <ion-content>\n    <!-- if(有搜索结果): -->\n    <ion-list class=\"list-avatar-group\" ng-if=\"search.result.list.length\">\n      <div class=\"item item-divider padding-horizontal15\"\n        ng-repeat-start=\"letter in (search.result.list|groupAndOrder:orderType:orderDesc) as letters\"\n        id=\"crm_contacts_item_{{ letter }}\">\n        {{ letter }}\n      </div>\n\n      <crm-contact-item ng-repeat-end ng-repeat=\"contact in letters.grouped[letter]\" contact=\"contact\" mode=\"view\">\n      </crm-contact-item>\n    </ion-list>\n\n\n    <div class=\"margin-top margin-bottom padding text-center coyness\">\n      <!-- elseif(未开始搜索): -->\n      <span ng-if=\"!search.result.list.length && !search.key && !search.searching\">\n        请输入标题或内容进行搜索~\n      </span>\n      <!-- elseif(搜索中): -->\n      <span ng-if=\"search.searching && !search.result.list.length\">搜索中...</span>\n      <!-- elseif(没有搜索结果): -->\n      <span ng-if=\"search.key && !search.searching && !search.result.list.length\">\n        没有找到相关联系人~\n      </span>\n      <!-- endif; -->\n    </div>\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/crm/contact-view.html","<ion-view title=\"联系人详情\" hide-nav-bar=\"true\" class=\"crm-bg\">\n  \n  <!-- <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button></ion-nav-back-button>\n  </ion-nav-bar>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item button-icon ion-ios-more\" ng-click=\"moreOperation()\">\n    </button>\n  </ion-nav-buttons> -->\n\n  <ion-content class=\"contact-view\">\n    <div class=\"padding\"></div>\n\n    <div class=\"item padding-vertical\">\n      <h2>\n        {{ contact.name }}\n        <i class=\"icon-men\" ng-if=\"contact.gender == \'0\'\"></i>\n        <i class=\"icon-women\" ng-if=\"contact.gender == \'1\'\"></i>\n      </h2>\n      <p class=\"fss inspid\">\n        <span>{{ contact.department || \'暂无部门\' }} </span> • <span>{{ contact.position || \'暂无岗位\' }}</span>\n      </p>\n    </div>\n\n    <div class=\"item item-divider crm-view-item-divider\">基本信息</div>\n    <div class=\"list\">\n      <div class=\"item item-indent item-input\" ng-switch>\n        <span class=\"input-label\">性别</span>\n        <div class=\"input-content text-right\" ng-switch=\"contact.gender\">\n          <span ng-switch-when=\"0\">男</span>\n          <span ng-switch-when=\"1\">女</span>\n          <span ng-switch-default>未知</span>\n        </div>\n      </div>\n      \n      <!-- 联系方式 -->\n      <div class=\"item item-indent item-input\"\n        ng-repeat=\"extend in contact.extends\"\n        ng-if=\"extend.value\"\n        ng-class=\"{ \'item-icon-right\': extend.key === \'mobile\' || extend.key === \'phone\' }\">\n        <span class=\"input-label\">{{ extend.key | crmContactExtendText }}</span>\n\n        <div class=\"input-content text-right\">\n          <!-- 手机、电话 -->\n          <span ng-if=\"extend.key === \'mobile\' || extend.key === \'phone\'\" style=\"padding-right: 24px;\">{{ extend.value }}</span>\n          <!-- 邮箱 -->\n          <a ng-if=\"extend.key === email\" class=\"anchor\" href=\"mailto:{{  extend.value }}\">{{  extend.value }}</a>\n          <span ng-if=\"extend.key !== \'mobile\' && extend.key !== \'phone\' && extend.key !== \'email\'\">{{ extend.value }}</span>\n        </div>\n\n        <div class=\"icon\" ng-if=\"extend.key === \'mobile\' || extend.key === \'phone\'\">\n          <a class=\"ion-ios-telephone contact-telephone\" href=\"tel:{{ extend.value }}\"></a>\n        </div>\n      </div>\n\n      <!-- @Todo: 归属人 -->\n      <div class=\"item item-indent item-input\" ng-if=\"contact.client && contact.client.fullname\">\n        <span class=\"input-label\">关联客户</span>\n        <div class=\"input-content text-right\">{{ contact.client.fullname }}</div>\n      </div>\n\n      <!-- 标签组 -->\n      <div class=\"item item-indent item-input\" ng-repeat=\"tagGroup in contact.tags\">\n        <span class=\"input-label\">{{ tagGroup.name }}</span>\n        <div class=\"input-content text-right\">{{ tagGroup.tag.name }}</div>\n      </div>\n\n      <div class=\"item item-divider crm-view-item-divider\" ng-if=\"\n      (contact.birthday && contact.birthday != 0) ||\n      contact.department ||\n      contact.position ||\n      contact.remark\n      \">详细信息</div>\n\n      <div class=\"item item-indent item-input\" ng-if=\"contact.birthday && contact.birthday != 0\">\n        <span class=\"input-label\">生日</span>\n        <div class=\"input-content text-right\">{{ contact.birthday * 1000 | date: \'yyyy-MM-dd\' }}</div>\n      </div>\n\n      <div class=\"item item-indent item-input\" ng-if=\"contact.department\">\n        <span class=\"input-label\">部门</span>\n        <div class=\"input-content text-right\">{{ contact.department }}</div>\n      </div>\n\n      <div class=\"item item-indent item-input\" ng-if=\"contact.position\">\n        <span class=\"input-label\">职务</span>\n        <div class=\"input-content text-right\">{{ contact.position }}</div>\n      </div>\n\n      <div class=\"item item-indent item-text-wrap\" ng-if=\"contact.remark\">\n        <span class=\"common-black\">备注</span>\n        <div class=\"padding-vertical\">{{ contact.remark }}</div>\n      </div>\n    </div>\n\n    <div class=\"padding-horizontal15\" ng-if=\"contact.canEdit\" ui-sref=\"crm.editContact({ contactid: contact.contactid })\">\n      <button class=\"button button-block button-positive\">编辑</button>\n    </div>\n\n    <div class=\"padding\"></div>\n  </ion-content>\n\n</ion-view>");
$templateCache.put("templates/crm/contact-way.html","<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button button-icon\" ng-click=\"contactWayModal.hide()\">返回</button>\n    <h1 class=\"title\">添加联系方式</h1>\n  </ion-header-bar>\n\n  <ion-content class=\"crm-bg\">\n    <ion-list>\n      <div class=\"item item-indent\" ng-repeat=\"(key, item) in contactWays\" ng-click=\"addContactWay(key); contactWayModal.hide()\">{{ item }}</div>\n    </ion-list>\n  </ion-content>\n</ion-modal-view>");
$templateCache.put("templates/crm/contact.html","<ion-view title=\"联系人\" hide-nav-bar=\"true\" class=\"crm-bg\">\n  <!-- <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button default-nav-back-button ng-click=\"goBack()\">{{ backTitle() }}</ion-nav-back-button>\n  </ion-nav-bar>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item button-icon ion-ios-plus-empty\" ui-sref=\"crm.addContact\"></button>\n  </ion-nav-buttons> -->\n\n  <ion-header-bar search-tab-bar=\"tabs\" search-modal=\"search\" on-tab=\"onTab($tab)\" no-tap-scroll=\"true\">\n  </ion-header-bar>\n\n  <ion-content>\n    <ion-refresher on-refresh=\"contactList.reload()\"></ion-refresher>\n\n    <!--联系人列表-->\n    <ion-list class=\"list-avatar-group\" ng-if=\"contactList.list.length\">\n      <div class=\"item item-divider padding-horizontal15\"\n        ng-repeat-start=\"letter in (contactList.list|groupAndOrder:orderType:orderDesc) as letters\"\n        id=\"crm_contacts_item_{{ letter }}\">\n        {{ letter }}\n      </div>\n\n      <crm-contact-item ng-repeat-end ng-repeat=\"contact in letters.grouped[letter]\" contact=\"contact\" mode=\"view\">\n      </crm-contact-item>\n\n      <div class=\"item text-center insipid\">\n        {{ contactList.total }} 位联系人\n      </div>\n    </ion-list>\n  \n    <crm-empty-tip ng-if=\"!contactList.list.length && !contactList.loading\">\n    </crm-empty-tip>\n  </ion-content>\n\n  <div class=\"fixed-toolbar\">\n    <button class=\"fixed-toolbar-btn button button-positive\" ui-sref=\"crm.addContact\">\n      <i class=\"ion-ios-plus-empty\"></i>\n    </button>\n  </div>\n  <!-- <div letter=\"crm_contacts_item\" class=\"has-header\" ng-if=\"contactList.list.length && orderType == \'firstCase\'\"></div> -->\n</ion-view>");
$templateCache.put("templates/crm/crm-filter-menu.html","<div class=\"crm-filter\" ng-class=\"{ \'crm-filter-open\': filterShown }\">\n  <div class=\"item crm-filter-menu\" ng-if=\"filterShown\">\n    <div class=\"crm-filter-title\" ng-repeat-start=\"filterGroup in filterGroups\">{{ filterGroup.groupName }}</div>\n    <ion-scroll direction=\"x\" scrollbar-x=\"false\" ng-repeat-end>\n      <div class=\"crm-filter-row\">\n      <span class=\"label\" ng-repeat=\"item in filterGroup.items\"\n        ng-class=\"{\'active\': filterGroup.selected === $index }\"\n        ng-click=\"selectFilterItem(item, filterGroup)\">{{ item.text }}</span>\n      </div>\n    </ion-scroll>\n  </div>\n  <div class=\"crm-filter-footer\" ng-click=\"filterShown = !filterShown\">\n    <i ng-if=\"filterShown\" class=\"ion-ios-arrow-up\"></i>\n    <span ng-if=\"!filterShown\">\n      <span ng-if=\"filterGroups | crmFilterSelectedText\" ng-bind=\"filterGroups | crmFilterSelectedText\"></span>\n      <span ng-if=\"!(filterGroups | crmFilterSelectedText)\">\n        <i class=\"ion-ios-arrow-down\"></i>              \n      </span>\n    </span>\n  </div>\n</div>");
$templateCache.put("templates/crm/event-form.html","<form name=\"eventForm\">\n<ion-view title=\"{{ stateName == \'crm.addEvent\' ? \'新建跟进\' : \'编辑跟进\' }}\" hide-nav-bar=\"true\" class=\"crm-bg\">\n\n  <!-- <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button default-nav-back-button ng-click=\"goBack()\">{{ backTitle() }}</ion-nav-back-button>\n  </ion-nav-bar>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item\" ng-click=\"submit()\" ng-disabled=\"eventForm.$invalid\">\n      完成\n    </button>\n  </ion-nav-buttons> -->\n\n  <ion-content class=\"crm-cm-form\">\n    <div class=\"padding\"></div>\n\n    <div class=\"list\">\n      <div class=\"item item-indent crm-event-pb\">\n        <textarea class=\"w100p\" placeholder=\"请输入内容\" rows=\"7\" name=\"content\" ng-model=\"form.content\" required></textarea>\n      </div>\n    </div>\n\n    <div class=\"list\">\n      <!-- 标签组 -->\n      <div class=\"item item-input item-select item-enter item-indent\" ng-repeat=\"tagGroup in tagGroups\">\n        <span class=\"input-label\">{{ tagGroup.name }}</span>\n        <select\n          ng-options=\"tag.tagid as tag.name for tag in tagGroup.taglist\"\n          ng-model=\"form.tags[tagGroup.groupid]\">\n        </select>\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n      <div class=\"item item-input item-enter item-indent\" ng-click=\"selectClient()\">\n        <span class=\"input-label\">关联客户<span class=\"assertive\">*</span></span>\n        <div class=\"input-content\">{{ form.client && form.client.fullname }}</div>\n        <i class=\"ion-ios-arrow-right\"></i>\n        <input type=\"hidden\" name=\"client\" ng-model=\"form.client\" required>\n      </div>\n      <div class=\"item item-input item-enter item-indent\" ng-if=\"form.cid\" ng-click=\"selectOpportunity()\">\n        <span class=\"input-label\">关联商机</span>\n        <div class=\"input-content\">{{ form.opportunity && form.opportunity.subject }}</div>\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n      <!-- @Todo: 跟进时间 -->\n      <!-- <div class=\"item item-input item-enter item-indent\">\n        <span class=\"input-label\">跟进时间</span>\n        <input type=\"date\" placeholder=\"请输入跟进时间\" name=\"\" ng-model=\"\">\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div> -->\n    </div>\n\n    <div class=\"list\" ng-if=\"form.cid\">\n      <crm-contact-item ng-repeat=\"contact in form.contacts\" contact=\"contact\" mode=\"edit\" on-remove=\"detachContact(contact)\">\n      </crm-contact-item>\n      <div class=\"item padding-vertical text-center\" ng-click=\"attachContact()\">\n        <i class=\"ion-plus vam\"></i>&nbsp;\n        添加关联联系人\n      </div>\n    </div>\n    \n    <div class=\"padding-horizontal\">\n      <button class=\"button button-block button-positive\" ng-click=\"submit()\" ng-disabled=\"eventForm.$invalid\">保存</button>\n    </div>\n\n    <div class=\"padding-horizontal15\" ng-if=\"stateName === \'crm.editEvent\'\">\n      <button class=\"button button-block button-light\" ng-click=\"removeEvent()\" ng-disabled=\"!form.canDel\">\n        <span class=\"assertive\" ng-if=\"form.canDel\">删除</span>\n        <small ng-if=\"!form.canDel\">无删除权限</small>\n      </button>\n    </div>\n\n    <div class=\"padding\"></div>\n  </ion-content>\n</ion-view>\n</form>");
$templateCache.put("templates/crm/event-item.html","<div class=\"item item-complex item-text-wrap item-indent crm-common-item crm-event-item\">\n  <!-- 普通事件 -->\n  <a class=\"item-content\" ng-if=\"ev.type === \'0\'\" ui-sref=\"crm.eventView(ev)\">\n    <div class=\"item-note fss insipid\">{{ ev.createtime * 1000 | humanizedDateTime }}</div>\n    <crm-user uid=\"{{ ev.uid }}\"></crm-user>\n    <h2 class=\"padding-vertical\">{{ ev.content }}</h2>\n    <div ng-transclude></div>\n    <div>\n      <i class=\"crm-icon-date vam\"></i> <span class=\"fss coyness vam\">{{ ev.begin * 1000 | date:\'MM-dd\' }}</span>\n      &nbsp;&nbsp;\n      <crm-tags-section tags=\"ev.tags\"></crm-tags-section>\n    </div>\n  </a>\n\n  <!-- 系统事件 -->\n  <div class=\"item-content\" ng-if=\"ev.type === \'1\'\">\n    <div class=\"item-note fss insipid\">{{ ev.createtime * 1000 | humanizedDateTime }}</div>\n    <crm-user uid=\"{{ ev.uid }}\"></crm-user>\n    <h2>\n      {{ ev.content | htmlToPlaintext }}\n    </h2>\n    <!-- <div ng-transclude></div> -->\n  </div>\n</div>");
$templateCache.put("templates/crm/event-search-modal.html","<ion-modal-view>\n  <!-- <div class=\"bar-crm search-header-title-bar\">跟进</div> -->\n  <!--搜索框-->\n  <ion-header-bar class=\" item-input-inset search-header-bar\">\n    <label class=\"item-input-wrapper\">\n      <i class=\"ion-ios-search fsu coyness\"></i>\n      <input type=\"text\" placeholder=\"搜索\"  ng-model=\"search.key\" focus-on=\"search.modal.isShown()\" focus-delay=\"200\">\n    </label>\n    <button type=\"button\" class=\"button button-positive button-clear\"  ng-click=\"search.modal.hide()\">\n      取消\n    </button>\n  </ion-header-bar>\n\n  <ion-content>\n    <!-- if(有搜索结果): -->\n    <div class=\"list\" ng-if=\"search.result.list.length\">\n      <div class=\"item item-complex item-text-wrap crm-common-item\"\n        ng-repeat=\"ev in search.result.list\"\n        ng-include=\"\'templates/crm/event-item.html\'\">\n      </div>\n    </div>\n\n    <!-- elseif(未开始搜索): -->\n    <div class=\"margin-top margin-bottom padding text-center coyness\"\n        ng-if=\"!search.result.list.length && !search.key && !search.searching\"\n        >请输入标题或内容进行搜索~\n    </div>\n\n    <!-- elseif(搜索中): -->\n    <div class=\"margin-top margin-bottom padding text-center coyness\"\n        ng-if=\"search.searching && !search.result.list.length\"\n        >搜索中...\n    </div>\n\n    <!-- elseif(没有搜索结果): -->\n    <div class=\"margin-top margin-bottom padding text-center coyness\"\n        ng-if=\"search.key && !search.searching && !search.result.list.length\"\n        >没有找到相关跟进~\n    </div>\n    <!-- endif; -->\n  </ion-content>\n\n</ion-modal-view>\n");
$templateCache.put("templates/crm/event-view.html","<ion-view title=\"跟进详情\" hide-nav-bar=\"true\">\n  <!-- <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button></ion-nav-back-button>\n  </ion-nav-bar>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item button-icon ion-ios-more\" ng-click=\"moreOperation()\">\n    </button>\n  </ion-nav-buttons> -->\n\n  <ion-content class=\"crm-bg\">\n\n    <div class=\"list\">\n      <div class=\"item item-indent item-text-wrap padding-vertical\">\n        <div>\n          <span class=\"item-note fss insipid\">{{ ev.createtime * 1000 | humanizedDateTime }}</span>\n          <crm-user uid=\"{{ ev.uid }}\"></crm-user>\n        </div>\n        <h2 class=\"crm-event-view-title\">{{ ev.content }}</h2>\n      </div>\n\n      <!-- <div class=\"item item-indent padding-vertical\">\n        <i class=\"vam\" ng-class=\"{\n          \'crm-icon36-location\': !ev.location,\n          \'crm-icon36-location-b\': ev.location\n        }\"></i>\n        <span class=\"fsl common-black vam\">{{ ev.location || \'暂无位置信息\' }}</span>\n      </div> -->\n      \n      <div class=\"item item-divider crm-view-item-divider\">基本信息</div>\n\n      <div class=\"item item-input item-indent item-text-wrap\" ng-repeat=\"tag in ev.tags\">\n        <span class=\"input-label\">{{ tag.name }}</span>\n        <div class=\"input-content text-right\">{{ tag.tag.name }}</div>\n      </div>\n      <div class=\"item item-input item-indent item-text-wrap\" ng-if=\"ev.client && ev.client.fullname\">\n        <span class=\"input-label\">关联客户</span>\n        <div class=\"input-content text-right\">{{ ev.client.fullname }}</div>\n      </div>\n      <div class=\"item item-input item-indent item-text-wrap\" ng-if=\"ev.opportunity && ev.opportunity.subject\">\n        <span class=\"input-label\">关联商机</span>\n        <div class=\"input-content text-right\">{{ ev.opportunity.subject  }}</div>\n      </div>\n      <!-- 跟进时间 -->\n\n      <!-- <div class=\"item item-input item-text-wrap\" ng-if=\"ev.contacts && ev.contacts.length\">\n        <span class=\"input-label coyness\">关联联系人</span>\n        <div class=\"input-content common text-right\">{{ ev.contacts | map:\'name\' | join:\',\' }}</div>\n      </div> -->\n\n      <div class=\"item item-divider crm-view-item-divider\" ng-if=\"ev.contacts.length\">联系人</div>\n      <crm-contact-item ng-repeat=\"contact in ev.contacts\" contact=\"contact\" mode=\"attach\" ng-if=\"ev.contacts.length\"></crm-contact-item>\n    </div>\n    \n    <div class=\"padding-horizontal15\" ng-if=\"ev.canEdit\" ui-sref=\"crm.editEvent({ eventid: ev.eventid })\">\n      <button class=\"button button-block button-positive\">编辑</button>\n    </div>\n  </ion-content>\n\n</ion-view>");
$templateCache.put("templates/crm/event.html","<ion-view title=\"跟进\" class=\"crm-bg\" hide-nav-bar=\"true\">\n  <!-- <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button default-nav-back-button ng-click=\"goBack()\">{{ backTitle() }}</ion-nav-back-button>\n  </ion-nav-bar>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item button-icon ion-ios-plus-empty\" ui-sref=\"crm.addEvent\"></button>\n  </ion-nav-buttons>\n -->\n\n  <ion-header-bar search-tab-bar=\"tabs\" search-modal=\"search\" on-tab=\"onTab($tab)\" no-tap-scroll=\"true\">\n  </ion-header-bar>\n\n  <crm-filter filter-groups=\"filterGroups\" on-select=\"selectFilterItem\"></crm-filter>\n\n  <ion-content class=\"crm-filter-header\">\n    <ion-refresher on-refresh=\"eventList.reload()\"></ion-refresher>\n\n    <div class=\"list\">\n\n      <crm-event-item class=\"item item-complex item-text-wrap crm-common-item\"\n        ng-repeat=\"ev in eventList.list\"\n        ev=\"ev\">\n        <div>\n          <i class=\"crm-icon-client\"></i>\n          <span class=\"fss coyness\">\n            {{ ev.client.fullname || \'未关联客户\' }}\n          </span>\n          &nbsp;&nbsp;\n          <i class=\"crm-icon-opp\"></i>\n          <span class=\"fss coyness\">\n            {{ ev.opportunity[0].subject || \'未关联商机\' }}\n          </span>\n        </div>\n      </crm-event-item>\n\n      <div ng-if=\"eventList.hasMore\">\n        <button class=\"button button-clear button-positive button-block no-animation\" ng-click=\"eventList.load()\" ng-disabled=\"eventList.loading\">\n          {{ eventList.loading ? \'加载中...\' : \'加载更多\' }}\n        </button>\n      </div>\n      \n      <div class=\"margin-top margin-bottom padding text-center coyness\" ng-if=\"!eventList.hasMore && eventList.list.length\">没有更多了...</div>\n    </div>\n    <crm-empty-tip ng-if=\"!eventList.hasMore && !eventList.list.length && !eventList.loading\"></crm-empty-tip>\n  </ion-content>\n\n  <div class=\"fixed-toolbar\">\n    <button class=\"fixed-toolbar-btn button button-positive\" ui-sref=\"crm.addEvent\">\n      <i class=\"ion-ios-plus-empty\"></i>\n    </button>\n  </div>\n</ion-view>");
$templateCache.put("templates/crm/index.html","<ion-view title=\"CRM\" hide-nav-bar=\"true\" style=\"background-color: #ebeff6\">\n  <!-- <ion-nav-bar class=\"bar-crm\"></ion-nav-bar> -->\n\n  <!-- <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item button-icon ion-ios-plus-empty\" ng-click=\"openAddMenu()\"></button>\n  </ion-nav-buttons> -->\n\n  <ion-content>\n    <ion-refresher on-refresh=\"reload()\"></ion-refresher>\n\n    <div class=\"crm-tabs margin-bottom20\">\n      <div class=\"row\">\n        <div class=\"col col-25\" ui-sref=\"crm.client\">\n          <div class=\"crm-fab crm-fab-skyblue\">\n            <i class=\"icon-attach-client\"></i>\n          </div>\n          <p>客户</p>\n        </div>\n\n        <div class=\"col col-25\" ui-sref=\"crm.contact\">\n          <div class=\"crm-fab crm-fab-melon\">\n            <i class=\"icon-attach-contact\"></i>\n          </div>\n          <p>联系人</p>\n        </div>\n\n        <div class=\"col col-25\" ui-sref=\"crm.opportunity\">\n          <div class=\"crm-fab crm-fab-mint\">\n            <i class=\"icon-attach-opportunity\"></i>\n          </div>\n          <p>商机</p>\n        </div>\n        <div class=\"col col-25\" ui-sref=\"crm.event\">\n          <div class=\"crm-fab crm-fab-stone\">\n            <i class=\"icon-attach-event\"></i>\n          </div>\n          <p>跟进</p>\n        </div>\n      </div>\n    </div>\n   \n    <!-- 销售简报 -->\n    <div class=\"crm-d-card\">\n      <div class=\"crm-d-card-hd\">今日销售简报</div>\n      <div class=\"crm-d-card-bd crm-d-today\">\n        <div class=\"crm-d-card-block\">\n          <div class=\"row crm-tags-grid\">\n            <div class=\"col col-25\">\n              <div>\n                <span class=\"crm-d-card-mf\">{{ todayReport.clients || 0 }}</span>个\n              </div>\n              <div class=\"crm-d-card-label\">新客户</div>\n            </div>\n            <div class=\"col col-25\">\n              <div>\n                <span class=\"crm-d-card-mf\">{{ todayReport.opportunitys || 0 }}</span>个\n              </div>\n              <div class=\"crm-d-card-label\">新商机</div>\n            </div>\n            <div class=\"col col-25\">\n              <div>\n                <span class=\"crm-d-card-mf\">{{ todayReport.events || 0 }}</span>个\n              </div>\n              <div class=\"crm-d-card-label\">新跟进</div>\n            </div>\n            <div class=\"col col-25\">\n              <div>\n                <span class=\"crm-d-card-mf\">{{ todayReport.contacts || 0 }}</span>个\n              </div>\n              <div class=\"crm-d-card-label\">新联系人</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"crm-nb-tabs row\">\n        <div class=\"col col-25\" ng-repeat=\"tab in CRM_REPORT_TIMETYPES\"\n          ng-class=\"{\'active\': reportTimeType === tab.type }\"\n          ng-click=\"setReportTimeType(tab.type)\">{{ tab.text }}</div>\n      </div>\n      <div class=\"crm-d-card-bd\">\n        <div class=\"crm-d-card-block\">\n          <div class=\"row\">\n            <div class=\"col col-50\">\n              <div>\n                <span class=\"crm-d-card-mf\">{{ report.clients || 0 }}</span>个\n              </div>\n              <div class=\"crm-d-card-label\">新客户</div>\n            </div>\n            <div class=\"col col-50\">\n              <div>\n                <span class=\"crm-d-card-mf\">{{ report.opportunitys || 0 }}</span>个\n              </div>\n              <div class=\"crm-d-card-label\">新商机</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"crm-d-card-block\">\n          <div class=\"row\">\n            <div class=\"col col-50\">\n              <div>\n                <span class=\"crm-d-card-mf\">{{ report.events || 0 }}</span>条\n              </div>\n              <div class=\"crm-d-card-label\">新跟进</div>\n            </div>\n            <div class=\"col col-50\">\n              <div>\n                <span class=\"crm-d-card-mf\">{{ report.contacts || 0 }}</span>个\n              </div>\n              <div class=\"crm-d-card-label\">新联系人</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div> \n  \n    <!-- 业绩目标 -->\n    <div class=\"crm-d-card\">\n      <div class=\"crm-d-card-hd\">\n        业绩目标<small class=\"coyness\">（{{ now | date:\'yyyy.MM\' }}）</small>\n        <i class=\"ion-ios-help-outline\" ng-click=\"showTargetSetupTip()\"></i>\n      </div>\n      <div class=\"crm-d-card-bd\">\n        <div class=\"crm-d-card-block\">\n          <div class=\"row\">\n            <div class=\"col col-50\">\n              <div ng-if=\"target.newClientCount\">\n                <div>\n                  <span class=\"crm-d-card-mf\">{{ target.newClientCount.finish }}</span>\n                  <span class=\"crm-d-card-sf\" ng-if=\"target.newClientCount.target && target.newClientCount.target != 0\">/{{ target.newClientCount.target }}</span>个\n                </div>\n                <div class=\"crm-d-card-processbar\" ng-if=\"target.newClientCount.target && target.newClientCount.target != 0\">\n                  <processbar value=\"{{ target.newClientCount.finish|percent:target.newClientCount.target }}\" color=\"#21b5ff\"></processbar>\n                </div>\n              </div>\n              <div ng-if=\"!target.newClientCount\" class=\"crm-d-card-sf insipid\">未设置目标</div>            \n              <div class=\"crm-d-card-label\">新客户</div>\n            </div>\n            <div class=\"col col-50\">\n              <div ng-if=\"target.newOppCount\">\n                <div>\n                  <span class=\"crm-d-card-mf\">{{ target.newOppCount.finish }}</span>\n                  <span class=\"crm-d-card-sf\" ng-if=\"target.newOppCount.target && target.newOppCount.target != 0\">/{{ target.newOppCount.target }}</span>个\n                </div>\n                <div class=\"crm-d-card-processbar\" ng-if=\"target.newOppCount.target && target.newOppCount.target != 0\">\n                  <processbar value=\"{{ target.newOppCount.finish|percent:target.newOppCount.target }}\" color=\"#a7d85a\"></processbar>\n                </div>\n              </div>\n              <div ng-if=\"!target.newOppCount\" class=\"crm-d-card-sf insipid\">未设置目标</div>\n              <div class=\"crm-d-card-label\">新商机</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"crm-d-card-block\">\n          <div ng-if=\"target.newOppIncome\">\n            <span class=\"crm-d-card-of\">{{ target.newOppIncome.finish | currency:\'\':0 }}</span>\n            <span class=\"crm-d-card-sf\" ng-if=\"target.newOppIncome.target && target.newOppIncome.target != 0\">/{{ target.newOppIncome.target | currency:\'\':0 }}</span>元\n          </div>\n          <div ng-if=\"!target.newOppIncome\" class=\"crm-d-card-sf insipid\">未设置目标</div>\n          <div class=\"crm-d-card-label\">新商机金额</div>\n        </div>\n      </div>\n    </div>\n  \n    <!-- 商机详情 -->\n    <div class=\"crm-d-card\">\n      <div class=\"crm-d-card-hd\">商机详情<small class=\"coyness\">（{{ now | date:\'yyyy.MM\' }}）</small></div>\n      <div class=\"crm-d-card-bd\">\n        <div class=\"crm-d-card-block\">\n          <div class=\"margin-bottom20\">\n            <div>\n              <span class=\"crm-d-card-mf\">{{ oppSurver.underway }}</span>个\n            </div>\n            <div class=\"crm-d-card-label\">进行中商机</div>\n          </div>\n\n          <div class=\"row crm-tags-grid\" ng-repeat=\"tagRow in oppSurver.tagopp|chunkBy:3\" ng-class=\"{ \'margin-bottom20\': !$last }\">\n            <div class=\"col col-33\" ng-repeat=\"tag in tagRow\">\n              <div>\n                <span class=\"crm-tags-cell-em\">{{ tag.counts }}</span>\n                个\n              </div>\n              <div class=\"crm-d-card-label ellipsis\">{{ tag.name }}</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"crm-d-card-line\"></div>\n        <div class=\"crm-d-card-block\">\n          <div class=\"row\">\n            <div class=\"col col-50\">\n              <div>\n                <span class=\"crm-d-card-mf\">{{ oppSurver.turnover }}</span>个\n              </div>\n              <div class=\"crm-d-card-label\">已成交商机</div>\n            </div>\n            <div class=\"col col-50\">\n              <div>\n                <span class=\"crm-d-card-of\">{{ (oppSurver.finishincome || 0) | currency:\'\':0 }}</span>元\n              </div>\n              <div class=\"crm-d-card-label\">已达成金额</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"portal-footer text-center\">\n      <i class=\"footer-logo\"></i>\n      <copyright></copyright>\n    </div>\n  </ion-content>\n\n  <div class=\"fixed-toolbar\">\n    <button class=\"fixed-toolbar-btn button button-positive\" ng-click=\"newModal.show()\">\n      <i class=\"ion-ios-plus-empty\"></i>\n    </button>\n  </div>\n</ion-view>");
$templateCache.put("templates/crm/new-modal.html","<ion-modal-view class=\"crm-new-modal\" ng-click=\"newModal.hide()\">\n  <div class=\"crm-tabs\">\n    <div class=\"row\">\n      <div class=\"col col-25\" ui-sref=\"crm.addClient\">\n        <div class=\"crm-fab crm-fab-outline-gray\">\n          <i class=\"icon-attach-client-g\"></i>\n        </div>\n        <p>新建客户</p>\n      </div>\n\n      <div class=\"col col-25\" ui-sref=\"crm.addContact\">\n        <div class=\"crm-fab crm-fab-outline-gray\">\n          <i class=\"icon-attach-contact-g\"></i>\n        </div>\n        <p>新建联系人</p>\n      </div>\n\n      <div class=\"col col-25\" ui-sref=\"crm.addOpportunity\">\n        <div class=\"crm-fab crm-fab-outline-gray\">\n          <i class=\"icon-attach-opportunity-g\"></i>\n        </div>\n        <p>新建商机</p>\n      </div>\n      <div class=\"col col-25\" ui-sref=\"crm.addEvent\">\n        <div class=\"crm-fab crm-fab-outline-gray\">\n          <i class=\"icon-attach-event-g\"></i>\n        </div>\n        <p>新建跟进</p>\n      </div>\n    </div>\n  </div>\n</ion-modal-view>");
$templateCache.put("templates/crm/opportunity-form.html","<form name=\"oppForm\">\n<ion-view title=\"{{ stateName == \'crm.addOpportunity\' ? \'新建商机\' : \'编辑商机\' }}\" hide-nav-bar=\"true\" class=\"crm-bg\">\n  \n  <!--\n  <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button default-nav-back-button ng-click=\"goBack()\">{{ backTitle() }}</ion-nav-back-button>\n  </ion-nav-bar>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item\" ng-click=\"submit()\" ng-disabled=\"oppForm.$invalid\">完成</button>\n  </ion-nav-buttons>\n  -->\n\n  <ion-content class=\"crm-cm-form crm-add-opportunity\">\n    <div class=\"padding\"></div>\n    <div class=\"list\">\n      <div class=\"item item-input item-indent\">\n        <span class=\"input-label\">商机主题<span class=\"assertive\">*</span></span>\n        <input type=\"text\" placeholder=\"请输入商机主题\" name=\"subject\" ng-model=\"form.subject\" required>\n      </div>\n\n      <div class=\"item item-input item-indent\">\n        <span class=\"input-label\">预计收入</span>\n        <input type=\"text\" placeholder=\"0.00\" name=\"expectincome\" ng-model=\"form.expectincome\" ng-currency currency-symbol=\"\">\n        <span class=\"padding-horizontal\">元</span>\n      </div>\n\n      <div class=\"item item-input item-indent item-enter\">\n        <span class=\"input-label\">预计成交日</span>\n        <input type=\"date\" placeholder=\"请输入结束时间\" name=\"expectendtime\" ng-model=\"form.expectendtime\">\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n\n      <!-- 标签组 -->\n      <div class=\"item item-input item-indent item-select item-enter\" ng-repeat=\"tagGroup in tagGroups\">\n        <span class=\"input-label\">{{ tagGroup.name }}</span>\n        <select\n          ng-options=\"tag.tagid as tag.name for tag in tagGroup.taglist\"\n          ng-model=\"form.tags[tagGroup.groupid]\">\n        </select>\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n\n      <div class=\"item item-input item-indent item-select item-enter\">\n        <span class=\"input-label\">成交机率</span>\n        <select name=\"dealchance\" ng-model=\"form.dealchance\" ng-options=\"(idx + \'%\') for idx in ([]|range:11|mapMultiply)\"></select>\n        <i class=\"ion-ios-arrow-right\"></i>\n      </div>\n\n      <!-- @Todo: 归属人 -->\n      \n      <div class=\"item item-input item-indent item-enter\" ng-click=\"attachClient()\">\n        <span class=\"input-label\">关联客户<span class=\"assertive\">*</span></span>\n        <div class=\"input-content\">{{ client.fullname }}</div>\n        <i class=\"ion-ios-arrow-right\"></i>\n        <input type=\"hidden\" name=\"client\" ng-model=\"client\" required>\n      </div>\n    </div>\n\n    <!-- 需要先关联客户才会出现联系人 -->\n    <div class=\"list\" ng-if=\"client\">\n      <crm-contact-item ng-repeat=\"contact in contacts\" contact=\"contact\" mode=\"edit\" on-remove=\"detachContact(contact)\">\n      </crm-contact-item>\n      <div class=\"item padding-vertical text-center\" ng-click=\"attachContact()\">\n        <i class=\"ion-plus vam\"></i>&nbsp;\n        添加关联联系人\n      </div>\n    </div>\n\n    <div class=\"list\" ng-if=\"!isOppFormMoreShowed\">\n      <div class=\"item text-center  padding-vertical\" ng-click=\"showOppFormMore()\">\n        <i class=\"crm-icon-chevron-dd\"></i>\n        填写更多\n      </div>\n    </div>\n\n    <div class=\"list\" ng-if=\"isOppFormMoreShowed\">\n      <!-- @Todo: 编号 -->\n\n      <label class=\"item item-input item-indent\" style=\"-webkit-align-items: baseline;align-items: baseline;\">\n        <span class=\"input-label\">备注</span>\n        <textarea placeholder=\"请输入备注\" name=\"remark\" ng-model=\"form.remark\" rows=\"4\"></textarea>\n      </label>\n    </div>\n\n    <div class=\"padding-horizontal15\">\n      <button class=\"button button-block button-positive\" ng-click=\"submit()\" ng-disabled=\"oppForm.$invalid\">保存</button>\n    </div>\n\n    <div class=\"padding-horizontal15\" ng-if=\"stateName === \'crm.editOpportunity\'\">\n      <button class=\"button button-block button-light\" ng-click=\"removeOpp()\" ng-disabled=\"!form.canDel\">\n        <span class=\"assertive\" ng-if=\"form.canDel\">删除</span>\n        <small ng-if=\"!form.canDel\">无删除权限</small>\n      </button>\n    </div>\n    \n    <div class=\"padding\"></div>\n  </ion-content>\n</ion-view>\n</form>");
$templateCache.put("templates/crm/opportunity-item.html","<div class=\"item item-complex item-indent item-text-wrap crm-common-item crm-oppo-item\">\n  <a class=\"item-content\">\n    <span class=\"item-note fss insipid\">\n      {{ opp.createtime * 1000 | humanizedDateTime }}\n    </span>\n    <h2>{{ opp.subject }}</h2>\n    <div ng-transclude></div>\n    <p>\n      <span class=\"item-note energized\">\n        <span class=\"fsl\">{{ opp.expectincome }}</span>\n        <span class=\"fs09\">元</span>\n      </span>\n      <span class=\"crm-tags-section\" ng-switch=\"opp.status\">\n        <i class=\"crm-icon-sandglass\"></i>\n        <span ng-switch-when=\"2\">已失败</span>\n        <span ng-switch-when=\"1\">已成交</span>\n        <span ng-switch-default>进行中</span>\n      </span>\n      &nbsp;&nbsp;\n      <span class=\"crm-tags-section\" ng-if=\"opp.status == \'0\'\">\n        <i class=\"crm-icon-clock\"></i>\n        <span>{{ opp.tags[0].tag.name }}</span>\n      </span>\n    </p>\n  </a>\n</div>");
$templateCache.put("templates/crm/opportunity-search-modal.html","<ion-modal-view>\n  <!-- <div class=\"bar-crm search-header-title-bar\">商机</div> -->\n  <!--搜索框-->\n  <ion-header-bar class=\"item-input-inset search-header-bar\">\n    <label class=\"item-input-wrapper\">\n      <i class=\"ion-ios-search fsu coyness\"></i>\n      <input type=\"text\" placeholder=\"搜索\" ng-model=\"search.key\" focus-on=\"search.modal.isShown()\" focus-delay=\"200\">\n    </label>\n    <button type=\"button\" class=\"button button-positive button-clear\" ng-click=\"search.modal.hide()\">\n      取消\n    </button>\n  </ion-header-bar>\n\n  <ion-content>\n    <!-- if(有搜索结果): -->\n    <div class=\"list\" ng-if=\"search.result.list.length\">\n      <crm-opp-item class=\"item item-complex item-text-wrap crm-common-item crm-oppo-item\"\n                    ng-repeat=\"opp in search.result.list\"\n                    opp=\"opp\"\n                    ui-sref=\"crm.opportunityView(opp)\">\n        <i class=\"crm-icon-client\"></i>\n        <span class=\"fss coyness\">\n          {{ opp.client && opp.client.fullname ? opp.client.fullname : \'未关联客户\' }}\n        </span>\n      </crm-opp-item>\n    </div>\n\n    <!-- elseif(未开始搜索): -->\n    <div class=\"margin-top margin-bottom padding text-center coyness\"\n         ng-if=\"!search.result.list.length && !search.key && !search.searching\"\n        >请输入标题或内容进行搜索~\n    </div>\n\n    <!-- elseif(搜索中): -->\n    <div class=\"margin-top margin-bottom padding text-center coyness\"\n         ng-if=\"search.searching && !search.result.list.length\"\n        >搜索中...\n    </div>\n\n    <!-- elseif(没有搜索结果): -->\n    <div class=\"margin-top margin-bottom padding text-center coyness\"\n         ng-if=\"search.key && !search.searching && !search.result.list.length\"\n        >没有找到相关商机~\n    </div>\n    <!-- endif; -->\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/crm/opportunity-view.html","<ion-view title=\"商机信息\" hide-nav-bar=\"true\" class=\"crm-bg\">\n  <!-- <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button></ion-nav-back-button>\n  </ion-nav-bar>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item button-icon ion-ios-more\" ng-click=\"moreOperation()\">\n    </button>\n  </ion-nav-buttons>\n -->\n\n  <ion-content>\n    <!--头部信息-->\n    <div class=\"item item-text-wrap crm-mn-card crm-opportunity-view-header\">\n      <i class=\"item-note ion-ios-plus-outline\" ng-click=\"openAttachModal()\"></i>\n      <div class=\"crm-mn-card-title\">{{ opp.subject || \'----\' }}</div>\n      <div>\n        <span class=\"fss vam\">归属人</span>&nbsp;&nbsp;\n        <crm-user uid=\"{{ opp.uid }}\" class=\"crm-user-light\"></crm-user>\n      </div>\n      <div class=\"crm-mn-card-footer\">\n        <span class=\"fss\">所属客户</span>\n        <span class=\"fss\">{{ opp.client.fullname || \'暂无\' }}</span>\n      </div>\n    </div>\n\n    <!--商机tbs-->\n    <div class=\"crm-nb-tabs row\">\n      <div class=\"col col-50\" ng-class=\"{\'active\':activeTab === \'survey\' }\"  ng-click=\"setActiveTab(\'survey\')\">详情</div>\n      <div class=\"col col-50\" ng-class=\"{\'active\':activeTab === \'event\' }\"  ng-click=\"setActiveTab(\'event\')\">跟进</div>\n    </div>\n\n    <!--客户详情-->\n    <div ng-if=\"activeTab === \'survey\'\">\n      <div class=\"item-divider crm-divider\" ng-if=\"opp.contacts.length\">联系人</div>\n      <div class=\"list-avatar-group\" ng-if=\"opp.contacts.length\">\n        <crm-contact-item ng-repeat=\"contact in opp.contacts\" contact=\"contact\" mode=\"attach\"></crm-contact-item>\n      </div>\n      \n      <div class=\"item-divider crm-divider\">详细信息</div>\n      <div class=\"item item-input item-indent\">\n        <span class=\"input-label\">商机状态</span>\n        <div class=\"input-content text-right\">{{ opp.statusText }}</div>\n      </div>\n      <div class=\"item item-input item-indent\">\n        <span class=\"input-label\">预计收入</span>\n        <div class=\"input-content text-right\">{{ opp.expectincome }} 元</div>\n      </div>\n      <!-- 标签组 -->\n      <div class=\"item item-input item-indent\" ng-repeat=\"tagGroup in tagGroups\">\n        <span class=\"input-label\">{{ tagGroup.name }}</span>\n        <div class=\"input-content text-right\">\n          {{ (tagGroup.taglist | where:{ tagid: opp.tags[tagGroup.groupid] })[0].name }}\n        </div>\n      </div>\n      <div class=\"item item-input item-indent\">\n        <span class=\"input-label\">成交机率</span>\n        <div class=\"input-content text-right\">{{ opp.dealchance }}%</div>\n      </div>\n      <div class=\"item item-input item-indent\">\n        <span class=\"input-label\">关联客户</span>\n        <div class=\"input-content text-right\">{{ opp.client && opp.client.fullname }}</div>\n      </div>\n\n      <div class=\"item-divider crm-divider\" ng-if=\"opp.attaches.length\">附件</div>\n      <attach-list attach=\"opp.attaches\" ng-if=\"opp.attaches.length\"></attach-list>\n\n      <div class=\"padding-vertical padding-horizontal15\" ng-if=\"opp.canEdit\" ui-sref=\"crm.editOpportunity({ oid: opp.oid })\">\n        <button class=\"button button-block button-positive\">编辑</button>\n      </div>\n    </div>\n\n    <div ng-if=\"activeTab === \'event\'\">\n      <div class=\"list\">\n        <crm-event-item ng-repeat=\"ev in eventList\" ev=\"ev\">\n        </crm-event-item>\n      </div>\n\n      <crm-empty-tip ng-if=\"!eventList.length\"></crm-empty-tip>\n    </div>\n  </ion-content>\n\n</ion-view>");
$templateCache.put("templates/crm/opportunity.html","<ion-view title=\"商机\" hide-nav-bar=\"true\" class=\"crm-bg\">\n  <!-- <ion-nav-bar class=\"bar-crm\">\n    <ion-nav-back-button default-nav-back-button ng-click=\"goBack()\">{{ backTitle() }}</ion-nav-back-button>\n  </ion-nav-bar>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item button-icon ion-ios-plus-empty\" ui-sref=\"crm.addOpportunity\">\n    </button>\n  </ion-nav-buttons> -->\n\n  <ion-header-bar search-tab-bar=\"tabs\" search-modal=\"search\" on-tab=\"onTab($tab)\" no-tap-scroll=\"true\">\n  </ion-header-bar>\n\n  <crm-filter filter-groups=\"filterGroups\" on-select=\"selectFilterItem\"></crm-filter>\n\n  <ion-content class=\"crm-filter-header\">\n    <ion-refresher on-refresh=\"oppList.reload()\"></ion-refresher>\n    <!--商机列表-->\n    <div class=\"list\">\n      <crm-opp-item ng-repeat=\"opp in oppList.list\" opp=\"opp\" ui-sref=\"crm.opportunityView(opp)\">\n        <i class=\"crm-icon-client\"></i>\n        <span class=\"fss coyness\">\n          {{ opp.client && opp.client.fullname ? opp.client.fullname : \'未关联客户\' }}\n        </span>\n      </crm-opp-item>\n\n      <div ng-if=\"oppList.hasMore\">\n        <button class=\"button button-clear button-positive button-block no-animation\" ng-click=\"oppList.load()\" ng-disabled=\"oppList.loading\">\n          {{ oppList.loading ? \'加载中...\' : \'加载更多\' }}\n        </button>\n      </div>\n      \n      <div class=\"margin-top margin-bottom padding text-center coyness\" ng-if=\"!oppList.hasMore && oppList.list.length\">没有更多了...</div>\n    </div>\n    \n    <crm-empty-tip ng-if=\"!oppList.list.length && !oppList.loading\"></crm-empty-tip>\n  </ion-content>\n  \n  <div class=\"fixed-toolbar\">\n    <button class=\"fixed-toolbar-btn button button-positive\" ui-sref=\"crm.addOpportunity\">\n      <i class=\"ion-ios-plus-empty\"></i>\n    </button>\n  </div>\n</ion-view>");
$templateCache.put("templates/crm/search-tab-bar.html","<ion-scroll direction=\"x\" scrollbar-x=\"false\">\n  <div class=\"ib-tabs\">\n    <div class=\"ib-tab-item\" ng-repeat=\"tab in tabs\" ng-click=\"tabTo($index)\" ng-class=\"{ \'active\': $index === activeIndex }\">{{ tab.text }}</div>\n  </div>\n</ion-scroll>\n<div class=\"search-tab-bar-btn\" ng-click=\"searchModal.showModal()\"> <i class=\"ion-ios-search\"></i>\n</div>");
$templateCache.put("templates/crm/select-client.html","<ion-modal-view class=\"crm-bg\">\n  <!-- <ion-header-bar>\n    <button class=\"button button-icon\" ng-click=\"modal.hide()\">取消</button>\n    <h1 class=\"title\">选择客户</h1>\n  </ion-header-bar> -->\n  \n  <!-- 搜索框 -->\n  <div class=\"bar bar-header search-header-bar stable-bg\" ng-hide=\"searchMode\">\n    <button class=\"button button-block button-small fsm button-light\" ng-click=\"searchMode = true\">\n      <i class=\"ion-ios-search fsu vam\"></i>&nbsp;客户名称\n    </button>\n  </div>\n\n  <div class=\"bar bar-header item-input-inset search-header-bar\" ng-hide=\"!searchMode\">\n    <label class=\"item-input-wrapper\">\n      <i class=\"ion-ios-search fsu coyness\"></i>\n      <input type=\"text\" placeholder=\"搜索\" ng-model=\"search.key\" focus-on=\"searchMode\" focus-delay=\"200\">\n    </label>\n    <button type=\"button\" class=\"button button-positive button-clear\" ng-click=\"searchMode = false; search.key = \'\'\">\n      取消\n    </button>\n  </div>\n\n  <ion-content class=\"has-header has-mb-footer\">\n    <div class=\"list\">\n      <div class=\"item item-divider\" ng-repeat-start=\"letter in (clients|filterBy:[\'fullname\',\'firstCase\']:search.key|groupAndOrder:\'firstLetter\') as letters\">{{ letter }}</div>\n      <div class=\"item item-indent common\" ng-repeat-end ng-repeat=\"client in letters.grouped[letter]\" ng-click=\"select(client)\">\n        {{ client.fullname }}\n        <span class=\"item-note ion-checkmark fsu positive\" ng-if=\"cid == client.cid\"></span>\n      </div>\n\n      <crm-empty-tip ng-if=\"!letters.length\" text=\"您需要先创建一个客户\"></crm-empty-tip>\n    </div>\n  </ion-content>\n\n  <ion-footer-bar class=\"mb-footer\">\n    <button class=\"button button-block button-light\" ng-click=\"modal.hide()\">\n      取消\n    </button>\n  </ion-footer-bar>\n</ion-modal-view>");
$templateCache.put("templates/crm/select-contact.html","<ion-modal-view class=\"crm-bg\">\n  <!-- <ion-header-bar>\n    <button class=\"button button-icon\" ng-click=\"modal.hide()\">取消</button>\n    <h1 class=\"title\">选择联系人</h1>\n    <button class=\"button button-icon  ion-ios-plus-empty\"  ng-click=\"modal.hide()\" ui-sref=\"crm.addContact({ client: opts.client })\"></button>\n  </ion-header-bar>\n   -->\n  <!-- 搜索框 -->\n  <div class=\"bar bar-header search-header-bar stable-bg\" ng-hide=\"searchMode\">\n    <button class=\"button button-block button-small fsm button-light\" ng-click=\"searchMode = true\">\n      <i class=\"ion-ios-search fsu vam\"></i>&nbsp;姓名、手机号\n    </button>\n  </div>\n\n  <div class=\"bar bar-header item-input-inset search-header-bar\" ng-hide=\"!searchMode\">\n    <label class=\"item-input-wrapper\">\n      <i class=\"ion-ios-search fsu coyness\"></i>\n      <input type=\"text\" placeholder=\"搜索\" ng-model=\"search.key\" focus-on=\"searchMode\" focus-delay=\"200\">\n    </label>\n    <button type=\"button\" class=\"button button-positive button-clear\" ng-click=\"searchMode = false; search.key = \'\'\">\n      取消\n    </button>\n  </div>\n\n  <ion-content class=\"has-header has-footer\">\n    <div class=\"list us-list crm-ctt-select-list\">\n      <!-- <ion-checkbox ng-repeat=\"contact in contacts\" ng-model=\"form[contact.contactid]\">\n        {{ contact.name }}\n      </ion-checkbox> -->\n\n      <div class=\"item item-complex item-avatar item-indent item-checkbox\" ng-repeat=\"contact in contacts|filterBy:[\'name\']:search.key\">\n        <div class=\"item-content\">\n          <label class=\"checkbox\">\n            <input type=\"checkbox\" ng-model=\"contact.checked\">\n          </label>\n          <img width=\"34\" height=\"34\" avatar=\"{{ contact.avatar | fullUrl }}\" class=\"item-image\" />\n          <h2>\n            {{ contact.name }}\n            <small class=\"fss insipid\">{{ contact.department }} <span ng-if=\"contact.department && contact.position\">•</span> {{ contact.position }}</small>\n          </h2>\n          <p class=\"fss coyness\">{{ contact.company || \'暂无\' }}</p>\n        </div>\n      </div>\n\n      <crm-empty-tip ng-if=\"!contacts || !contacts.length\" text=\"您需要先创建一个联系人\"></crm-empty-tip>\n    </div>\n  </ion-content>\n\n  <div class=\"bar bar-footer us-footer-bar\">\n    <div class=\"us-scroll-wrap\">\n      <div class=\"padding positive\">已选：{{ getSelected().length }}人</div>\n    </div>\n    <div class=\"us-footer-button-bar\">\n      <button type=\"button\" class=\"button button-light\" ng-click=\"modal.hide()\">取消</button>\n      <button type=\"button\" class=\"button button-positive\" ng-click=\"save()\" ng-disabled=\"!contacts.length\">确定</button>\n    </div>\n  </div>\n</ion-modal-view>");
$templateCache.put("templates/crm/select-opportunity.html","<ion-modal-view class=\"crm-bg\">\n  <ion-header-bar>\n    <button class=\"button button-icon\" ng-click=\"modal.hide()\">取消</button>\n    <h1 class=\"title\">选择商机</h1>\n  </ion-header-bar>\n  \n  <!-- 搜索框 -->\n  <div class=\"bar bar-header search-header-bar stable-bg\" ng-hide=\"searchMode\">\n    <button class=\"button button-block button-small fsm button-light\" ng-click=\"searchMode = true\">\n      <i class=\"ion-ios-search fsu vam\"></i>&nbsp;商机名\n    </button>\n  </div>\n\n  <div class=\"bar bar-header item-input-inset search-header-bar\" ng-hide=\"!searchMode\">\n    <label class=\"item-input-wrapper\">\n      <i class=\"ion-ios-search fsu coyness\"></i>\n      <input type=\"text\" placeholder=\"搜索\" ng-model=\"search.key\" focus-on=\"searchMode\" focus-delay=\"200\">\n    </label>\n    <button type=\"button\" class=\"button button-positive button-clear\" ng-click=\"searchMode = false; search.key = \'\'\">\n      取消\n    </button>\n  </div>\n\n  <ion-content class=\"has-header has-mb-footer\">\n    <div class=\"list\">\n      <div class=\"item item-indent common-black\" ng-click=\"select(opp)\" ng-repeat=\"opp in opps|filterBy:[\'subject\']:search.key as result\">\n        {{ opp.subject }}\n        <span class=\"item-note ion-checkmark fsu positive\" ng-if=\"selected == opp.oid\"></span>\n      </div>\n\n      <crm-empty-tip ng-if=\"!result.length\" text=\"您需要先创建一个商机\"></crm-empty-tip>\n    </div>\n  </ion-content>\n\n  <ion-footer-bar class=\"mb-footer\">\n    <button class=\"button button-block button-light\" ng-click=\"modal.hide()\">\n      取消\n    </button>\n  </ion-footer-bar>\n</ion-modal-view>");
$templateCache.put("templates/diary/diary-comment.html","<ion-modal-view class=\"lightyellow-bg\" >\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"commentModel.hide()\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\">×</span>\n    </button>\n    <h1 class=\"title\">点评日志</h1>\n    <button class=\"button-icon icon button button-clear\"\n            ng-disabled=\"!comment.content || comment.submitting\"\n            ng-click=\"comment.submit()\">点评</button>\n  </ion-header-bar>\n\n  <ion-content class=\"has-header diary-comment-textarea\">\n    <textarea placeholder=\"好想说点什么...\" ng-model=\"comment.content\"></textarea>\n    <div class=\"fss coyness light-bg margin padding  diary-comment-counting\">\n      <charcount ng-model=\"comment.content\"></charcount>个字\n    </div>\n\n    <div class=\"padding light-bg\" ng-if=\"dashboardConfig.stampenable != 0 && commentType == \'comment\'\">\n      <div class=\"diary-comment-stamp-box\" ng-click=\"comment.isStampsBoxShow = !comment.isStampsBoxShow\" style=\"background-color: {{ comment.stamp ? \'#8ed1ff\': \'#b2c0d1\' }}\">\n        <i class=\"icon18-favor\"></i>\n      </div>\n      <img ng-if=\"comment.stamp\" ng-src=\"{{ comment.stamp.icon | fullUrl }}\">\n    </div>\n    <item class=\"diary-comment-stamps\" ng-show=\"comment.isStampsBoxShow\">\n      <ul class=\"row light-bg\" ng-repeat=\"rowStamps in comment.stamps | chunkBy:4\">\n        <li class=\"col col-25\" ng-repeat=\"stamp in rowStamps\" ng-click=\"comment.stamp = stamp; comment.isStampsBoxShow = false\" >\n          <img ng-src=\"{{ stamp.icon | fullUrl }}\" alt=\"{{ stamp.code }}\">\n        </li>\n      </ul>\n    </item>\n\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/diary/diary-create.html","<ion-view title=\"写日志\" hide-tabs class=\"lightyellow-bg\">\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear\" ng-click=\"submit()\">提交</button>\n  </ion-nav-buttons>\n  \n  <ion-content>\n    <form name=\"diaryForm\" ng-include=\"\'templates/diary/diary-form.html\'\">\n    </form>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/diary/diary-detail.html","<ion-view view-title=\"{{ $root.user.uid === diary.uid ? \'我的日志\' : diary.realname }}\"  class=\"lightyellow-bg\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"diary.index\" nav-direction=\"back\" ng-if=\"!$root.hasBackView()\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n    </button>\n  </ion-nav-buttons>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button-icon icon button button-clear no-animation\" ng-if=\"$root.user.uid === diary.uid && !diary.lock\" ng-click=\"showMore()\">更多</button>\n    <button class=\"button-icon icon button button-clear no-animation\" ng-if=\"isSup || (isShare && dashboardConfig.sharecomment != 0)\" ng-click=\"showCommentModal(\'comment\')\">点评</button>\n  </ion-nav-buttons>\n\n  <ion-content class=\"diary-detail\">\n    <!-- 图章 -->\n    <img ng-if=\"stampUrl\" ng-src=\"{{ stampUrl | fullUrl }}\" class=\"diary-detail-stamp\"/>\n\n    <!-- 日志概要信息 -->\n    <div class=\"item item-avatar diary-detail-header\">\n      <img avatar=\"{{ diary.uid | userInfo:\'avatar_middle\'| fullUrl }}\">\n      <div>\n        <h2>{{ diary.realname}}</h2>\n        <p>{{ diary.diarytime.year + \'-\' + diary.diarytime.month + \'-\' + diary.diarytime.day }} &nbsp; {{ diary.diarytime.weekday }} </p>\n      </div>\n    </div>\n\n    <div class=\"list\">\n      <!-- 计划外 -->\n      <ion-item ng-if=\"originalPlan.length > 0\" class=\"diary-detail-title padding-bottom0\">原计划</ion-item>\n      <ion-item class=\"diary-plan-item detail-list item-indent\" ng-if=\"originalPlan.length > 0\" ng-repeat=\"plan in originalPlan\">\n        <!--<p class=\"diary-plan-index somber\">{{ $index + 1 }}.</p>-->\n        <div class=\"item-note\">\n          <span class=\"positive\">{{ plan.schedule | diaryPercentage }}</span>\n        </div>\n        <div class=\"diary-plan-content somber\">\n          {{ plan.content }}\n        </div>\n      </ion-item>\n\n      <ion-item ng-if=\"unplanned.length > 0\" class=\"diary-detail-title padding-bottom0\">计划外</ion-item>\n      <ion-item class=\"diary-plan-item detail-list item-indent\" ng-if=\"unplanned.length > 0\" ng-repeat=\"plan in unplanned\">\n        <!--<p class=\"diary-plan-index somber\">{{ $index + 1 }}.</p>-->\n        <div class=\"item-note\">\n          <span class=\"positive\">{{ plan.schedule | diaryPercentage }}</span>\n        </div>\n        <div class=\"diary-plan-content somber\">\n          {{ plan.content }}\n        </div>\n      </ion-item>\n\n      <!-- 工作内容 -->\n      <ion-item class=\"item-text-wrap\">\n        <div class=\"diary-detail-content\" ng-bind-html=\" diary.content | editorContent \" class=\"editor-content\" img-preview></div>\n      </ion-item>\n\n      <!-- 工作计划 -->\n      <ion-item class=\"item-divider diary-date-item\">\n        {{ nextDay.year }}-{{ nextDay.month }}-{{ nextDay.day }}-{{ nextDay.weekday }}\n      </ion-item>\n      <ion-item class=\"diary-detail-title padding-bottom0\" ng-if=\"plans.length > 0\">工作计划\n      </ion-item>\n      <ion-item class=\"diary-plan-item diary-plan-item-full detail-list item-indent\" ng-if=\"plans.length > 0\" ng-repeat=\"plan in plans\">\n        <!--<p class=\"diary-plan-index somber\">{{ $index + 1 }}.</p>-->\n        <div class=\"item-note\">\n          <span class=\"positive\">{{ plan.timeremind | diaryTimeRemind }}</span>\n        </div>\n        <span class=\"item-note positive\"></span>\n        <div class=\"diary-plan-content somber\">\n          {{ plan.content}}\n        </div>\n      </ion-item>\n    </div>\n\n    <!-- 附件列表 -->\n    <div class=\"margin-bottom20\" ng-if=\"diary.attachmentid\">\n      <div class=\"item diary-detail-title\">附件</div>\n      <attach-list attach=\"attach\"></attach-list>\n    </div>\n\n    <!-- 查阅人员列表 -->\n    <div class=\"margin-bottom20 light-bg\" ng-if=\"readers.length\">\n      <div class=\"item diary-detail-title padding-bottom0\">查阅 {{ readers.length }} 人</div>\n      <ion-scroll direction=\"x\" scrollbar-x=\"false\" class=\"scroll-view ionic-scroll\">\n        <ul class=\"diary-detail-readers\">\n          <li ng-repeat=\"reader in readers\" >\n            <img avatar =\"{{ reader | userInfo:\'avatar_middle\' | fullUrl }}\">\n          </li>\n        </ul>\n      </ion-scroll>\n    </div>\n\n    <!-- 评论列表（只显示评论列表） -->\n    <div class=\"comment diary-detail-comment\" ng-if=\"commentList.length > 0\" >\n      <div class=\"item diary-detail-title\">评论</div>\n      <div class=\"list\">\n        <div class=\"item item-avatar item-text-wrap item-indent\" ng-repeat=\"cm in commentList\" ng-click=\"showCommentModal(\'reply\', cm)\">\n          <img avatar=\"{{ cm.avatar | fullUrl }}\">\n          <span class=\"item-note insipid\">{{ cm.ctime * 1000 | date: \'MM-dd\' }} {{ cm.ctime *1000| date: \'HH:mm\' }}</span>\n          <h2 class=\"coyness\">{{ cm.realname }}</h2>\n          <p class=\"somber fsm\">{{ cm.content | asHtml }}</p>\n        </div>\n        <!-- 如里当前用户是此日志所属用户的上级或被分享者，则允许评论 -->\n      </div>\n    </div>\n  </ion-content>\n\n  <ion-footer-bar class=\"bar-stable\">\n    <button class=\"button button-clear col col-33\" ng-disabled=\"!prev || prev == 0\" ng-click=\"toDiary(prev)\">上一篇</button>\n    <button class=\"button button-clear col col-33\" ng-disabled=\"!next || next == 0\" ng-click=\"toDiary(next)\">下一篇</button>\n  </ion-footer-bar>\n\n</ion-view>\n\n");
$templateCache.put("templates/diary/diary-edit.html","<ion-view title=\"编辑\" class=\"lightyellow-bg\">\n<!--   <ion-nav-buttons>\n    <button class=\"button-icon icon ion-ios-arrow-back button back-button\" ng-click=\"goBack()\"> 返回</button>\n  </ion-nav-buttons> -->\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear\" ng-click=\"submit()\">完成</button>\n  </ion-nav-buttons>\n    \n  <ion-content>\n    <form name=\"diaryForm\" ng-include=\"\'templates/diary/diary-form.html\'\">\n    </form>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/diary/diary-follow.html","<ion-view title=\"看日志\" hide-back-button=\"true\" class=\"lightyellow-bg subheader-nav-pane\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"diary.index\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      日志\n    </button>\n  </ion-nav-buttons>\n\n  <ion-header-bar class=\"bar-subheader\">\n    <div class=\"subheader-nav row\">\n      <span class=\"col col-33\" ui-sref=\"diary.personal\" nav-direction=\"none\">我的日志</span>\n      <span class=\"col col-33\" ui-sref=\"diary.review\" nav-direction=\"none\">点评下属</span>\n      <span class=\"col col-33 active\">交流日志</span>\n    </div>\n  </ion-header-bar>\n\n  <ion-content>\n  \n    <ion-refresher on-refresh=\"refresh()\"></ion-refresher>\n\n    <div class=\"list-empty-tip\" ng-if=\"list.length === 0 \">\n      <i class=\"news-icon-empty\"></i>\n      <p class=\"margin-top\">这里空空如也~</p>\n    </div>\n\n    <div class=\"list diary-list\">\n      <div class=\"item item-divider\" ng-repeat-start=\"(key,list) in list | groupBy: groupByTime\">\n        {{ key }}\n        <div class=\"item-note date-note text-center\" ng-if=\"isToday(key)\">今</div>\n      </div>\n      <div class=\"item item-complex\" ng-repeat-end ng-repeat=\"diary in list\" ui-sref=\"diary.detail({id: diary.diaryid, type: \'personal\'})\">\n        <a class=\"item-content\">\n          <img class=\"stamp-img\" ng-if=\"diary.stampParams\" ng-src=\"{{ diary.stampParams.stamp | fullUrl }}\">\n\n          <div class=\"item item-avatar\">\n            <img avatar=\"{{ diary.uid | avatar | defaultAvatar }}\" ui-sref=\"diary.underling({id : diary.uid})\" stop-propagation=\"click\">\n            <i class=\"icon-favor\" ng-if=\"diary.isfavor\"></i>\n            <h3 class=\"coyness\"  ui-sref=\"diary.underling({id : diary.uid})\" stop-propagation=\"click\">\n              {{ diary.uid | userInfo: \'realname\' }}&nbsp;\n              <i class=\"icon-annex\" ng-if=\"diary.attachmentid\"></i>\n            </h3>\n            <i class=\"icon-annex\" ng-if=\"diary.attachmentid\"></i>\n            <span class=\"fs11 insipid\"> {{ diary.addtime * 1000 | date : \'HH:mm\' }}</span>\n          </div>\n\n          <p>{{ (diary.content | htmlToPlaintext) || \'[图片]\' }}</p>\n          <span class=\"item-note insipid\" >\n              <i class=\"icon-comment\"></i>\n              <span class=\"fs11 vam\">{{ diary.commentcount }} &nbsp;</span>&nbsp;\n              <i class=\"icon-review\"></i>\n              <span class=\"fs11 vam\">{{ diary.readercount }} &nbsp;</span>\n          </span>\n        </a>\n      </div>\n    </div>\n\n    <button class=\"button button-full button-clear button-positive no-animation\" ng-click=\"loadMore()\" ng-if=\"pages.page < pages.pageCount - 1\">加载更多</button>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/diary/diary-form.html","<ion-list>\n  <!-- 原计划 -->\n  <ion-item class=\"item-divider diary-date-item lightyellow-bg\" ng-click=\"selectedStartDate()\">\n    {{ formData.todayDate }}  {{ formData.todayDate | date:\'EEEE\' }} &nbsp; <i class=\"icon-calendar\"></i>\n  </ion-item>\n\n  <ion-item class=\"diary-plan-item\" ng-repeat=\"plan in originalPlanList\">\n    <span class=\"diary-plan-index common-black\">{{$index + 1}}.</span>\n    <div class=\"item-note\" >\n      <select class=\"text-center vam\" ng-model=\"formData.originalPlan[plan.recordid]\" ng-options=\"item.value as item.percent for item in SCHEDULE\"></select>\n    </div>\n    <div class=\"diary-plan-content coyness\">{{ plan.content ||  plan.subject }}</div>\n  </ion-item>\n\n  <ion-item class=\"diary-plan-item\"  ng-repeat=\"plan in formData.planOutside\">\n    <span class=\"diary-plan-index common-black\">{{ $index + 1 +  originalPlanList.length }}.</span>\n    <div class=\"item-note\">\n      <select class=\"text-center vam\" ng-model=\"plan.schedule\" ng-options=\"item.value as item.percent for item in SCHEDULE\"></select>\n      <i class=\"ion-ios-close-empty\" ng-click=\"removeUnplanned($index)\"></i>\n    </div>\n    <div class=\"diary-plan-content\">\n      <input type=\"text\" ng-model=\"plan.content\" name=\"planOutside[{{$index}}][content]\" placeholder=\"计划外...\"></div>\n  </ion-item>\n\n  <div class=\"row text-center coyness light-bg\">\n    <div class=\"col col-50 diary-plus-plan\" ng-click=\"addUnplanned()\"> <i class=\"ion-plus\"></i>\n      添加一条\n    </div>\n    <div class=\"col col-50\" ng-click=\"planfromschedule( formData.todayDate )\">\n      <i class=\"icon-schedule\"></i>\n      来自日程\n    </div>\n  </div>\n\n  <!-- 工作内容 -->\n  <ion-item class=\"item-text-wrap\">\n    <textarea name=\"diaryContent\" id=\"diaryContent\" ng-model=\"formData.diaryContent\"  class=\"diary-ct-area\" placeholder=\"说一下这次的工作总结吧\"></textarea>\n  </ion-item>\n\n  <!-- 工作计划 -->\n  <ion-item class=\"item-divider diary-date-item lightyellow-bg\" ng-click=\"selectedEndDate()\">\n    {{ formData.plantime }} {{ formData.plantime | date:\'EEEE\' }} &nbsp;\n    <i class=\"icon-calendar\"></i>\n  </ion-item>\n\n  <ion-item class=\"diary-plan-item diary-plan-item-full\" ng-repeat=\"plan in formData.plan\">\n    <span class=\"diary-plan-index common-black\">{{$index + 1}}.</span>\n    <div class=\"item-note\">\n      <div class=\"positive text-center vam predict-box\" ng-model=\"plan.timeremind\" ng-click=\"delRemind(plan)\" ng-if=\"plan.timeremind\">\n        {{ plan.timeremind | diaryTimeRemind }}\n      </div>\n      <i class=\"ion-ios-alarm-outline\" ng-if=\"isInstallCalendar && !plan.timeremind\"  ng-click=\"setRemind(plan)\"></i>\n      <i class=\"ion-ios-close-empty\" ng-click=\"removePlan($index)\"></i>\n    </div>\n    <div class=\"diary-plan-content\">\n      <input type=\"text\" ng-model=\"plan.content\" name=\"plan[][content]\" placeholder=\"写工作计划...\"></div>\n  </ion-item>\n\n  <ion-item ng-click=\"addPlan()\" class=\"text-center padding-vertical\">\n    <i class=\"ion-plus\"></i>\n    添加一条\n  </ion-item>\n\n  <div class=\"item-divider lightyellow-bg\"></div>\n  <!-- 后台关闭共享功能时，不显示 -->\n  <ion-item class=\"diary-sharing\" ng-if=\"dashboardConfig.sharepersonnel != 0\" ng-click=\"openSharingModel()\">\n    共享人员\n    <i class=\"item-note ion-chevron-right\"></i>\n  </ion-item>\n</ion-list>");
$templateCache.put("templates/diary/diary-index.html","<ion-view title=\"日志\" hide-back-button=\"true\" class=\"lightyellow-bg\">\n\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button buttons button-clear header-item\" ui-sref=\"portal\">\n      <i class=\"icon ion-ios-arrow-back\"></i>  门户\n    </button>\n  </ion-nav-buttons>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"openSettingModel()\">\n      <i class=\"icon-setting\"></i>\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n\n    <div class=\"diary-entry-block bdb-h-dadfe6\">\n      <div class=\"diary-entry-btn\" ui-sref=\"diary.create\">\n        <div class=\"diary-create\">\n          <i class=\"diary-icon-create\"></i>\n        </div>\n        <div>写日志</div>\n      </div>\n    </div>\n\n    <div class=\"diary-entry-block\">\n      <div class=\"text-center diary-entry-btn\" ui-sref=\"diary.personal\">\n        <div class=\"diary-icon-ctnr diary-self\">\n          <i class=\"diary-icon-self\"></i>\n        </div>\n        <div>我的日志</div>\n      </div>\n\n      <div class=\"text-center diary-entry-btn\" ui-sref=\"diary.review\">\n        <div class=\"diary-icon-ctnr diary-comment\">\n          <i class=\"diary-icon-comment\"></i>\n        </div>\n        <div>点评下属</div>\n      </div>\n\n      <div class=\"text-center diary-entry-btn\" ui-sref=\"diary.follow\">\n        <div class=\"diary-icon-ctnr diary-discussion\">\n          <i class=\"diary-icon-discussion\"></i>\n        </div>\n        <div>交流日志</div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n\n");
$templateCache.put("templates/diary/diary-personal.html","<ion-view title=\"看日志\" hide-back-button=\"true\" class=\"lightyellow-bg subheader-nav-pane\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"diary.index\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      日志\n    </button>\n  </ion-nav-buttons>\n\n  <ion-header-bar class=\"bar-subheader\">\n    <div class=\"subheader-nav row\">\n      <span class=\"col col-33 active\">我的日志</span>\n      <span class=\"col col-33\" ui-sref=\"diary.review\" nav-direction=\"none\">点评下属</span>\n      <span class=\"col col-33\" ui-sref=\"diary.follow\" nav-direction=\"none\">交流日志</span>\n    </div>\n  </ion-header-bar>\n\n  <ion-content delegate-handle=\"diaryPersonalScroll\">\n    \n    <ion-refresher on-refresh=\"refresh()\"></ion-refresher>\n\n    <div class=\"list-empty-tip\" ng-if=\"list.length === 0 \">\n      <i class=\"news-icon-empty\"></i>\n      <p class=\"margin-top\">这里空空如也~</p>\n    </div>\n\n    <ion-list class=\"diary-list\">\n      <div class=\"item item-divider\" ng-repeat-start=\"(key,list) in list | groupBy:groupByYearMonth\">{{ key }}</div>\n      <ion-item ng-repeat-end ng-repeat=\"diary in list\" ui-sref=\"diary.detail({ id: diary.diaryid, type: \'personal\' })\">\n        <img class=\"stamp-img\" ng-if=\"diary.stampParams\" ng-src=\"{{ diary.stampParams.stamp | fullUrl }}\">\n        \n        <i class=\"item-note ion-ios-locked-outline fsl\" ng-if=\"diary.islock\"></i>\n\n        <h2 class=\"coyness\">\n          {{ diary.diarytime * 1000 | date:\'EEEE\' }}&nbsp;\n          <i class=\"icon-annex\" ng-if=\"diary.attachmentid\"></i>\n        </h2>\n        <span class=\"fs11 insipid\">\n          {{ diary.diarytime * 1000 | date: \'MM-dd\' }} &nbsp;&nbsp;{{diary.addtime * 1000 | humanizedDate }} &nbsp;{{ diary.addtime * 1000 | date : \'HH:mm\' }}\n        </span>\n\n        <p>{{ diary.content || \'[图片]\' }}</p>\n\n        <span class=\"item-note insipid\" >\n          <i class=\"icon-comment\"></i>\n          <span class=\"fs11 vam\">{{ diary.commentcount }} &nbsp;</span>\n          <i class=\"icon-review\"></i>\n          <span class=\"fs11 vam\">{{ diary.readercount }} &nbsp;</span>\n        </span>\n        \n        <!-- 锁定时不允许编辑 -->\n        <ion-option-button \n          class=\"button-edit light fs32\"\n          ng-if=\"!diary.islock\"\n          ui-sref=\"diary.edit({ id:diary.diaryid})\"\n          stop-propagation=\"click\"\n          >\n          <div class=\"w100p text-center\"><i class=\"ion-ios-compose-outline\"></i></div>\n        </ion-option-button>\n        <ion-option-button\n          class=\"button-delete light fs32\"\n          ng-if=\"!diary.islock\"\n          ng-click=\"remove(diary)\"\n          stop-propagation=\"click\"\n          >\n          <div class=\"w100p text-center\"><i class=\"ion-ios-trash-outline\"></i></div>\n        </ion-option-button>\n      </ion-item>\n    </ion-list>\n\n    <button class=\"button button-full button-clear button-positive no-animation\" ng-click=\"loadMore()\" ng-if=\"pages.page < pages.pageCount - 1\">加载更多</button>\n  </ion-content>\n</ion-view>\n\n\n");
$templateCache.put("templates/diary/diary-review.html","<ion-view title=\"看日志\" hide-back-button=\"true\" class=\"lightyellow-bg subheader-nav-pane\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"diary.index\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      日志\n    </button>\n  </ion-nav-buttons>\n\n  <ion-header-bar class=\"bar-subheader\">\n    <div class=\"subheader-nav row\">\n      <span class=\"col col-33\" ui-sref=\"diary.personal\" nav-direction=\"none\">我的日志</span>\n      <span class=\"col col-33 active\">点评下属</span>\n      <span class=\"col col-33\" ui-sref=\"diary.follow\" nav-direction=\"none\">交流日志</span>\n    </div>\n  </ion-header-bar>\n\n  <ion-content>\n  \n    <ion-refresher on-refresh=\"refresh()\"></ion-refresher>\n\n    <div class=\"list-empty-tip\" ng-if=\"list.length === 0 \">\n      <i class=\"news-icon-empty\"></i>\n      <p class=\"margin-top\">这里空空如也~</p>\n    </div>\n\n    <div class=\"list diary-list\">\n      <div class=\"item item-divider\" ng-repeat-start=\"(key,list) in list | groupBy: groupByTime\">\n        {{ key }}\n        <div class=\"item-note date-note text-center\" ng-if=\"isToday(key)\">今</div>\n      </div>\n      <div class=\"item item-complex\" ng-repeat-end ng-repeat=\"diary in list\" ui-sref=\"diary.detail({id: diary.diaryid, type: \'personal\'})\">\n        <a class=\"item-content\">\n          <img class=\"stamp-img\" ng-if=\"diary.stampParams\" ng-src=\"{{ diary.stampParams.stamp | fullUrl }}\">\n\n          <div class=\"item item-avatar\">\n            <img avatar=\"{{ diary.uid | avatar | defaultAvatar }}\" ui-sref=\"diary.underling({id : diary.uid})\" stop-propagation=\"click\">\n            <i class=\"diary-icon-favor\" ng-if=\"diary.isfavor\"></i>\n            <h3 class=\"coyness\"  ui-sref=\"diary.underling({id : diary.uid})\" stop-propagation=\"click\">\n              {{ diary.uid | userInfo: \'realname\' }}&nbsp;\n              <i class=\"icon-annex\" ng-if=\"diary.attachmentid\"></i>\n            </h3>\n            <i class=\"icon-annex\" ng-if=\"diary.attachmentid\"></i>\n            <span class=\"fs11 insipid\"> {{ diary.addtime * 1000 | date : \'HH:mm\' }}</span>\n          </div>\n\n          <p>{{ (diary.content | htmlToPlaintext) || \'[图片]\' }}</p>\n          <span class=\"item-note insipid\" >\n              <i class=\"icon-comment\"></i>\n              <span class=\"fs11 vam\">{{ diary.commentcount }} &nbsp;</span>&nbsp;\n              <i class=\"icon-review\"></i>\n              <span class=\"fs11 vam\">{{ diary.readercount }} &nbsp;</span>\n          </span>\n        </a>\n      </div>\n    </div>\n\n    <button class=\"button button-full button-clear button-positive no-animation\" ng-click=\"loadMore()\" ng-if=\"pages.page < pages.pageCount - 1\">加载更多</button>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/diary/diary-setting.html","<ion-modal-view title=\"设置\" class=\"lightyellow-bg\">\n\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"settingModel.hide()\" style=\"display: flex;\">\n      <span class=\"icon fs32\" style=\"margin-top: -2px\">×</span>\n    </button>\n    <h1 class=\"title\">设置</h1>\n    <button class=\"button back-button buttons button-clear header-item\"  ng-click=\"submit()\">\n      确认\n    </button>\n  </ion-header-bar>\n\n  <ion-content>\n    <!-- 判断后台是否开启了共享功能 -->\n    <ion-item class=\"item-divider padding lightyellow-bg\" ng-if=\"dashboardConfig.sharepersonnel != 0\">默认分享</ion-item>\n    <div class=\"light-bg diary-item-select-user\" ng-if=\"dashboardConfig.sharepersonnel != 0\">\n      <user-avatar-selector ng-model=\"formData.defaultShareList\" name=\"setting-share\" ></user-avatar-selector>\n    </div>\n\n    <ion-item class=\"margin-top20  light-bg diary-setting-label\">\n      只看直属下属\n      <label class=\"toggle toggle-positive item-note\">\n        <input type=\"checkbox\" ng-model=\"formData.direct\" ng-true-value=\"1\" ng-false-value=\"0\">\n        <div class=\"track\">\n          <div class=\"handle\"></div>\n        </div>\n      </label>\n    </ion-item>\n    \n    <!-- 判断后台是否开启了关注功能 -->\n    <ion-item class=\"item-divider padding lightyellow-bg\" ng-if=\"dashboardConfig.attention != 0\">\n      我关注的\n    </ion-item>\n    <ul class=\"light-bg diary-item-select-user\" ng-if=\"dashboardConfig.attention != 0\">\n      <user-avatar-selector ng-model=\"formData.attentionList\" name=\"setting-attention\" ></user-avatar-selector>\n    </ul>\n\n  </ion-content>\n</ion-modal-view>");
$templateCache.put("templates/diary/diary-sharing.html","<ion-modal-view  class=\"lightyellow-bg\">\n\n  <ion-header-bar>\n    <button class=\"button buttons button-clear header-item ion-ios-close-empty fs32\" ng-click=\"sharingModel.hide()\">\n    </button>\n    <h1 class=\"title\">共享人员</h1>\n    <button class=\"button buttons button-clear header-item\" ng-disabled=\"!formData.shareuid\" ng-click=\"sharingModel.hide()\">完成</button>\n  </ion-header-bar>\n\n  <ion-content class=\"has-header\">\n    <ion-item class=\"item-divider lightyellow-bg padding-top padding-bottom\">\n      选择您要分享的同事\n    </ion-item>\n     <div class=\"light-bg diary-item-select-user\">\n       <user-avatar-selector ng-model=\"formData.shareuid\" name=\"share\"></user-avatar-selector>\n     </div>\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/diary/diary-underling.html","<ion-view class=\"lightyellow-bg\">\n  <ion-nav-title>{{ title }}</ion-nav-title>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button-icon button button-clear no-animation\" ng-if=\"dashboardConfig.attention != 0 && isattention === 0\" ng-click=\"attention()\">关注</button>\n    <button class=\"button-icon button button-clear no-animation\" ng-if=\"dashboardConfig.attention != 0 && isattention === 1\" ng-click=\"unattention()\">取消关注</button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <ion-refresher on-refresh=\"refresh()\"></ion-refresher>\n  \n    <div class=\"list-empty-tip\" ng-if=\"list.length === 0 \">\n      <i class=\"news-icon-empty\"></i>\n      <p class=\"margin-top\">这里空空如也~</p>\n    </div>\n\n    <ion-list class=\"diary-list\">\n      <div class=\"item item-divider\" ng-repeat-start=\"(key,list) in list | groupBy:groupByMonth\"> {{ key }}</div>\n      <ion-item ng-repeat-end ng-repeat=\"diary in list\" ui-sref=\"diary.detail({ id: diary.diaryid, type: \'personal\' })\">\n        <img class=\"stamp-img\" ng-if=\"diary.stampParams\" ng-src=\"{{ diary.stampParams.stamp | fullUrl }}\">\n        <h2 class=\"coyness\">{{ diary.diarytime * 1000 | date:\'EEEE\' }}&nbsp;&nbsp;<i class=\"icon-annex\" ng-if=\"diary.attachmentid\"></i></h2>\n        <span class=\"fs11 insipid\">\n          {{ diary.diarytime * 1000 | date: \'MM-dd\' }} &nbsp;&nbsp;{{diary.addtime * 1000 | humanizedDate }} &nbsp;{{ diary.addtime * 1000 | date : \'HH:mm\' }}\n        </span>\n        <p>{{ diary.content || \'[图片]\' }}</p>\n        <span class=\"item-note insipid\" >\n          <i class=\"icon-comment\"></i>\n          <span class=\"fs11 vam\">{{ diary.commentcount }} &nbsp;</span>\n          <i class=\"icon-review\"></i>\n          <span class=\"fs11 vam\">{{ diary.readercount }} &nbsp;</span>\n        </span>\n      </ion-item>\n    </ion-list>\n\n    <button class=\"button button-full button-clear button-positive no-animation\" ng-click=\"loadMore()\" ng-if=\"pages.page < pages.pageCount - 1\">加载更多</button>\n  </ion-content>\n\n</ion-view>");
$templateCache.put("templates/docs/docs-category.html","<ion-view title=\"{{title}}\" hide-back-button=\"true\">\n  \n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-show=\"rootDir\" ui-sref=\"portal\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!rootDir\" ng-click=\"$ionicGoBack()\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      返回\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <ion-list class=\"news-list\">\n      <ion-item class=\"item-icon-left\" ng-repeat=\"category in categorys\" ui-sref=\"docs.category({ cid: category.catid })\">\n        <i class=\"icon ion-ios-folder\"></i>\n        {{category.name}}\n      </ion-item>\n      \n      <ion-item ng-repeat=\"n in list.docs\" ui-sref=\"docs.categoryDetail({ id: n.docid })\">\n        <div class=\"item-note\" ng-bind-html=\"n.uptime\"></div>\n        <h2>{{n.subject}}</h2>\n        <p>\n          {{n.content}}\n        </p>\n      </ion-item>\n    </ion-list>\n\n    <button class=\"button button-full button-clear button-positive\" ng-if=\"list.docs.length && list.hasMore\" ng-click=\"list.loadMore()\">加载更多</button>\n\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/docs/docs-detail.html","<ion-view title=\"查看公文\" hide-tabs hide-back-button=\"true\">\n  \n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-if=\"hasBackView()\" ng-click=\"$ionicGoBack()\"  nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      返回\n    </button>\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!hasBackView()\" ui-sref=\"docs.published\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      公文\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <div class=\"padding-horizontal\">\n      <h4>{{docs.subject}}</h4>\n    </div>\n    <div class=\"padding-horizontal clearfix detail-info\">\n      <span class=\"positive fr\" ng-click=\"showInfoDetail = !showInfoDetail\">\n        {{ showInfoDetail ? \'隐藏\' : \'查看\' }}详细\n      </span>\n\n      <p ng-bind-html=\"docs.addtime\"></p>\n      <div ng-show=\"showInfoDetail\">\n        <p>发布人：{{docs.author|userInfo:\'realname\'}}</p>\n        <p>审核人：{{docs.approver}}</p>\n      </div>\n    </div>\n    <!-- 文章内容 -->\n    <div class=\"padding editor-content\" img-preview  ng-bind-html=\"docs.content\"></div>\n    <!-- 超链接内容 -->\n    \n    <!-- 附件 -->\n    <attach-list attach=\"attach\" ng-if=\"docs.attachmentid\" class=\"list-inset\"></attach-list>\n\n    <div class=\"padding\">\n      <button class=\"button button-block button-assertive\" ng-click=\"sign(docs.docid)\" ng-if=\"docs.issign==\'0\'\" ng-disabled=\"signing\">签收</button>\n      <button class=\"button button-block\" disabled ng-if=\"docs.issign!=\'0\'\">已签收</button>\n    </div>\n  </ion-content>\n\n</ion-view>\n");
$templateCache.put("templates/docs/docs-list.html","<ion-view title=\"{{title}}\" hide-back-button=\"true\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"portal\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n  \n  <ion-content>\n    <div class=\"item item-input-inset\">\n      <label class=\"item-input-wrapper\">\n        <input type=\"text\" placeholder=\"搜索关键词\" name=\"keyword\" ng-model=\"keyword\">\n      </label>\n      <button class=\"button button-small button-clear\" ng-click=\"list.search(keyword)\">\n        搜索\n      </button>\n    </div>\n\n    <div class=\"list-empty-tip\" ng-if=\"checkNoData()\">\n      暂无相关公文\n    </div>\n\n    <ion-list class=\"news-list\">\n      <ion-item \n        ng-repeat=\"n in list.docs\"\n        ng-click=\"open(n)\"\n        >\n          <div class=\"item-note\" ng-bind-html=\"n.uptime\"></div>\n          <h2>{{n.subject}}</h2>\n          <p>\n            {{n.content}}\n          </p>\n      </ion-item>\n    </ion-list>\n\n    <button class=\"button button-full button-clear button-positive\" ng-if=\"list.docs.length && list.hasMore\" ng-click=\"list.loadMore()\">加载更多</button>\n\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/docs/docs.html","<ion-tabs class=\"tabs-icon-top\" ng-class=\"{ \'tabs-item-hide\': $root.hideTabs }\">\n\n  <ion-tab title=\"已发布\" icon=\"ion-ios-filing\" href=\"#/docs/published\">\n    已发布\n    <ion-nav-view name=\"docs-published\"></ion-nav-view>\n  </ion-tab>\n\n  <ion-tab title=\"未签收\" icon=\"icon ion-ios-list-outline\" href=\"#/docs/unsigned\">\n    未签收\n    <ion-nav-view name=\"docs-unsigned\"></ion-nav-view>\n  </ion-tab>\n\n  <ion-tab title=\"已签收\" icon=\"icon ion-ios-list\" href=\"#/docs/signed\">\n    已签收\n    <ion-nav-view name=\"docs-signed\"></ion-nav-view>\n  </ion-tab>\n\n  <ion-tab title=\"按分类\" icon=\"icon ion-ios-folder\" href=\"#/docs/category\">\n    按分类\n    <ion-nav-view name=\"docs-category\"></ion-nav-view>\n  </ion-tab>\n</ion-tabs>\n");
$templateCache.put("templates/email/email-create.html","<ion-view title=\"写邮件\" cache-view=\"false\">\n  <ion-nav-buttons side=\"right\">\n    <button type=\"button\" class=\"button button-clear button-positive\" ng-disabled=\"isDisabledSubmit()\" ng-click=\"submit()\">发送</button>\n  </ion-nav-buttons>\n\n  <form name=\"emailForm\" class=\"email-form\">\n    <ion-content>\n      <div class=\"list\">\n        <div class=\"item item-text-wrap item-user-select clearfix\">\n          <span class=\"fl\">收件人：</span>\n          <i class=\"icon ion-ios-plus positive\" user-selector-trigger ng-model=\"form.toids\"></i>\n          <user-selector ng-model=\"form.toids\" name=\"toids\" ng-value=\"form.toids\" required></user-selector>\n        </div>\n\n        <div class=\"padding positive text-right\" ng-click=\"showOther()\" ng-show=\"!isShowOther\">\n          添加抄送 / 密送\n        </div>\n\n        <div class=\"item item-text-wrap item-user-select clearfix\" ng-show=\"isShowOther\">\n          <span class=\"fl\">抄送给：</span>\n          <i class=\"icon ion-ios-plus positive\" user-selector-trigger ng-model=\"form.ccids\"></i>\n          <user-selector ng-model=\"form.ccids\" name=\"ccids\" ng-value=\"form.ccids\"></user-selector>\n        </div>\n        \n        <div class=\"item item-text-wrap item-user-select clearfix\" ng-show=\"isShowOther\">\n          <span class=\"fl\">密送给：</span>\n          <i class=\"icon ion-ios-plus positive\" user-selector-trigger ng-model=\"form.mcids\"></i>\n          <user-selector ng-model=\"form.mcids\" name=\"mcids\" ng-value=\"form.mcids\"></user-selector>\n        </div>\n\n        <label class=\"item item-input\">\n          <span class=\"input-label\">主 题：</span>\n          <input type=\"text\" name=\"subject\" ng-model=\"form.subject\" placeholder=\"输入邮件主题\" required>\n        </label>\n      </div>\n\n      <textarea name=\"content\" ng-model=\"form.content\" class=\"padding-horizontal w100p\" placeholder=\"输入邮件内容\" rows=\"16\"></textarea>\n\n      <!-- 在有原始邮件数据的时候（回复、转发）才出现 -->\n      <div class=\"padding\" ng-if=\"source\">\n        <h5> ---- 原始邮件 --- </h5>\n\n        <!-- 原始邮件信息 -->\n        <div id=\"email_info\">\n          <hr />\n          <div id=\"origin_email_{{source.emailid}}\">\n            <table class=\"email-source-table\">\n              <tbody>\n                <tr>\n                  <td width=\"20%\">发件人</td>\n                  <td>\n                    {{source.fromwebmail != \'\' ? source.fromwebmail : source.fromid|userInfo:\'realname\'}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>发件时间</td>\n                  <td>\n                    {{source.sendtime * 1000|date:\'yyyy-MM-dd HH:mm（EEEE）\'}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>收件人</td>\n                  <td>\n                    {{source.toids|userInfo:\'realname\'}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>抄送</td>\n                  <td>\n                    {{source.copytoids}}\n                  </td>\n                </tr>\n                <tr>\n                  <td>主题</td>\n                  <td>\n                    {{source.subject}}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        \n        <!-- 原始邮件内容 -->\n        <div ng-bind-html=\"source.content\"></div>\n      </div>\n    </ion-content>\n  </form>\n</ion-view>\n");
$templateCache.put("templates/email/email-detail.html","<ion-view title=\"查看邮件\" hide-back-button=\"true\">\n    \n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-if=\"hasBackView()\" ng-click=\"$ionicGoBack()\"  nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      返回\n    </button>\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!hasBackView()\" ui-sref=\"email.index\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      邮件中心\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <div class=\"padding-horizontal\">\n      <h4 ng-class=\"{\n          \'assertive\': mail.important == \'2\',\n          \'balanced\': mail.important == \'1\'\n        }\">{{mail.subject}}</h4>\n    </div>\n    <div class=\"padding-horizontal clearfix detail-info\">\n\n      <span class=\"positive fr\" ng-click=\"showInfoDetail=!showInfoDetail\">\n        {{ showInfoDetail ? \'隐藏详细\' : \'查看详细\' }}\n      </span>\n\n      <p>{{mail.fromid|userInfo:\'realname\'}} {{mail.sendtime * 1000|date:\'yyyy年MM月dd日\'}}</p>\n      <div ng-show=\"showInfoDetail\">\n        <p>发件人：{{mail.fromid|userInfo:\'realname\'}}</p>\n        <p>收件人：{{mail.toids|userInfo:\'realname\'}}</p>\n        <p ng-if=\"mail.copytoids\">抄送给：{{mail.copytoids|userInfo:\'realname\'}}</p>\n      </div>\n    </div>\n    <!-- 文章内容 -->\n    <div class=\"padding editor-content\" img-preview  ng-bind-html=\"mail.content\"></div>\n    \n    <!-- 附件 -->\n    <attach-list attach=\"mail.attach\" ng-if=\"mail.attachmentid\" class=\"list-inset\"></attach-list>\n  </ion-content>\n\n  <ion-footer-bar>\n    <!-- <button>标记为待办</button> -->\n    <div class=\"tabs tabs-light tabs-icon-only\">\n      <a class=\"tab-item\" ng-click=\"toggleMark()\">\n        <i class=\"icon ion-ios-star\" ng-class=\"{\'assertive\': mail.ismark == \'1\'}\"></i>\n      </a>\n      <a class=\"tab-item\" ng-click=\"reply()\">\n        <i class=\"icon ion-reply\"></i>\n      </a>\n      <a class=\"tab-item\" ng-click=\"replyAll()\">\n        <i class=\"icon ion-reply-all\"></i>\n      </a>\n      <a class=\"tab-item\" ng-click=\"remove()\">\n        <i class=\"icon ion-ios-trash\"></i>\n      </a>\n    </div>\n  </ion-footer-bar>\n</ion-view>\n");
$templateCache.put("templates/email/email-inbox.html","<ion-view title=\"{{title}}\">\n\n  <ion-content>\n    <ion-refresher\n      on-refresh=\"refresh()\">\n    </ion-refresher>\n\n    <div class=\"item item-input-inset\">\n      <label class=\"item-input-wrapper\">\n        <input type=\"text\" placeholder=\"搜索关键词\" name=\"keyword\" ng-model=\"prop.keyword\">\n      </label>\n      <button class=\"button button-small button-clear\" ng-click=\"list.search(prop.keyword)\">\n        搜索\n      </button>\n    </div>\n\n    <div class=\"list-empty-tip\" ng-if=\"list.checkNoData()\">\n      暂无邮件\n    </div>\n\n    <ion-list>\n      <a class=\"item\"\n        ng-repeat=\"mail in list.mails\"\n        type=\"item-text-wrap\"\n        on-hold=\"showMenu(mail)\"\n        ui-sref=\"{{sref}}\"\n        ng-click=\"list.view(mail.emailid)\"\n      >\n        <h2 ng-class=\"{\n          \'assertive\': mail.important == \'2\',\n          \'balanced\': mail.important == \'1\'\n          }\"\n        >\n          <span class=\"item-note\">{{mail.sendtime * 1000|humanizedTime}}</span>\n          <i class=\"newmark\" ng-if=\"mail.isread==\'0\'\"></i> {{mail.fromuser}}\n        </h2>\n        <p>\n          <i class=\"assertive ion-ios-star fr fsu\" ng-if=\"mail.ismark==\'1\'\"></i>\n          {{mail.subject}}\n        </p>\n      </a>\n    </ion-list>\n        \n    <button class=\"button button-full button-clear button-positive\" ng-if=\"list.mails.length && list.hasMore\" ng-click=\"list.loadMore()\">加载更多</button>\n\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/email/email-index.html","<ion-view title=\"邮件中心\" hide-back-button=\"true\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"portal\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n  \n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear button-positive\" ui-sref=\"email.create\"> 写邮件</button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <ion-list>\n      <ion-item class=\"item-icon-left\" ui-sref=\"email.inbox\">\n        <!-- <i class=\"icon ion-archive\"></i> -->\n        <i class=\"icon ion-ios-filing\"></i>\n        收件箱\n      </ion-item>\n\n      <ion-item class=\"item-icon-left\" ui-sref=\"email.todo\">\n        <!-- <i class=\"icon ion-bookmark\"></i> -->\n        <i class=\"icon ion-ios-star\"></i>\n        待办邮件\n      </ion-item>\n\n      <ion-item class=\"item-icon-left\" ui-sref=\"email.outbox\">\n        <!-- <i class=\"icon ion-paper-airplane\"></i> -->\n        <i class=\"icon ion-ios-paperplane\"></i>\n        已发送\n      </ion-item>\n\n      <ion-item class=\"item-icon-left\" ui-sref=\"email.trash\">\n        <i class=\"icon ion-ios-trash\"></i>\n        已删除\n      </ion-item>\n      <!-- 文件夹目前不做 -->\n      <!--\n      <ion-item class=\"item-divider\">我的文件夹</ion-item>\n      <ion-item class=\"item-icon-left\"><i class=\"icon ion-ios-folder\"></i></ion-item>\n      -->\n    </ion-list>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/email/email-outbox.html","<ion-view title=\"{{title}}\">\n\n  <ion-content>\n    <ion-refresher\n      on-refresh=\"refresh()\">\n    </ion-refresher>\n\n    <div class=\"item item-input-inset\">\n      <label class=\"item-input-wrapper\">\n        <input type=\"text\" placeholder=\"搜索关键词\" name=\"keyword\" ng-model=\"prop.keyword\">\n      </label>\n      <button class=\"button button-small button-clear\" ng-click=\"list.search(prop.keyword)\">\n        搜索\n      </button>\n    </div>\n\n    <h4 class=\"padding text-center\" ng-if=\"list.checkNoData()\">\n      暂无邮件\n    </h4>\n    <ion-list>\n      <a class=\"item\"\n        ng-repeat=\"mail in list.mails\"\n        type=\"item-text-wrap\"\n        on-hold=\"showMenu(mail)\"\n        ui-sref=\"{{sref}}\"\n      >\n        <span class=\"item-note\">{{mail.sendtime * 1000|humanizedTime}}</span>\n        <h2 ng-class=\"{\n          \'assertive\': mail.important == \'2\',\n          \'balanced\': mail.important == \'1\'\n        }\">\n          {{mail.issend == \'1\'? (mail.toids|userInfo:\'realname\'): mail.fromuser}}\n        </h2>\n        <p>\n          <!--<i class=\"assertive ion-ios-star fr fsu\" ng-if=\"mail.ismark==\'1\'\"></i>-->\n          {{mail.subject}}\n        </p>\n      </a>\n    </ion-list>\n        \n    <button class=\"button button-full button-clear button-positive\" ng-if=\"list.mails.length && list.hasMore\" ng-click=\"list.loadMore()\">加载更多</button>\n\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/news/news-approval.html","<ion-view title=\"审核新闻\">\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item\" ng-click=\"checkNews()\">\n      <i class=\"icon-check\"></i>\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <div class=\"news-approval-notpass\" ng-if=\"news.back\"></div>\n\n    <div class=\"padding-horizontal15\">\n      <h4>{{ news.subject }}</h4>\n    </div>\n\n    <div class=\"padding-horizontal15 clearfix detail-info\">\n      <span class=\"positive fr\" ng-click=\"showInfoDetail = !showInfoDetail\">\n        {{ showInfoDetail ? \'收起\' : \'详情\' }}\n      </span>\n\n      <p>{{ news.uptime * 1000 | humanizedDate }}</p>\n      \n      <div ng-show=\"showInfoDetail\">\n        <div class=\"news-detail\">\n          <span class=\"coyness\">发布人：</span>\n          <span> {{ news.author }} </span>\n        </div>\n\n        <div class=\"news-detail\">\n          <span class=\"coyness\">审核人：</span>\n          <span> {{ news.approver }} </span>\n        </div>\n\n        <div class=\"news-detail\">\n          <span class=\"coyness\">类别：</span>\n          <span> {{ news.authorDeptName }} </span>\n        </div>\n\n        <div class=\"news-detail\">\n          <span class=\"coyness\">范围：</span>\n          <span> {{ news.departmentNames }} &nbsp;{{ news.positionNames }}&nbsp; {{ news.uidNames }} </span>\n        </div>\n      </div>\n    </div>\n\n    <!-- 文章内容 -->\n    <div ng-show=\"news.type==\'0\'\" class=\"padding-vertical padding-horizontal15 editor-content\" img-preview ng-bind-html=\"news.content | editorContent | asHtml\"></div>\n    <!-- 图片内容 -->\n    <div ng-show=\"news.type==\'1\'\" class=\"padding-vertical padding-horizontal15\" img-preview>\n      <div ng-repeat=\"pic in news.pictureData\" class=\"margin-bottom\">\n        <img ng-src=\"{{ pic.filepath | fullUrl }}\" class=\"full-image\"/>\n      </div>\n    </div>\n\n    <div class=\"news-approval\" ng-if=\"news.approvalStep.length > 0\" >\n      <ion-item class=\"item item-divider\">审核复批</ion-item>\n      <div class=\"item item-avatar\" ng-repeat=\"step in news.approvalStep\">\n        <span ng-class=\"{\n          \'upapproval\': step.status === 3,\n          \'pass\' : step.status === 1 ,\n          \'not-pass\': step.status === 2\n          }\">\n          <i class=\"ion-android-done pass\" ng-if=\"step.status === 1\"></i>\n          <i class=\"ion-android-close not-pass\" ng-if=\"step.status === 2\"></i>\n        </span>\n        <div>\n          <h2 class=\"fsm\">{{ step.approver }}<span ng-if=\"step.status === 1\">： 通过</span></h2>\n          <p ng-if=\"step.status !== 3\">{{ step.addtime *1000 | date: \'MM-dd\' }} {{ step.addtime * 1000 | date:\'HH:mm\' }}</p>\n          <p ng-if=\"step.status === 3\"> 未审核 </p>\n        </div>\n\n        <div class=\"news-reject-content\" ng-if=\"step.status == 2 && step.reason\">\n          {{ step.reason }}\n        </div>\n      </div>\n    </div>\n\n  </ion-content>\n\n</ion-view>");
$templateCache.put("templates/news/news-category.html","<ion-view title=\"新闻\" hide-back-button=\"true\" class=\"gloomy-bg\">\n\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button button-clear back-button header-item no-animation\" ui-sref=\"portal\" ng-if=\"histories.length === 0\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n\n    <button class=\"button back-button button-clear header-item no-animation\" ng-click=\"back()\" ng-if=\"histories.length > 0\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      返回\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <ion-scroll ng-if=\"histories.length > 0\" direction=\"x\" scrollbar-x=\"false\" delegate-handle=\"news-breadcrumb-scroll\" class=\"breadcrumbs\">\n      <a class=\"news-route\"\n        ng-repeat=\"cate in histories\"\n        ng-if=\"cate.catid !== \'0\'\"\n        ng-click=\"toCategory(cate)\"\n        >{{ cate.name }}</a>\n      <span class=\"news-route\">\n        {{ currentCategory.name }}\n      </span>\n    </ion-scroll>\n\n    <ion-list class=\"news-list\">\n      <!-- 空值 -->\n      <div class=\"list-empty-tip\" ng-if=\"list.length === 0 && categories.length === 0\">\n        <i class=\"news-icon-empty\"></i>\n        <div class=\"text-center coyness\">这里空空如也！</div>\n      </div>\n\n      <!-- 目录列表 -->\n      <ion-item class=\"item-folder\" ng-repeat=\"category in categories\"ng-click=\"enterCategory(category);\">\n        <i class=\"icon-folder\"></i>\n        <span>{{ category.name }}</span>\n        <i class=\"item-note ion-ios-arrow-forward\"></i>\n      </ion-item>\n\n      <!-- 新闻列表 -->\n      <ion-item ng-repeat=\"n in list\" ng-click=\"open(n)\" ng-if=\"histories.length > 0\" ng-include=\"\'templates/news/news-item.html\'\">\n      </ion-item>\n\n    </ion-list>\n\n    <!--<button class=\"button button-full button-clear button-positive\" ng-if=\"list.news.length && list.hasMore\" ng-click=\"list.loadMore()\">加载更多</button>-->\n  </ion-content>\n\n  <ion-footer-bar class=\"row fs11 coyness text-center news-footer-bar\">\n    <div class=\"col col-25\" ui-sref=\"news.published\" nav-direction=\"none\">\n      <i class=\"icon-issuance\"></i>\n      <div>已发布</div>\n    </div>\n    <div class=\"col col-25\" ui-sref=\"news.unread\" nav-direction=\"none\">\n      <i class=\"icon-unread\"></i>\n      <div>未读</div>\n    </div>\n    <div class=\"col col-25\" ui-sref=\"news.unapproval\" nav-direction=\"none\">\n      <i class=\"icon-unapproval\"></i>\n      <div>未审核</div>\n    </div>\n    <div class=\"col col-25 active\">\n      <i class=\"icon-sorting\"></i>\n      <div>分类</div>\n    </div>\n  </ion-footer-bar>\n</ion-view>\n");
$templateCache.put("templates/news/news-comment-detail.html","<ion-modal-view class=\"lightyellow-bg news-comment-detail\" >\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"commentTetailModal.hide()\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\">×</span>\n    </button>\n    <h1 class=\"title\">查看评论</h1>\n    <button class=\"button-icon icon button button-clear\" ng-click=\"openComment(\'comment\')\">\n      <i class=\"icon-comment-gray\"></i>\n    </button>\n  </ion-header-bar>\n\n  <ion-content>\n    <div class=\"comment\" ng-if=\"commentList\" >\n        <div class=\"item item-avatar item-text-wrap detail-list item-indent\"  ng-repeat=\"cm in commentList\" ng-click=\"openComment(\'reply\', cm)\">\n          <img ng-src=\"{{ cm.uid | userInfo:\'avatar_middle\'| fullUrl }}\">\n          <span class=\"item-note insipid fs11\">{{ cm.ctime * 1000 | date:\'MM-dd HH:mm\' }}</span>\n          <h2 class=\"coyness\">{{ cm.uid | userInfo:\'realname\' }}</h2>\n          <p class=\"somber\" ng-bind-html=\"cm.content | editorContent\"></p>\n        </div>\n    </div>\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/news/news-comment.html","<ion-modal-view class=\"lightyellow-bg\">\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"commentModal.hide()\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\">×</span>\n    </button>\n    <h1 class=\"title\">评论</h1>\n    <button class=\"button-icon icon button button-clear\"\n      ng-disabled=\"!comment.content\"\n      ng-click=\"submit()\">完成</button>\n  </ion-header-bar>\n\n  <ion-content class=\"has-header diary-comment-textarea\">\n    <textarea placeholder=\"好想说点什么...\" ng-model=\"comment.content\"></textarea>\n    <div class=\"fss coyness light-bg margin padding diary-comment-counting\">\n      <charcount ng-model=\"comment.content\"></charcount>个字\n    </div>\n  </ion-content>\n</ion-modal-view>");
$templateCache.put("templates/news/news-detail.html","<ion-view title=\"查看新闻\" hide-tabs hide-back-button=\"true\">\n  \n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-if=\"hasBackView()\" ng-click=\"$ionicGoBack()\"  nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      返回\n    </button>\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!hasBackView()\" ui-sref=\"news.published\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      信息中心\n    </button>\n  </ion-nav-buttons>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear header-item news-more\" ng-click=\"showMore()\">···</button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <div class=\"padding-horizontal15\">\n      <h4>{{news.subject}}</h4>\n    </div>\n    <div class=\"padding-horizontal15 clearfix detail-info\">\n      <span class=\"positive fr\" ng-click=\"showInfoDetail = !showInfoDetail\">\n        {{ showInfoDetail ? \'收起\' : \'详情\' }}\n      </span>\n      <p> {{ news.createtime }}</p>\n      <div ng-show=\"showInfoDetail\">\n        <div class=\"news-detail\">\n          <span class=\"coyness\">发布人：</span>\n          <span> {{ news.author || \'/\' }} </span>\n        </div>\n\n        <div class=\"news-detail\">\n          <span class=\"coyness\">审核人：</span>\n          <span> {{ news.approver }} </span>\n        </div>\n\n        <div class=\"news-detail\">\n          <span class=\"coyness\">类别：</span>\n          <span> {{ news.categoryName }} </span>\n        </div>\n\n        <div class=\"news-detail\">\n          <span class=\"coyness\">范围：</span>\n          <span> {{ news.departmentNames }} &nbsp;{{ news.positionNames }}&nbsp; {{ news.uidNames }}</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- 文章内容 -->\n    <div ng-show=\"news.type==\'0\'\" class=\"padding-vertical padding-horizontal15 editor-content\" img-preview ng-bind-html=\"news.content | editorContent | asHtml\"></div>\n    <!-- 图片内容 -->\n    <div ng-show=\"news.type==\'1\'\" class=\"padding-vertical padding-horizontal15\" img-preview>\n      <div ng-repeat=\"pic in news.pictureData\" class=\"margin-bottom\">\n        <img ng-src=\"{{ pic.filepath | fullUrl }}\" class=\"full-image\"/>\n      </div>\n    </div>\n\n    <!-- 评论 -->\n    <div class=\"news-comment\" ng-if=\"news.commentstatus != 0\">\n      <div class=\"item item-divider\">\n        <span>评论 {{ news.commentcount }}</span>\n        <i class=\"item-note icon-comment-gray\" ng-click=\"openComment(\'comment\')\"></i>\n      </div>\n\n      <div class=\"item text-center\" ng-if=\"news.commentcount <=  0\">暂时还没有评论哦！</div>\n\n      <div class=\"list\"  ng-if=\"commentList\">\n        <div class=\"item item-avatar item-text-wrap detail-list item-indent\" ng-repeat=\"cm in commentList | before:4\" ng-click=\"openComment(\'reply\',cm)\">\n          <img ng-src=\"{{ cm.uid | userInfo:\'avatar_middle\' | fullUrl }}\">\n          <span class=\"item-note insipid fs11\">{{ cm.ctime * 1000 | date:\'MM-dd HH:mm\' }}</span>          \n          <h2 class=\"coyness\">{{ cm.uid | userInfo:\'realname\' }}</h2>\n          <p class=\"somber\" ng-bind-html=\"cm.content | editorContent\"></p>\n        </div>\n\n        <div class=\"item padding text-center common-black\" ng-if=\"commentList.length > 3\" ng-click=\"openCommentDetail()\">查看更多</div>\n      </div>\n    </div>\n\n    <!-- 附件 -->\n    <attach-list attach=\"news.attach\" ng-if=\"news.attachmentid\" class=\"list-inset\"></attach-list>\n\n    <div class=\"news-reader\" ng-if=\"news.readers.length > 0\">\n      <div class=\"item item-divider\">查阅情况 {{ news.readers.length }} </div>\n        <ul class=\" row text-center\">\n          <li class=\"col\" ng-repeat=\"item in [] | range: 6\">\n              <div ng-if=\"news.readers[$index] && ($index < 5 || ($index == 5 && news.readers.length === 6))\">\n                <img  ng-src=\"{{ news.readers[$index].avatar_middle | fullUrl  }}\">\n                <div class=\"fsm common-black\">{{ news.readers[$index].realname }}</div>\n              </div>\n              <div ng-if=\"$index == 5  && news.readers.length > 6\" ng-click=\"openReaderDetail()\">\n                <span>···</span>\n                <div class=\"fsm common-black\"> 更多</div>\n              </div>\n          </li>\n        </ul>\n    </div>\n  </ion-content>\n\n</ion-view>\n");
$templateCache.put("templates/news/news-index.html","<ion-view title=\"新闻\" hide-back-button=\"true\" class=\"gloomy-bg\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button button-clear back-button header-item\" ui-sref=\"portal\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <!--<div class=\"item item-input-inset\">-->\n      <!--<label class=\"item-input-wrapper\">-->\n        <!--<input type=\"text\" placeholder=\"搜索关键词\" name=\"keyword\" ng-model=\"keyword\">-->\n      <!--</label>-->\n      <!--<button class=\"button button-small button-clear\" ng-click=\"list.search(keyword)\">-->\n        <!--搜索-->\n      <!--</button>-->\n    <!--</div>-->\n    <ion-refresher on-refresh=\"refresh()\"></ion-refresher>\n\n    <div class=\"list-empty-tip\" ng-if=\"list.news.length === 0 \">\n      <i class=\"news-icon-empty\"></i>\n      <div class=\"text-center coyness\">这里空空如也！</div>\n    </div>\n\n    <ion-list class=\"news-list\">\n      <ion-item ng-repeat=\"n in list.news\" ng-click=\"open(n)\" ng-class=\"{ \'news-item-top\': n.istop == 1 }\" ng-include=\"\'templates/news/news-item.html\'\"></ion-item>\n    </ion-list>\n\n    <button class=\"button button-full button-clear button-positive\" ng-if=\"list.news.length && list.hasMore\" ng-click=\"list.loadMore()\">加载更多</button>\n  </ion-content>\n\n  <ion-footer-bar class=\"row fs11 coyness text-center news-footer-bar\">\n    <div class=\"col col-25 active\">\n      <i class=\"icon-issuance\"></i>\n      <div>已发布</div>\n    </div>\n    <div class=\"col col-25\" ui-sref=\"news.unread\" nav-direction=\"none\">\n      <i class=\"icon-unread\"></i>\n      <div>未读</div>\n    </div>\n    <div class=\"col col-25\" ui-sref=\'news.unapproval\' nav-direction=\"none\">\n      <i class=\"icon-unapproval\"></i>\n      <div>未审核</div>\n    </div>\n    <div class=\"col col-25\" ui-sref=\"news.category\" nav-direction=\"none\">\n      <i class=\"icon-sorting\"></i>\n      <div>分类</div>\n    </div>\n  </ion-footer-bar>\n\n</ion-view>");
$templateCache.put("templates/news/news-item.html","<span class=\"news-circle\" ng-if=\"!n.readstatus\"></span>\n<h2 ng-class=\"{\'positive\': !n.readstatus}\" ng-bind-html=\"n.subject | asHtml\"></h2>\n\n<!-- 文章内容 -->\n<p ng-if=\"n.type == 0\" ng-bind=\"n.content | stripTags\" ></p>\n<!-- 图片内容 -->\n<p ng-if=\"n.type == 1\">[图片]</p>\n<!-- 超链接 -->\n<p ng-if=\"n.type == 2\">[链接]</p>\n\n<span class=\"fs11 insipid\">{{ n.author}}&nbsp;&nbsp;{{ n.uptime * 1000 | humanizedDate}}</span>\n<span class=\"item-note fs11 insipid\">\n  <i class=\"icon-comment\" ng-if=\" n.commentstatus == 1\"></i>\n  <span class=\"vam\" ng-if=\"n.commentstatus == 1\" >{{ n.commentcount || 0 }}</span>\n  &nbsp;&nbsp;\n  <i class=\"icon-review\"></i>\n  <span class=\"vam\">{{ n.clickcount || 0 }}</span>\n</span>");
$templateCache.put("templates/news/news-move.html","<ion-modal-view class=\"lightyellow-bg\">\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"moveModel.hide()\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\">×</span>\n    </button>\n    <h1 class=\"title\">移动到</h1>\n    <button class=\"button-icon icon button button-clear\" ng-disabled=\"!catid\" ng-click=\"submit()\">完成</button>\n  </ion-header-bar>\n\n  <ion-content>\n    <div class=\"news-folder-list\" ng-repeat=\"item in categorys\" ng-init=\"level = 0\">\n      <i class=\"item-note\"\n         ng-class=\"{\n           \'ion-chevron-right\': item.showChildrenList == false ,\n           \'ion-chevron-down\': item.childrenList\n        }\"\n         ng-click=\"item.showChildrenList = !item.showChildrenList\"\n          ></i>\n      <ion-checkbox  ng-model=\"item.checked\" ng-click=\"selectCategory(item)\">\n        <i class=\"icon-folder\"></i>\n        <span>{{ item.name }}</span>\n      </ion-checkbox>\n\n      <div ng-if=\"item.childrenList.length\" ng-include=\"\'tpl_news_folder_tree\'\" ng-show=\"item.showChildrenList\"></div>\n    </div>\n  </ion-content>\n\n\n  <script type=\"text/ng-template\" id=\"tpl_news_folder_tree\">\n\n    <div class=\"news-folder-list children-list\" ng-repeat=\"item in item.childrenList\">\n      <i class=\"item-note\"\n         ng-class=\"{\n           \'ion-chevron-right\':  item.showChildrenList == false,\n           \'ion-chevron-down\': item.childrenList\n          }\"\n         ng-click=\"item.showChildrenList = !item.showChildrenList\"\n          ></i>\n      <ion-checkbox ng-model=\"item.checked\" ng-click=\"selectCategory(item)\">\n        <i class=\"icon-folder\"></i>\n        <span>{{ item.name }}</span>\n\n      </ion-checkbox>\n      <div  class=\"news-folder-list-childern\" ng-if=\"item.childrenList.length\" ng-include=\"\'tpl_news_folder_tree\'\" ng-show=\"item.showChildrenList\"></div>\n    </div>\n\n  </script>\n\n</ion-modal-view>");
$templateCache.put("templates/news/news-published.html","<ion-view title=\"{{title}}\" hide-back-button=\"true\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"portal\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n  <ion-content>\n    <div class=\"item item-input-inset\">\n      <label class=\"item-input-wrapper\">\n        <input type=\"text\" placeholder=\"搜索关键词\" name=\"keyword\" ng-model=\"keyword\">\n      </label>\n      <button class=\"button button-small button-clear\" ng-click=\"list.search(keyword)\">\n        搜索\n      </button>\n    </div>\n    \n    <div class=\"list-empty-tip\" ng-if=\"checkNoData()\">暂无相关新闻</div>\n\n    <ion-list class=\"news-list\">\n      <ion-item \n        ng-repeat=\"n in list.news\"\n        ng-click=\"open(n)\"\n        >\n          <div class=\"item-note\" ng-bind-html=\"n.uptime\"></div>\n          <h2 ng-class=\"{\'positive\': !n.readstatus}\">{{n.subject}}</h2>\n          <p>\n            {{n.content}}\n          </p>\n      </ion-item>\n    </ion-list>\n\n    <button class=\"button button-full button-clear button-positive\" ng-if=\"list.news.length && list.hasMore\" ng-click=\"list.loadMore()\">加载更多</button>\n\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/news/news-reader-detail.html","<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"readerTetailModal.hide()\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\">×</span>\n    </button>\n    <h1 class=\"title\">查阅情况</h1>\n  </ion-header-bar>\n\n  <ion-content class=\"news-reader\">\n    <div class=\"list\">\n      <div class=\"item item-divider title\" ng-repeat-start=\"(deptname, reader) in readers\">{{ deptname }}</div>\n      <ul class=\"row text-center\" ng-repeat-end ng-repeat=\"group in (reader|chunkBy:6:null)\">\n        <li class=\"col\" ng-repeat=\"item in group track by $index\">\n          <img ng-src=\"{{ item.avatar_middle | fullUrl }}\" ng-if=\"item\">\n          <div class=\"fsm common-black\" ng-if=\"item\">{{ item.realname }}</div>\n        </li>\n      </ul>\n    </div>\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/news/news-unapproval.html","<ion-view title=\"新闻\" hide-back-button=\"true\" class=\"gloomy-bg\">\n\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button button-clear back-button header-item\" ui-sref=\"portal\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <ion-refresher on-refresh=\"refresh()\"></ion-refresher>\n\n    <div class=\"list-empty-tip\" ng-if=\"news.length === 0 \">\n      <i class=\"news-icon-empty\"></i>\n      <div class=\"text-center coyness\">这里空空如也！</div>\n    </div>\n\n    <ion-list class=\"news-list\">\n      <ion-item ng-repeat=\"n in news\" ng-click=\"open(n)\">\n        <span class=\"item-note positive\" ng-if=\"!n.back\">待审核</span>\n        <span class=\"item-note assertive\" ng-if=\"n.back\">未通过</span>\n        <h2 ng-bind-html=\"n.subject | asHtml\"></h2>\n\n        <!-- 文章内容 -->\n        <p ng-if=\"n.type == 0\">{{ n.content | htmlToPlaintext }}</p>\n        <!-- 图片内容 -->\n        <p ng-if=\"n.type == 1\">[图片]</p>\n        <!-- 超链接 -->\n        <p ng-if=\"n.type == 2\">[链接]</p>\n\n        <span class=\"fs11 insipid\">{{ n.author}} 上传于 {{ n.uptime * 1000 | humanizedDate }}</span>\n      </ion-item>\n    </ion-list>\n\n    <button class=\"button button-full button-clear button-positive\" ng-if=\"pages.pageCount > pages.page + 1\" ng-click=\"loadMore()\">加载更多</button>\n  </ion-content>\n\n  <ion-footer-bar class=\"row fs11 coyness text-center news-footer-bar\">\n    <div class=\"col col-25\" ui-sref=\"news.published\" nav-direction=\"none\">\n      <i class=\"icon-issuance\"></i>\n      <div>已发布</div>\n    </div>\n    <div class=\"col col-25\" ui-sref=\"news.unread\" nav-direction=\"none\">\n      <i class=\"icon-unread\"></i>\n      <div>未读</div>\n    </div>\n    <div class=\"col col-25 active\">\n      <i class=\"icon-unapproval\"></i>\n      <div>未审核</div>\n    </div>\n    <div class=\"col col-25\" ui-sref=\"news.category\" nav-direction=\"none\">\n      <i class=\"icon-sorting\"></i>\n      <div>分类</div>\n    </div>\n  </ion-footer-bar>\n\n</ion-view>");
$templateCache.put("templates/news/news-unread.html","<ion-view title=\"新闻\" hide-back-button=\"true\" class=\"gloomy-bg\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button button-clear back-button header-item\" ui-sref=\"portal\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear black-button buttons header-item no-animation\"\n        ng-if=\"list.news.length\"\n        ng-click=\"markRead()\">\n      <i class=\"icon-allread\"></i>\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <ion-refresher on-refresh=\"refresh()\"></ion-refresher>\n\n    <div class=\"list-empty-tip\" ng-if=\"list.news.length === 0 \">\n      <i class=\"news-icon-empty\"></i>\n      <div class=\"text-center coyness\">这里空空如也！</div>\n    </div>\n\n    <ion-list class=\"news-list\">\n      <ion-item ng-repeat=\"n in list.news\" ng-click=\"open(n)\" ng-include=\"\'templates/news/news-item.html\'\"></ion-item>\n    </ion-list>\n\n    <button class=\"button button-full button-clear button-positive\" ng-if=\"list.news.length && list.hasMore\" ng-click=\"list.loadMore()\">加载更多</button>\n  </ion-content>\n\n  <ion-footer-bar class=\"row fs11 coyness text-center news-footer-bar\">\n    <div class=\"col col-25\" ui-sref=\"news.published\" nav-direction=\"none\">\n      <i class=\"icon-issuance\"></i>\n      <div>已发布</div>\n    </div>\n    <div class=\"col col-25 active\">\n      <i class=\"icon-unread\"></i>\n      <div>未读</div>\n    </div>\n    <div class=\"col col-25\" ui-sref=\"news.unapproval\" nav-direction=\"none\">\n      <i class=\"icon-unapproval\"></i>\n      <div>未审核</div>\n    </div>\n    <div class=\"col col-25\" ui-sref=\"news.category\" nav-direction=\"none\">\n      <i class=\"icon-sorting\"></i>\n      <div>分类</div>\n    </div>\n  </ion-footer-bar>\n\n</ion-view>");
$templateCache.put("templates/news/news.html","<ion-tabs class=\"tabs-icon-top\" ng-class=\"{ \'tabs-item-hide\': $root.hideTabs }\">\n\n  <!-- Article-Published Tab -->\n  <ion-tab title=\"已发布\" icon=\"ion-ios-filing\" href=\"#/news/published\">\n    已发布\n    <ion-nav-view name=\"news-published\"></ion-nav-view>\n  </ion-tab>\n\n  <!-- Article-Unread Tab -->\n  <ion-tab title=\"未读\" icon=\"ion-ios-list-outline\" href=\"#/news/unread\">\n    未读\n    <ion-nav-view name=\"news-unread\"></ion-nav-view>\n  </ion-tab>\n\n  <!-- Article-Read Tab -->\n  <ion-tab title=\"已读\" icon=\"ion-ios-list\" href=\"#/news/read\">\n    已读\n    <ion-nav-view name=\"news-read\"></ion-nav-view>\n  </ion-tab>\n\n  <ion-tab title=\"按分类\" icon=\"ion-ios-folder\" href=\"#/news/category\">\n    按分类\n    <ion-nav-view name=\"news-category\"></ion-nav-view>\n  </ion-tab>\n\n</ion-tabs>\n\n<!--<ion-view  title=\"新闻\">-->\n  <!--<ion-footer-bar class=\"row\">-->\n    <!--<div class=\"col col-25\">-->\n      <!--<i class=\"icon-issuance\"></i>-->\n      <!--已发布-->\n    <!--</div>-->\n    <!--<div class=\"col col-25\">-->\n      <!--<i class=\"icon-unread\"></i>-->\n      <!--未读-->\n    <!--</div>-->\n    <!--<div class=\"col col-25\">-->\n      <!--<i class=\"icon-unapproval\"></i>-->\n      <!--未审核-->\n    <!--</div>-->\n    <!--<div class=\"col col-25\">-->\n      <!--<i class=\"icon-sorting\"></i>-->\n      <!--已发布-->\n    <!--</div>-->\n  <!--</ion-footer-bar>-->\n<!--</ion-view>-->");
$templateCache.put("templates/report/report-add-modal.html","<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button back-button button-clear header-item\" ng-click=\"addModel.hide()\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\" >×</span>\n    </button>\n    <h1 class=\"title\">模板商城</h1>\n\n    <button class=\"button back-button buttons button-clear header-item\"  ng-click=\";openManageModel()\">\n      <span class=\"positive\">我的模板</span>\n    </button>\n  </ion-header-bar>\n\n  <ion-content class=\"sets-ctnr \">\n    <ion-list class=\"list list-avatar-group light-bg rp-order-list\" >\n      <ion-item class=\"item-divider padding lightyellow-bg\" ng-repeat-start=\"templates in templateData\">\n        {{ templates.catename }}\n      </ion-item>\n      <ion-item class=\"item-avatar\" ng-repeat-end ng-repeat=\"tpl in templates.template\">\n        <i class=\"rp-tpl-icon rp-tpl-icon-30 rp-tpl-icon-{{tpl.pictureurl}}\" ></i>\n        <h2>{{tpl.tname}}</h2>\n        <p class=\"fs09 insipid\">提供者:{{tpl.provider }}</p>\n        <p class=\"fs11 coyness\">{{tpl.description }}</p>\n        <button class=\"button-clear rp-tpl-add-button\"\n             ng-class=\"{ \'added\': tpl.isadd ,\'add\': !tpl.isadd }\"\n             ng-disabled=\"!isAdd || tpl.isadd\"\n             ng-click=\"addTemplate(tpl.tid)\">\n          {{ tpl.isadd ? \'已添加\': \'添加\'}}\n        </button>\n      </ion-item>\n    </ion-list>\n\n  </ion-content>\n</ion-modal-view>");
$templateCache.put("templates/report/report-comment-detail.html","  <ion-modal-view class=\"lightyellow-bg news-comment-detail\" >\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"commentTetailModal.hide()\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\">×</span>\n    </button>\n    <h1 class=\"title\">查看评论</h1>\n    <button class=\"button-icon icon button button-clear\" ng-click=\"openComment(\'comment\')\">\n      <i class=\"icon-comment-gray\"></i>\n    </button>\n  </ion-header-bar>\n\n  <ion-content>\n    <div class=\"rp-comment\" ng-if=\"commentList\" >\n      <div class=\"item item-divider lightyellow-bg padding\">查阅情况 {{ commentList.length }} </div>\n      <div class=\"item item-avatar item-text-wrap detail-list item-indent\"  ng-repeat=\"cm in commentList\" ng-click=\"openComment(\'reply\', cm)\">\n        <img ng-src=\"{{ cm.uid | userInfo:\'avatar_middle\'| fullUrl }}\">\n        <span class=\"item-note insipid fs11\">{{ cm.ctime | htmlToPlaintext }}</span>\n        <h2 class=\"coyness\">{{ cm.uid | userInfo:\'realname\' }}</h2>\n        <p class=\"somber\" ng-bind-html=\"cm.content | editorContent\"></p>\n      </div>\n    </div>\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/report/report-comment.html","<ion-modal-view class=\"lightyellow-bg\">\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"commentModal.hide()\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\">×</span>\n    </button>\n    <h1 class=\"title\">评论</h1>\n    <button class=\"button-icon icon button button-clear positive\"\n            ng-disabled=\"!comment.content\"\n            ng-click=\"submit()\">完成</button>\n  </ion-header-bar>\n\n  <ion-content class=\"has-header diary-comment-textarea\">\n    <textarea placeholder=\"好想说点什么...\" ng-model=\"comment.content\"></textarea>\n    <div class=\"fss coyness light-bg margin padding diary-comment-counting\">\n      <charcount ng-model=\"comment.content\"></charcount>个字\n    </div>\n\n    <div class=\"padding light-bg rp-comment-stamp-box\" ng-if=\"report.isstamp\">\n      <div ng-click=\"comment.isStampsBoxShow = !comment.isStampsBoxShow\"  >\n        <span ng-class=\"{\'icon-favor\':!comment.isStampsBoxShow, \'icon-favor-red\': comment.isStampsBoxShow}\"></span>\n        <img ng-if=\"comment.stamp\" ng-src=\"{{ comment.stamp.icon | fullUrl }}\">\n      </div>\n    </div>\n    <item class=\"diary-comment-stamps\" ng-show=\"comment.isStampsBoxShow\">\n      <ul class=\"row light-bg\" ng-repeat=\"rowStamps in report.stamps | chunkBy:4\">\n        <li class=\"col col-25\" ng-repeat=\"stamp in rowStamps\" ng-click=\"comment.stamp = stamp; comment.isStampsBoxShow = false\" >\n          <img ng-src=\"{{ stamp.icon | fullUrl }}\" alt=\"{{ stamp.code }}\">\n        </li>\n      </ul>\n    </item>\n\n  </ion-content>\n</ion-modal-view>");
$templateCache.put("templates/report/report-form.html","<form name=\"reportForm\">\n  <ion-view title=\"{{ subject }}\" hide-back-button=\"true\">\n    <ion-nav-buttons side=\"left\">\n      <button class=\"button button-clear\" ng-click=\"saveDraft()\">\n        <i class=\"icon ion-ios-arrow-back\"></i>\n        汇报\n      </button>\n    </ion-nav-buttons>\n\n    <ion-nav-buttons side=\"right\">\n      <button class=\"button button-clear\" ng-click=\"submit()\" ng-disabled=\"reportForm.$invalid\">\n        <span class=\"positive\">完成</span>\n      </button>\n    </ion-nav-buttons>\n\n    <ion-content>\n      <div  class=\"rp-widget-item\" ng-repeat=\"item in formData.fields\" >\n        <label class=\"item item-input rp-remarks-item\" ng-if=\"item.fieldtype == 1\">\n          <span class=\"input-label coyness\">{{item.fieldname}}<em class=\"assertive\" ng-if=\"item.iswrite == 1\">*</em></span>\n          <textarea placeholder=\"请输入文字\" ng-model=\"item.content\" ng-required=\"item.iswrite == 1\"></textarea>\n        </label>\n\n        <label class=\"item item-input\" ng-if=\"item.fieldtype == 2\">\n          <span class=\"input-label coyness\">{{item.fieldname}}<em class=\"assertive\" ng-if=\"item.iswrite == 1\">*</em></span>\n          <input type=\"text\" placeholder=\"请输入文字\" ng-model=\"item.content\" ng-required=\"item.iswrite == 1\">\n        </label>\n        \n        <label class=\"item item-input\" ng-if=\"item.fieldtype == 3\">\n          <span class=\"input-label coyness\">{{item.fieldname}}<em class=\"assertive\" ng-if=\"item.iswrite == 1\">*</em></span>\n          <input type=\"text\" placeholder=\"请输入数字\" ng-model=\"item.content\" ng-required=\"item.iswrite == 1\">\n        </label>\n\n        <label class=\"item item-input\" ng-if=\"item.fieldtype == 4\">\n          <span class=\"input-label coyness\">{{item.fieldname}}<em class=\"assertive\" ng-if=\"item.iswrite == 1\">*</em></span>\n          <input type=\"datetime-local\" name=\"date\" placeholder=\"请选择时间与日期\" ng-model=\"item.content\" ng-required=\"item.iswrite == 1\">\n          <span class=\"padding-horizontal\">\n            <i class=\"rp-icon-calendar\"></i>\n          </span>\n        </label>\n\n        <label class=\"item item-input\" ng-if=\"item.fieldtype == 5\">\n          <span class=\"input-label coyness\">{{item.fieldname}}<em class=\"assertive\" ng-if=\"item.iswrite == 1\">*</em></span>\n          <input type=\"time\" name=\"date\" placeholder=\"请选择时间\"  ng-model=\"item.content\" ng-required=\"item.iswrite == 1\">\n          <span class=\"padding-horizontal\">\n            <i class=\"rp-icon-calendar\"></i>\n          </span>\n        </label>\n\n        <label class=\"item item-input\" ng-if=\"item.fieldtype == 6\">\n          <span class=\"input-label coyness\">{{item.fieldname}}<em class=\"assertive\" ng-if=\"item.iswrite == 1\">*</em></span>\n          <input type=\"date\" placeholder=\"请输入日期\" ng-model=\"item.content\" ng-required=\"item.iswrite == 1\">\n          <span class=\"padding-horizontal\">\n            <i class=\"rp-icon-calendar\"></i>\n          </span>\n        </label>\n\n        <label class=\"item item-input item-select\" ng-if=\"item.fieldtype == 7\">\n          <span class=\"input-label coyness\">{{item.fieldname}}<em class=\"assertive\" ng-if=\"item.iswrite == 1\">*</em></span>\n          <select  ng-options=\"value for value in item.fieldvalue\" ng-model=\"item.content\" ng-init=\"item.content = item.content || item.fieldvalue[0]\" ng-required=\"item.iswrite == 1\">\n          </select>\n        </label>\n\n        <label class=\"item item-input rp-remarks-item\" ng-if=\"item.fieldtype == 8\">\n          <span class=\"input-label coyness\">{{item.fieldname}}<em class=\"assertive\" ng-if=\"item.iswrite == 1\">*</em></span>\n          <textarea placeholder=\"请输入文字\" ng-model=\"item.content\" ng-required=\"item.iswrite == 1\"></textarea>\n        </label>\n      </div>\n\n\n      <address-fetcher ng-model=\"formData.place\">\n        <div class=\"item-divider rp-form-address-bar lightyellow-bg coyness\">\n          <i class=\"rp-icon-location\"></i>\n          <span class=\"insipid\" ng-if=\"!formData.place\">获取所在位置</span>\n          <span class=\"insipid\" ng-if=\"formData.place\">{{ $parent.locationing ? \'定位中...\' : formData.place }}</span>\n        </div>\n      </address-fetcher>\n\n      <div class=\"item rp-remarks-item\">\n        <div class=\"input-label coyness\">备注</div>\n        <textarea placeholder=\"请输入内容\" ng-model=\"formData.remark\"></textarea>\n      </div>\n\n      <div class=\"item rp-annex-item\" click-input>\n        <span>{{ uploading? \'正在上传文件...\': \'附件\' }}</span>\n        <i ng-if=\"!uploading\" class=\"item-note ion-ios-plus-outline fs24 positive\"></i>\n        <ion-spinner class=\"rp-form-spinner item-note\"  ng-if=\"uploading\"></ion-spinner>\n        <input type=\"file\"  multiple accept=\"image/*\" file-on-change=\"addImage\">\n      </div>\n      <div class=\"rp-attach list-avatar-group list\" ng-if=\"accessories.length\">\n        <div class=\"item item-avatar\" ng-repeat=\"annex in accessories\">\n          <img ng-src=\"{{ annex.type | fileIconByExtname }}\">\n          <i class=\"ion-minus-circled assertive\" ng-hide=\"annex.uploading\" ng-click=\"removeImage($index)\"></i>\n          <span class=\"item-note positive\" ng-if=\"annex.uploading\" ng-click=\"annex.cancel && annex.cancel.resolve()\">取消</span>\n          <!--上传进度-->\n          <!--<span class=\"rp-file-icon-start\">-->\n            <!--<span class=\"rp-file-icon-upload\" ></span>-->\n          <!--</span>-->\n          <h2>{{ annex.name }}</h2>\n          <p>{{ annex.size }}</p>\n        </div>\n      </div>\n\n\n      <div class=\"light-bg rp-item-select-user\">\n        <p>汇报给</p>\n        <user-avatar-selector ng-model=\"formData.toid\" name=\"report-toids\" required ></user-avatar-selector>\n      </div>\n\n    </ion-content>\n  </ion-view>\n</form>");
$templateCache.put("templates/report/report-index.html","<ion-view title=\"汇报\" class=\"rp-index\">\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button back-button buttons button-clear header-item\" ng-if=\"isSet\" ng-click=\"openManageModel()\">\n      <i class=\"icon-setting\"></i>\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content delegate-handle=\"reportIndexScroll\">\n    <div class=\"rp-entry-block row\">\n      <div class=\"col col-50\" ui-sref=\"report.receive\" nav-direction=\"forward\">\n        <div class=\"rp-icon-entry-block rp-receive\">\n          <span class=\"rp-remind\" ng-if=\" unreadCount && unreadCount != 0 \">{{ unreadCount }}</span>\n          <i class=\"rp-icon-receive\"></i>\n          <p class=\"fsl\">我收到的</p>\n        </div>\n      </div>\n      <div class=\"col col-50\" ui-sref=\"report.send\" nav-direction=\"forward\">\n        <div class=\"rp-icon-entry-block rp-send\">\n          <i class=\"rp-icon-send\"></i>\n          <p class=\"fsl\">我发出的</p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"rp-modules\">\n      <div class=\"positive padding-top20\" ng-if=\"loading\">模板正在加载中...</div>\n      <ul class=\"row\" ng-repeat=\"group in (templates|concat:null|chunkBy:3:null)\">\n        <div class=\"col\"\n             ng-repeat-start=\"item in group track by $index\"\n             ng-if=\"$parent.$index * 3 + $index !== templates.length\"\n             ui-sref=\"report.form({ tid: item.tid })\">\n          <i class=\"rp-tpl-icon rp-tpl-icon-{{item.pictureurl}}\" ng-if=\"item\"></i>\n          <p  ng-if=\"item\">{{ item.tname }}</p>\n        </div>\n        <div class=\"col padding-top20\" ng-repeat-end ng-click=\"openAddModal()\" ng-if=\"$parent.$index * 3 + $index === templates.length\">\n          <i class=\"icon-plus\"></i>\n          <p>添加模板</p>\n        </div>\n      </ul>\n    </div>\n  </ion-content>\n</ion-view>");
$templateCache.put("templates/report/report-manage-modal.html","<ion-modal-view >\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"manageModel.hide();\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\" >×</span>\n    </button>\n    <h1 class=\"title\">管理模板</h1>\n    <button class=\"button back-button buttons button-clear header-item\"  ng-click=\"openOrderList(); order = true\">\n      <i class=\"icon-setting-order\" ng-if=\"order == false \"></i>\n    </button>\n\n    <button class=\"button back-button buttons button-clear header-item\" ng-if=\"order == true\" ng-click=\"orderFinish()\">\n     <span class=\"positive\">完成</span>\n    </button>\n  </ion-header-bar>\n\n  <ion-content class=\"sets-ctnr\">\n    <ion-list class=\"list list-avatar-group light-bg rp-order-list\" show-reorder=\"order == true\">\n      <ion-item class=\"item-avatar\" ng-repeat=\"tpl in settingTpls\">\n        <i class=\"rp-tpl-icon rp-tpl-icon-30 rp-tpl-icon-{{tpl.pictureurl}}\"></i>\n        <h2 style=\"margin-top: 12px;\"> {{ tpl.tname }} </h2>\n        <button class=\"button-clear rp-tpl-add-button \"\n                ng-disabled=\"!isSet\"\n                ng-class=\"{ \'added\': !isSet ,\'add\': isSet }\"\n                ng-click=\"manageModel.hide(); openSettingModel(tpl.tid)\">设置</button>\n        <ion-reorder-button on-reorder=\"moveTpl(tpl, $fromIndex, $toIndex)\">\n          <i class=\"icon-order\"></i>\n        </ion-reorder-button>\n      </ion-item>\n    </ion-list>\n\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/report/report-reader-detail.html","<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"readerTetailModal.hide()\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\">×</span>\n    </button>\n    <h1 class=\"title\">查阅情况</h1>\n  </ion-header-bar>\n\n  <ion-content class=\"news-reader\">\n    <div class=\"list\">\n      <div class=\"item item-divider lightyellow-bg padding\">查阅情况 {{ report.readers.length }} </div>\n      <ul class=\"row text-center\" ng-repeat-end ng-repeat=\"group in (report.readers | chunkBy:6:null)\">\n        <li class=\"col\" ng-repeat=\"item in group track by $index\">\n          <img avatar=\"{{ item | avatar | defaultAvatar }}\" ng-if=\"item\">\n          <div class=\"fsm common-black\" ng-if=\"item\">{{ item | userInfo: \'realname\' }}</div>\n        </li>\n      </ul>\n    </div>\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/report/report-receive.html","<ion-view title=\"汇报\" hide-back-button=\"true\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"report.index\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      汇报\n    </button>\n  </ion-nav-buttons>\n\n  <ion-nav-buttons side=\"right\">\n    <button class=\"button back-button button-clear header-item\" ng-click=\"addRead()\" ng-if=\"list.length\">\n      <i class=\"icon-readed\"></i>\n    </button>\n  </ion-nav-buttons>\n\n  <ion-header-bar class=\"bar-subheader\">\n    <div class=\"subheader-nav rp-subheader-nav row\" stop-propagation=\"tap\">\n      <span class=\"col col-50 active\" nav-direction=\"none\">我收到的</span>\n      <span class=\"col col-50\" ui-sref=\"report.send\" nav-direction=\"none\">我发出的</span>\n    </div>\n\n    <div class=\"bar has-header search-header-bar\" ng-hide=\"search.show == true\" ng-if=\"list.length\">\n      <button class=\"button button-block button-small fsm button-light\" ng-click=\"search.key = \'\'; search.show = true\">\n        <i class=\"ion-ios-search fsu vam\"></i>&nbsp; 搜索\n      </button>\n    </div>\n\n    <div class=\"bar item-input-inset search-header-bar rp-list-search-header-bar\" ng-show=\"search.show == true\" ng-if=\"list.length\">\n      <label class=\"item-input-wrapper\">\n        <i class=\"ion-ios-search fsu coyness\"></i>\n        <input type=\"text\"  placeholder=\"搜索\" ng-model=\"search.key\" focus-on=\"search.show\" >\n      </label>\n      <button type=\"button\" class=\"button button-positive button-clear\" ng-click=\"search.show = false; search.result = []\">\n        取消\n      </button>\n    </div>\n  </ion-header-bar>\n\n  <ion-content class=\"rp-list-has-subheader\" delegate-handle=\"reportReceiveListScroll\">\n    <div ng-hide=\"search.show == true\">\n      <ion-refresher on-refresh=\"refresh()\"></ion-refresher>\n      <div class=\"positive padding-top20 text-center\" ng-if=\"loading\">正在加载...</div>\n\n      <div class=\"list-empty-tip\" ng-if=\"list.length === 0 && !loading\">\n        <i class=\"news-icon-empty\"></i>\n        <p class=\"margin-top\">这里空空如也~</p>\n      </div>\n\n      <ion-list class=\"list list-avatar-group diary-list\">\n        <div class=\"item item-divider lightyellow-bg\" ng-repeat-start=\"(key, value) in (list | groupBy: groupByTime)\"> {{ key }}</div>\n        <div class=\"item item-complex rp-receive-list\" ng-repeat-end ng-repeat=\"item in value\"  ui-sref=\"report.view({ repid: item.repid })\" ng-click=\"readReport(item)\">\n          <a class=\"item-content\">\n            <div class=\"rp-list-unread-flag\" ng-if=\"item.isreview == 0\"></div>\n            <div class=\"item item-avatar\" ng-class=\"{\'margin-left15\': item.isreview == 0}\" >\n              <img avatar=\"{{ item.uid | avatar | defaultAvatar }}\">\n              <h3 class=\"common\">{{ item.uid | userInfo: \'realname\' }}</h3>\n              <i class=\"rp-tpl-icon rp-tpl-icon-12 rp-tpl-icon-{{item.icon}}\"></i>\n              <span class=\"fs11 coyness rp-subject\">{{item.subject}}</span>\n            </div>\n            <img class=\"item-note rp-list-stamp\" ng-if=\"item.bigstamp\" ng-src=\"{{ item.bigstamp | fullUrl }}\"/>\n            <p class=\"nowrap\" ng-repeat=\"summary in item.record\">\n              <span class=\"coyness\">{{ summary.fieldname }}:</span>\n              <span>{{ summary.content | htmlToPlaintext}}</span>\n            </p>\n            <span class=\"fs09 insipid\">{{ item.addtime *1000 | date:\"MM-dd HH:mm\"}}</span>\n          <span class=\"item-note insipid\" >\n              <i class=\"icon-comment\"></i>\n              <span class=\"fs11 vam\">{{ item.commentcount}}&nbsp;</span>&nbsp;\n              <i class=\"icon-review\"></i>\n              <span class=\"fs11 vam\">{{ item.readcount }}&nbsp;</span>\n          </span>\n          </a>\n        </div>\n      </ion-list>\n\n      <button class=\"button button-full button-clear button-positive no-animation\" ng-click=\"loadMore()\" ng-if=\"list.hasMore\">加载更多</button>\n\n    </div>\n\n    <!--搜索结果列表-->\n    <div ng-show=\"search.show == true\" >\n      <!-- if(有搜索结果): -->\n      <ion-list class=\"list list-avatar-group diary-list\" ng-if=\"search.result.list.length\">\n        <div class=\"item item-divider lightyellow-bg\" ng-repeat-start=\"(key, value) in (search.result.list | groupBy: groupByTime)\"> {{ key }}</div>\n        <div class=\"item item-complex rp-receive-list\" ng-repeat-end ng-repeat=\"item in value\"  ui-sref=\"report.view({ repid: item.repid })\" ng-click=\"readReport(item)\">\n          <a class=\"item-content\">\n            <div class=\"rp-icon-unread-flag\" ng-if=\"item.isreview == 0\"></div>\n            <div class=\"item item-avatar\" ng-class=\"{\'margin-left15\': item.isreview == 0}\" >\n              <img avatar=\"{{ item.uid | avatar | defaultAvatar }}\">\n              <h3 class=\"common\">{{ item.uid | userInfo: \'realname\' }}</h3>\n              <i class=\"rp-tpl-icon rp-tpl-icon-12 rp-tpl-icon-{{item.icon}}\"></i>\n              <span class=\"fs11 coyness rp-subject\">{{item.subject}}</span>\n            </div>\n            <img class=\"item-note rp-list-stamp\" ng-if=\"item.bigstamp\" ng-src=\"{{ item.bigstamp | fullUrl }}\"/>\n            <p class=\"nowrap\" ng-repeat=\"summary in item.record\"><span class=\"coyness\">{{ summary.fieldname }}:</span>{{ summary .content }}</p>\n            <span class=\"fs09 insipid\">{{ item.addtime *1000 | date:\"MM-dd HH:mm\" }}</span>\n          <span class=\"item-note insipid\" >\n              <i class=\"icon-comment\"></i>\n              <span class=\"fs11 vam\">{{ item.commentcount}}&nbsp;</span>&nbsp;\n              <i class=\"icon-review\"></i>\n              <span class=\"fs11 vam\">{{ item.readcount }}&nbsp;</span>\n          </span>\n          </a>\n        </div>\n      </ion-list>\n\n      <!-- elseif(未开始搜索): -->\n      <div\n          class=\"margin-top margin-bottom padding text-center coyness\"\n          ng-if=\"!search.result.list.length && !search.key && !search.searching\"\n          >请输入汇报标题进行搜索~\n      </div>\n\n      <!-- elseif(搜索中): -->\n      <div\n          class=\"margin-top margin-bottom padding text-center coyness\"\n          ng-if=\"search.searching && !search.result.list.length\"\n          >搜索中...\n      </div>\n\n      <!-- elseif(没有搜索结果): -->\n      <div\n          class=\"margin-top margin-bottom padding text-center coyness\"\n          ng-if=\"search.key && !search.searching && !search.result.list.length\"\n          >没有找到相关的汇报~\n      </div>\n      <!-- endif; -->\n    </div>\n  </ion-content>\n\n  <ion-footer-bar  class=\"row rp-footer-bar\">\n    <div class=\"col col-50\" ng-class=\"{\'active\': activeTab == \'unread\'}\" ng-click=\"setTab(\'unread\')\">\n      <i class=\"icon-unapproval\"></i>\n      <p>未读</p>\n    </div>\n    <div class=\"col col-50\" ng-class=\"{\'active\': activeTab == \'all\'}\" ng-click=\"setTab(\'all\')\">\n      <i class=\"icon-sorting\"></i>\n      <p>全部</p>\n    </div>\n  </ion-footer-bar>\n\n</ion-view>");
$templateCache.put("templates/report/report-select-manager-modal.html","<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"chargeModel.hide();\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\" >×</span>\n    </button>\n\n    <h1 class=\"title\">选择主管</h1>\n\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"addManager()\">\n      <span class=\"positive\">完成</span>\n    </button>\n  </ion-header-bar>\n\n  <ion-content class=\"lightyellow-bg\">\n    <div class=\"list rp-charge-list\">\n      <div class=\"item item-checkbox\" ng-repeat=\"manager in managers\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" ng-model=\"uptype[manager.uptype]\">\n        </label>\n        {{ manager .upname }}\n      </div>\n    </div>\n    <div class=\"item-divider padding lightyellow-bg coyness\">\n      一级主管指直属上级，二级主管指直属上级的主管以此类推。\n    </div>\n\n  </ion-content>\n</ion-modal-view>");
$templateCache.put("templates/report/report-send.html","<ion-view title=\"汇报\" hide-back-button=\"true\">\n  <ion-nav-buttons side=\"left\" nav-direction=\"back\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"report.index\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      汇报\n    </button>\n  </ion-nav-buttons>\n\n  <ion-header-bar class=\"bar-subheader\">\n    <div class=\"subheader-nav rp-subheader-nav row\" stop-propagation=\"tap\">\n      <span class=\"col col-50\" ui-sref=\"report.receive\" nav-direction=\"none\">我收到的</span>\n      <span class=\"col col-50 active\" nav-direction=\"none\">我发出的</span>\n    </div>\n\n    <div class=\"bar has-header search-header-bar\" ng-hide=\"search.show == true\" ng-if=\"list.length\">\n      <button class=\"button button-block button-small fsm button-light\" ng-click=\"search.key = \'\'; search.show = true\">\n        <i class=\"ion-ios-search fsu vam\"></i>&nbsp; 搜索\n      </button>\n    </div>\n\n    <div class=\"bar item-input-inset search-header-bar rp-list-search-header-bar\" ng-show=\"search.show == true\" ng-if=\"list.length\">\n      <label class=\"item-input-wrapper\">\n        <i class=\"ion-ios-search fsu coyness\"></i>\n        <input type=\"text\"  placeholder=\"搜索\" ng-model=\"search.key\" focus-on=\"search.show\" >\n      </label>\n      <button type=\"button\" class=\"button button-positive button-clear\" ng-click=\"search.show = false; search.result = []\">\n        取消\n      </button>\n    </div>\n  </ion-header-bar>\n\n  <ion-content class=\"rp-list-has-subheader\">\n    <div ng-hide=\"search.show == true\">\n      <ion-refresher on-refresh =\"refresh()\"></ion-refresher>\n      <div class=\"positive padding-top20 text-center\" ng-if=\"loading\">正在加载...</div>\n\n      <div class=\"list-empty-tip\" ng-if=\"list.length === 0 && !loading\">\n        <i class=\"news-icon-empty\"></i>\n        <p class=\"margin-top\">这里空空如也~</p>\n      </div>\n\n      <ion-list class=\"list list-avatar-group diary-list\">\n        <div class=\"item item-divider lightyellow-bg\" ng-repeat-start=\"(key, value) in (list | groupBy: groupByTime)\"> {{ key }}</div>\n        <ion-item class=\"rp-send-list\" ng-class=\"{\'rp-draft-list\': item.status == 0 }\"  ng-repeat-end ng-repeat=\"item in value\"  ui-sref=\"report.view({ repid: item.repid })\">\n          <img class=\"item-note rp-list-stamp\" ng-if=\"item.bigstamp\"  ng-src=\"{{ item.bigstamp | fullUrl }}\"/>\n          <div class=\"item item-avatar\">\n            <i class=\"rp-tpl-icon rp-tpl-icon-30 rp-tpl-icon-{{item.icon}}\"></i>\n            <h3 class=\"common\">{{ item.subject }}</h3>\n          </div>\n          <p class=\"nowrap\" ng-repeat=\"summary in item.record\">\n            <span class=\"coyness\">{{ summary.fieldname }}: </span>\n            <span>{{ summary.content | htmlToPlaintext }}</span>\n          </p>\n          <span class=\"fs11 insipid\">{{ item.addtime *1000 | date:\"MM-dd HH:mm\"}}</span>\n\n        <span class=\"item-note insipid\" ng-if=\"item.status == 1\">\n          <i class=\"icon-comment\"></i>\n          <span class=\"fs11 vam\">{{ item.commentcount }} &nbsp;</span>\n          <i class=\"icon-review\"></i>\n          <span class=\"fs11 vam\">{{ item.readcount  }}&nbsp;</span>\n        </span>\n          <span class=\"item-note assertive\" ng-if=\"item.status == 0\">草稿</span>\n        </ion-item>\n      </ion-list>\n\n      <button class=\"button button-full button-clear button-positive no-animation\" ng-click=\"loadMore()\" ng-if=\"list.hasMore\">加载更多</button>\n    </div>\n\n    <!--搜索结果列表-->\n    <div ng-show=\"search.show == true\" >\n      <!-- if(有搜索结果): -->\n      <ion-list class=\"list list-avatar-group diary-list\" ng-if=\"search.result.list.length\">\n        <div class=\"item item-divider lightyellow-bg\" ng-repeat-start=\"(key, value) in (search.result.list | groupBy: groupByTime)\"> {{ key }}</div>\n        <ion-item class=\"rp-send-list\" ng-class=\"{\'rp-draft-list\': item.status == 0 }\"  ng-repeat-end ng-repeat=\"item in value\"  ui-sref=\"report.view({ repid: item.repid })\">\n          <img class=\"item-note rp-list-stamp\" ng-if=\"item.bigstamp\"  ng-src=\"{{ item.bigstamp | fullUrl }}\"/>\n          <div class=\"item item-avatar\">\n            <i class=\"rp-tpl-icon rp-tpl-icon-30 rp-tpl-icon-{{item.icon}}\"></i>\n            <h3 class=\"common\">{{ item.subject }}</h3>\n          </div>\n          <p class=\"nowrap\" ng-repeat=\"summary in item.record\"><span class=\"coyness\">{{ summary.fieldname }}: </span>{{ summary .content }}</p>\n          <span class=\"fs11 insipid\">{{ item.addtime *1000 | date:\"MM-dd HH:mm\"}}</span>\n\n        <span class=\"item-note insipid\" ng-if=\"item.status == 1\">\n          <i class=\"icon-comment\"></i>\n          <span class=\"fs11 vam\">{{ item.commentcount }} &nbsp;</span>\n          <i class=\"icon-review\"></i>\n          <span class=\"fs11 vam\">{{ item.readcount  }}&nbsp;</span>\n        </span>\n          <span class=\"item-note assertive\" ng-if=\"item.status == 0\">草稿</span>\n        </ion-item>\n      </ion-list>\n\n      <!-- elseif(未开始搜索): -->\n      <div\n          class=\"margin-top margin-bottom padding text-center coyness\"\n          ng-if=\"!search.result.list.length && !search.key && !search.searching\"\n          >请输入汇报标题进行搜索~\n      </div>\n\n      <!-- elseif(搜索中): -->\n      <div\n          class=\"margin-top margin-bottom padding text-center coyness\"\n          ng-if=\"search.searching && !search.result.length\"\n          >搜索中...\n      </div>\n\n      <!-- elseif(没有搜索结果): -->\n      <div\n          class=\"margin-top margin-bottom padding text-center coyness\"\n          ng-if=\"search.key && !search.searching && !search.result.list.length\"\n          >没有找到相关的汇报~\n      </div>\n      <!-- endif; -->\n    </div>\n  </ion-content>\n</ion-view>");
$templateCache.put("templates/report/report-setting-modal.html","<ion-modal-view title=\"设置模板\" class=\"lightyellow-bg\">\n\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"settingModel.hide()\">\n      <span class=\"icon fs32\" style=\"margin-top: -3px\" >×</span>\n    </button>\n    <h1 class=\"title\">设置模板</h1>\n\n    <button class=\"button button-clear header-item button-positive\" ng-click=\"setTemplate()\">\n       完成\n    </button>\n  </ion-header-bar>\n\n\n  <ion-content>\n\n    <div class=\"light-bg rp-item-select-user\">\n      <p>使用模板权限</p>\n      <user-avatar-selector ng-model=\"formData.defaultShareList\" name=\"setting-share\" ></user-avatar-selector>\n    </div>\n\n    <ion-item class=\"item-divider padding lightyellow-bg\">\n      设置后只有模板使用者可见，不设置则全局可见\n    </ion-item>\n\n    <ul class=\"light-bg rp-item-select-user cslist nowrap\">\n      <p>默认发给谁</p>\n      <div class=\"rp-item-select-manage\" ng-click=\"outRemoveTypeMode()\">\n        <li class=\"cslist\" ng-if=\"manageTypes.length\" ng-repeat=\"type in manageTypes\">\n          <i class=\"o40-minus-assertive-so\" ng-show=\"removeTypeMode\" ng-click=\"removeType($event, type)\" ></i>\n          <div class=\"cslist-plus-icon manager-icon\">{{type.upname.substr(0,2)}}</div>\n          <div class=\"cslist-desc ellipsis\">{{type.upname}}</div>\n        </li>\n\n        <li class=\"cslist-plus\">\n          <div class=\"cslist-plus-icon\" ng-click=\"openSelectManagerModal()\">\n            <i class=\"ion-ios-plus-empty\"></i>\n          </div>\n        </li>\n\n        <li class=\"cslist-plus\" ng-show=\"!removeTypeMode && manageTypes.length\" ng-click=\"toRemoveTypeMode($event)\">\n          <div class=\"cslist-plus-icon\">\n            <i class=\"ion-ios-minus-empty\"></i>\n          </div>\n        </li>\n      </div>\n    </ul>\n\n    <ul class=\"light-bg rp-item-select-user cslist\" style=\"border-top: 1px solid #ddd\">\n      <user-avatar-selector ng-model=\"formData.defaultReceiveList\" name=\"setting-receive\"></user-avatar-selector>\n    </ul>\n\n    <div class=\"item-divider padding lightyellow-bg\">\n      选择后，相关主管将做为该模块默认接收人。\n    </div>\n\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/report/report-view.html","<ion-view title=\"查看\">\n\n  <ion-nav-buttons side=\"right\" >\n    <button class=\"button back-button button-clear header-item\" ng-if=\"currentUserUid === report.uid \"  ng-click=\"operateMore()\" >\n      <span class=\"ion-android-more-vertical fs32\"></span>\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <div class=\"item-padding rp-view-list\">\n        <div class=\"item item-avatar\" >\n          <img avatar=\"{{ report.uid | avatar | defaultAvatar }}\">\n          <span class=\"item-note fs11 insipid\">{{ report.addtime * 1000 | date : \'MM-dd\' }}</span>\n          <h3 class=\"common\">{{ report.uid | userInfo: \'realname\' }}</h3>\n          <i class=\"rp-tpl-icon rp-tpl-icon-12 rp-tpl-icon-{{report.icon}}\"></i>\n          <span class=\"fs11 coyness rp-subject\">{{ report.subject}}</span>\n          <img class=\"rp-view-stamp\" ng-if=\"report.stamp\" ng-src=\"{{ report.stamp | fullUrl}}\">\n        </div>\n      <div class=\"item re-view-record\" ng-repeat=\"item in report.record\">\n        <p class=\"fsl coyness\">{{ item.fieldname }}:</p>\n        <div class=\"rp-view-content\" ng-if=\"item.fieldtype != 8\">{{item.content}}</div>\n        <div class=\"rp-view-content editor-content\" ng-if=\"item.fieldtype == 8\" ng-bind-html=\"item.content | editorContent\" img-preview></div>\n      </div>\n      <div class=\"item re-view-record\">\n        <p class=\"fsl coyness\">备注:</p>\n        <div class=\"common\">{{ report.remark | htmlToPlaintext}}</div>\n      </div>\n    </div>\n\n    <div class=\"item rp-view-addr\" ng-if=\"report.place\">\n      <span class=\"icon-addr\"></span>\n      {{ report.place }}\n    </div>\n\n    <!-- 附件 -->\n    <div class=\"item item-divider padding lightyellow-bg\" ng-if=\"report.attach.length\">附件 {{report.attach.length}}</div>\n    <attach-list attach=\"report.attach\" class=\"list-inset\" ng-if=\"report.attach.length\"></attach-list>\n\n    <!-- 评论 -->\n    <div class=\"rp-comment\">\n      <div class=\"item item-divider lightyellow-bg\">\n        <span>评论  {{ commentList.length }}</span>\n        <i class=\"item-note icon-comment-gray common\" ng-click=\"openComment(\'comment\')\"></i>\n      </div>\n      <div class=\"item text-center\" ng-if=\"commentList.length <=  0\">暂时还没有评论哦！</div>\n      <div class=\"list\"  ng-if=\"commentList.length\">\n        <div class=\"item item-avatar item-text-wrap detail-list item-indent\" ng-repeat=\"cm in commentList | before:4\" ng-click=\"openComment(\'reply\',cm)\">\n          <img ng-src=\"{{ cm.uid | userInfo:\'avatar_middle\' | fullUrl }}\">\n          <span class=\"item-note insipid fs11\">{{ cm.ctime | htmlToPlaintext }}</span>\n          <h2 class=\"coyness\">{{ cm.uid | userInfo:\'realname\' }}</h2>\n          <p class=\"somber fsl\" ng-bind-html=\"cm.content | editorContent\"></p>\n        </div>\n\n        <div class=\"item padding text-center common-black\" ng-if=\"commentList.length > 3\" ng-click=\"openCommentDetail()\">查看更多</div>\n      </div>\n    </div>\n\n    <div class=\"news-reader\" ng-if=\"report.readers.length > 0\">\n      <div class=\"item rp-item-divider lightyellow-bg\">查阅情况 {{ report.readers.length }} </div>\n      <ul class=\" row text-center\">\n        <li class=\"col\" ng-repeat=\"item in [] | range: 6\">\n          <div ng-if=\"report.readers[$index] && ($index < 5 || ($index == 5 && news.readers.length === 6))\">\n            <img  avatar=\"{{ report.readers[$index] | avatar | defaultAvatar  }}\">\n            <div class=\"fsm common-black\">{{ report.readers[$index] | userInfo: \'realname\' }}</div>\n          </div>\n          <div ng-if=\"$index == 5  && report.readers.length > 6\" ng-click=\"openReaderDetail()\">\n            <span>···</span>\n            <div class=\"fsm common-black\"> 更多</div>\n          </div>\n        </li>\n      </ul>\n    </div>\n\n  </ion-content>\n</ion-view>");
$templateCache.put("templates/thread/finished.html","<ion-view title=\"已结束的主线\" class=\"gloomy-bg\">\n  <ion-content>\n    <ion-refresher\n      on-refresh=\"refresh()\">\n    </ion-refresher>\n\n    <div>\n      <div class=\"list\">\n        <a class=\"item item-avatar\" ng-repeat=\"th in list.items\" ui-sref=\"thread.view({ id: th.threadid })\">\n          <img ng-src=\"{{ th.chargeuid | avatar }}\">\n          <h2>{{ th.subject }}</h2>\n          <p>\n            {{ th.chargeuid | userInfo:\'realname\' }} 负责\n            <span class=\"label energized-border energized-bg light fss\" ng-if=\"isInCharge(th)\">我负责</span>\n          </p>\n        </a>\n      </div>\n    </div>\n    \n    <h5 class=\"padding text-center coyness\" ng-if=\"!refreshing && list.loading\">\n      加载中...\n    </h5>\n    <h5 class=\"padding text-center coyness\" ng-if=\"list.checkNoData()\">\n      暂无进行中的主线\n    </h5>\n    <button\n      class=\"button button-full button-clear button-positive no-animation\"\n      ng-if=\"!list.loading && list.items.length && list.hasMore\"\n      ng-click=\"list.loadMore()\"\n    >加载更多</button>\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/thread/index.html","<ion-view title=\"我的主线\" class=\"gloomy-bg\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!hasBackView()\" ui-sref=\"portal\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <ion-refresher\n      on-refresh=\"refresh()\">\n    </ion-refresher>\n\n    <div class=\"list\">\n      <div class=\"item item-divider\" ng-if=\"(list.items|filter:isAttention).length\">已关注</div>\n      <a class=\"item item-avatar\"\n        ng-repeat=\"th in list.items|filter:isAttention\"\n        ng-include=\"\'thread-item.html\'\"\n        ui-sref=\"thread.view({ id: th.threadid })\"\n      >\n      </a>\n\n      <div class=\"item item-divider\">我的主线</div>\n      <a class=\"item item-avatar\"\n        ng-repeat=\"th in list.items\"\n        ng-include=\"\'thread-item.html\'\"\n        ui-sref=\"thread.view({ id: th.threadid })\"\n      >\n      </a>\n    </div>\n\n    <h5 class=\"padding text-center coyness\" ng-if=\"!refreshing && list.loading\">\n      加载中...\n    </h5>\n    <h5 class=\"padding text-center coyness\" ng-if=\"list.checkNoData()\">\n      暂无进行中的主线\n    </h5>\n\n    <button type=\"button\" class=\"button button-full button-light margin-top20\" ui-sref=\"thread.finished\">查看已结束的主线</button>\n  </ion-content>\n</ion-view>\n\n<script type=\"text/ng-template\" id=\"thread-item.html\">\n  <img ng-src=\"{{ th.chargeuid | avatar }}\">\n  <span class=\"item-note ion-ios-star fs24\" ng-if=\"th.isAttention\"></span>\n  <h2>{{ th.subject }}</h2>\n  <p>\n    {{ th.chargeuid | userInfo:\'realname\' }} 负责\n    <span ng-if=\"getDayLeft(th.endtime) > 0\">| 剩 {{ getDayLeft(th.endtime) }} 天</span>\n    <span ng-if=\"getDayLeft(th.endtime) < 0\">| <span class=\"assertive\">已过期</span></span>\n    <span class=\"label energized-border energized-bg light fss\" ng-if=\"isInCharge(th)\">我负责</span>\n  </p>\n</script>");
$templateCache.put("templates/thread/view.html","<ion-view class=\"gloomy-bg\" hide-nav-bar=\"true\">\n  <div class=\"bar bar-header\" style=\"background: transparent; border: none;\">\n    <button\n      class=\"button button-icon icon ion-ios-arrow-back back-button\"\n      style=\"color: #fff;\"\n      ng-if=\"$viewHistory.backView\"\n      ng-click=\"$viewHistory.backView.go()\"\n    >\n      返回\n    </button>\n    <button\n      class=\"button button-icon icon ion-ios-arrow-back back-button\"\n      style=\"color: #fff;\"\n      ng-if=\"!$viewHistory.backView\"\n      ui-sref=\"thread.index\"\n    >\n      我的主线\n    </button>\n  </div>\n\n  <ion-content>\n    <!-- 主线详细信息 -->\n    <ion-slide-box show-pager=\"true\" on-slide-changed=\"slideChanged(index)\" class=\"thread-slider\">\n      <ion-slide>\n        <div>\n          <h3>{{ thread.subject || \'主线名称\' }}</h3>\n          <p>\n            <span>\n              {{ thread.starttime * 1000 |date:\'MM月dd日\' }}\n              -\n              {{ thread.endtime == \'0\' ? \'未设置\' : (thread.endtime * 1000 |date:\'MM月dd日\' ) }}\n            </span>\n            <span ng-if=\"dayLeft < 0\">已过期</span>\n            <span ng-if=\"dayLeft > 0\">剩 <strong>{{ dayLeft }}</strong> 天</span>\n          </p>\n\n          <!-- 成员列表 -->\n          <div class=\"thread-member-list\">\n            <span ng-repeat=\"member in members.slice(0, 5)\">\n              <img ng-src=\"{{ member.avatar | fullUrl }}\">\n              <em ng-if=\"member.isCharge\"></em>\n            </span>\n            <span class=\"thread-member-leave\" ng-if=\"members.length > 5\">\n              +<strong>{{ members.length - 5 }}</strong>\n            </span>\n          </div>\n        </div>\n      </ion-slide>\n      <!-- 有主线描述时显示 -->\n      <ion-slide ng-if=\"thread.description\">{{ thread.description |htmlToPlaintext }}</ion-slide>\n    </ion-slide-box>\n\n    <!-- 其他相关信息 -->\n    <div>\n      <div class=\"tabs tabs-light thread-tabs\">\n        <div class=\"tab-item\" ng-class=\"{ \'tab-item-active\': tab === \'assignment\' }\" ng-click=\"setTab(\'assignment\')\">任务</div>\n        <div class=\"tab-item\" ng-class=\"{ \'tab-item-active\': tab === \'feed\' }\" ng-click=\"setTab(\'feed\')\">动态</div>\n        <div class=\"tab-item\" ng-class=\"{ \'tab-item-active\': tab === \'email\' }\" ng-click=\"setTab(\'email\')\">邮件</div>\n        <div class=\"tab-item\" ng-class=\"{ \'tab-item-active\': tab === \'flow\' }\" ng-click=\"setTab(\'flow\')\">审批</div>\n        <div class=\"tab-item\" ng-class=\"{ \'tab-item-active\': tab === \'file\' }\" ng-click=\"setTab(\'file\')\">文件</div>\n      </div>\n      <div>\n        <!-- 任务 -->\n        <div class=\"list\" ng-show=\"tab === \'assignment\'\">\n          <a class=\"item item-avatar\" ng-repeat=\"am in assignment.list\" ui-sref=\"assignment.detail({ id: am.assignmentid })\">\n            <img ng-src=\"{{ am.chargeuid | avatar }}\">\n            <span class=\"item-note\">\n              <span class=\"label fss energized\" ng-if=\"am.status == 0\">未读</span>\n              <span class=\"label fss primary\" ng-if=\"am.status == 1\">进行中</span>\n              <span class=\"label fss balanced\" ng-if=\"am.status == 2 || am.status == 3\">已完成</span>\n              <span class=\"label fss\" ng-if=\"am.status == 4\">已取消</span>\n            </span>\n            <h2>{{ am.subject }}</h2>\n            <p>\n              {{ am.chargeuid | userInfo:\'realname\' }} 负责\n              {{ am.endtime * 1000 | date: \'M月d日 HH:mm\' }} 结束\n            </p>\n          </a>\n          <h5 class=\"padding text-center coyness\" ng-if=\"assignment.loading\">加载中...</h5>\n          <h5 class=\"padding text-center coyness\" ng-if=\"assignment.loaded && !assignment.list.length\">暂无相关任务</h5>\n        </div>\n\n        <!-- 动态 -->\n        <div ng-show=\"tab === \'feed\'\">\n          <div class=\"item item-avatar\" ng-repeat=\"fd in feed.list\">\n            <img ng-src=\"{{ fd.uid | avatar }}\">\n            <h2>{{ fd.uid | userInfo:\'realname\' }}</h2>\n            <p>{{ fd.content | htmlToPlaintext }}</p>\n          </div>\n          <h5 class=\"padding text-center coyness\" ng-if=\"feed.loading\">加载中...</h5>\n          <h5 class=\"padding text-center coyness\" ng-if=\"feed.loaded && !feed.list.length\">暂无相关动态</h5>\n        </div>\n\n        <!-- 邮件 -->\n        <div class=\"list\" ng-show=\"tab === \'email\'\">\n          <a class=\"item\" ng-repeat=\"em in email.list\" ui-sref=\"email.detail({ id: em.emailid })\">\n            <span class=\"item-note\">{{ em.sendtime * 1000 | date: \'yyyy年MM月dd日\' }}</span>\n            <h2><i class=\"newmark\" ng-if=\"em.isread != 1\"></i> {{ em.fromid | userInfo:\'realname\' }}</h2>\n            <p>{{ em.subject }}</p>\n          </a>\n          <h5 class=\"padding text-center coyness\" ng-if=\"email.loading\">加载中...</h5>\n          <h5 class=\"padding text-center coyness\" ng-if=\"email.loaded && !email.list.length\">暂无相关邮件</h5>\n        </div>\n\n        <!-- 审批 -->\n        <div class=\"list\" ng-show=\"tab === \'flow\'\">\n          <a class=\"item\" ng-repeat=\"flw in flow.list\" ui-sref=\"workflow.detail({ key: flw.key })\">\n            <h2 ng-class=\"{ \'primary\': flw.flag != 1 }\">{{ flw.name }}</h2>\n            <p>\n              {{ flw.beginuser | userInfo:\'realname\' }}\n              <span class=\"item-note\">{{ flw.begintime * 1000 | date:\'yyyy年MM月dd日\' }}</span>\n            </p>\n          </a>\n          <h5 class=\"padding text-center coyness\" ng-if=\"flow.loading\">加载中...</h5>\n          <h5 class=\"padding text-center coyness\" ng-if=\"flow.loaded && !flow.list.length\">暂无相关审批</h5>\n        </div>\n\n        <!-- 文件 -->\n        <div class=\"list\" ng-show=\"tab === \'file\'\">\n          <div class=\"item item-avatar\" ng-repeat=\"f in file.list\">\n            <img ng-src=\"{{ f.iconsmall | fullUrl }}\">\n            <h2>{{ f.filename }}</h2>\n            <p>{{ f.filesize }}</p>\n          </div>\n          <h5 class=\"padding text-center coyness\" ng-if=\"file.loading\">加载中...</h5>\n          <h5 class=\"padding text-center coyness\" ng-if=\"file.loaded && !file.list.length\">暂无相关文件</h5>\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>\n\n");
$templateCache.put("templates/vote/search-modal.html","<ion-modal-view class=\"gloomy-bg modal-full-screen\">\n  <ion-header-bar class=\"item-input-inset search-header-bar\">\n    <label class=\"item-input-wrapper\">\n      <i class=\"ion-ios-search fsu coyness\"></i>\n      <input type=\"text\" placeholder=\"搜索\" ng-model=\"search.key\" focus-on=\"search.modal.isShown()\">\n    </label>\n    <button type=\"button\" class=\"button button-positive button-clear\" ng-click=\"search.modal.hide()\">\n      取消\n    </button>\n  </ion-header-bar>\n\n  <ion-content>\n    <!-- if(有搜索结果): -->\n    <div class=\"list vote-list\" ng-if=\"search.result.length\">\n      <div class=\"item\">\n        <div class=\"item-note\">120人参与</div>\n        <span class=\"common-black\">公司年会调查</span>\n        <span class=\"vote-status-ctnr\" ng-class=\"{\'light-gray\': item.status === \'1\'}\">进行中</span><!--{{ item.status === \'0\'? \'进行中\'：\'已结束\'}} 假设后端返回0为正在进行中 1已结束-->\n        <p >截止时间: 2016-08-06</p>\n      </div>\n    </div>\n\n\n    <!-- elseif(未开始搜索): -->\n    <div\n        class=\"margin-top margin-bottom padding text-center coyness\"\n        ng-if=\"!search.result.length && !search.key && !search.searching\"\n        >请输入标题或内容进行搜索~\n    </div>\n\n    <!-- elseif(搜索中): -->\n    <div\n        class=\"margin-top margin-bottom padding text-center coyness\"\n        ng-if=\"search.searching && !search.result.length\"\n        >搜索中...\n    </div>\n\n    <!-- elseif(没有搜索结果): -->\n    <div\n        class=\"margin-top margin-bottom padding text-center coyness\"\n        ng-if=\"search.key && !search.searching && !search.result.length\"\n        >没有找到相关的投票~\n    </div>\n    <!-- endif; -->\n  </ion-content>\n</ion-modal-view>");
$templateCache.put("templates/vote/vote-crew-modal.html","<ion-modal-view title=\"投票人数\" >\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"crewModal.hide()\">\n      <span class=\"icon fs32 ion-ios-close-empty\" style=\"margin-left: 10px\"></span>\n    </button>\n    <h1 class=\"title\">投票人数</h1>\n  </ion-header-bar>\n\n  <ion-content>\n    <div class=\"list-empty-tip\" ng-if=\"voteUsers.length === 0 \">\n      <i class=\"news-icon-empty\"></i>\n      <p class=\"margin-top coyness\">暂时还没有人投票哟！</p>\n    </div>\n       <div class=\"list list-avatar-group vote-crew-list\" ng-repeat=\"group in voteUsers\">\n         <div class=\"item-divider\">{{ group.deptname }}</div>\n         <div class=\"item item-avatar\" ng-repeat=\"item in group.users\">\n           <img  ng-src=\"{{ item | avatar }}\">\n           {{ item | userInfo: \'realname\' }}\n         </div>\n       </div>\n  </ion-content>\n\n</ion-modal-view>");
$templateCache.put("templates/vote/vote-index.html","<ion-view title=\"调查投票\">\n  \n  <ion-header-bar class=\"bar-subheader\" ng-if=\"stateName === \'vote.index\'\">\n    <div class=\"vote-header row\">\n      <span class=\"col col-50\" ng-class=\"{\'active\': activeTab === \'nonparticipator\'}\" ng-click=\"setParticipationTab(\'nonparticipator\')\" >未参与</span>\n      <span class=\"col col-50\" ng-class=\"{\'active\': activeTab === \'participate\'}\"  ng-click=\"setParticipationTab(\'participate\')\">已参与</span>\n    </div>\n  </ion-header-bar>\n\n  <ion-header-bar class=\"bar-subheader\" ng-if=\"stateName === \'vote.mine\'\">\n    <div class=\"vote-header row\">\n      <span class=\"col col-50\" ng-class=\"{\'active\': statusTab === \'underway\'}\" ng-click=\"setStatusTab(\'underway\')\">进行中</span>\n      <span class=\"col col-50\" ng-class=\"{\'active\': statusTab === \'end\'}\" ng-click=\"setStatusTab(\'end\')\">已结束</span>\n    </div>\n  </ion-header-bar>\n\n\n  <ion-content class=\"has-subheader\" delegate-handle=\"voteReceiveScroll\">\n    <ion-refresher on-refresh=\"refresh()\"></ion-refresher>\n\n    <div class=\"positive padding-top20 text-center\" ng-if=\"loading\">正在加载...</div>\n    <div class=\"list-empty-tip\" ng-if=\"list.length === 0 && !loading\">\n      <i class=\"news-icon-empty\"></i>\n      <p class=\"margin-top coyness\">什么投票都没有哟！</p>\n    </div>\n\n    <div class=\"list\">\n      <div class=\"item vote-item\" ui-sref=\"vote.view({ id: item.voteid })\" ng-repeat=\"item in list\">\n        <div class=\"item-note\">{{ item. usernum }}人参与</div>\n        <span class=\"common-black\">{{ item.subject }}</span>\n        <span class=\"vote-status-ctnr\" ng-class=\"{\'light-gray\': item.status === 2 }\">{{ item.status === 2 ? \'已结束\': \'进行中\'}}</span><!--{{ item.status === \'0\'? \'进行中\'：\'已结束\'}} 假设后端返回0为正在进行中 1已结束-->\n        <p>截止时间: {{ item.endtime * 1000 | date: \'yyyy-MM-dd\' }}</p>\n      </div>\n    </div>\n  </ion-content>\n\n  <ion-footer-bar class=\"row vote-footer\">\n    <div class=\"col col-50\" ng-class=\"{\'active\': stateName === \'vote.index\' }\" ui-sref=\"vote.index\" nav-direction=\"none\">\n      <i class=\"icon-vote\"></i>\n      <p>调查投票</p>\n    </div>\n    <div class=\"col col-50\" ng-class=\"{\'active\': stateName === \'vote.mine\' }\" ui-sref=\"vote.mine\" nav-direction=\"none\">\n      <i class=\"icon-originate\"></i>\n      <p>我发起的</p>\n    </div>\n  </ion-footer-bar>\n\n</ion-view>");
$templateCache.put("templates/vote/vote-view.html","<ion-view title=\"{{vote.subject}}\">\n  \n  <ion-content>\n    <div class=\"item vote-item vote-view-header\">\n      <span class=\"common-black\">{{ vote.subject}}</span>\n      <span class=\"vote-status-ctnr\" ng-class=\"{\'light-gray\': vote.status === 2 }\">{{ vote.status === 2 ? \'已结束\': \'进行中\'}}</span><!--{{ item.status === \'0\'? \'进行中\'：\'已结束\'}} 假设后端返回0为正在进行中 1已结束-->\n      <p >{{ vote.realname }}发布于 {{ vote.starttime * 1000 | date : \'yyyy-MM-dd\'}}</p>\n      <div class=\"participant\">\n        <span>参与人: {{ vote.readscopes.departmentNames }} {{ vote.readscopes.positionNames }} {{ vote.readscopes.roleNames }} {{ vote.readscopes.uidNames }} 共{{ vote.allusernum }}人 </span>\n\n      </div>\n      <div class=\"fsm coyness\">截止时间 {{ vote.endtime *1000 | date: \'yyyy-MM-dd HH:mm\'}}</div>\n      <div class=\"description\">\n        <span ng-class=\"{\'open\': isOpenMore }\">描述: {{ vote.content }}</span>\n        <div class=\"more\" ng-if=\" !isOpenMore && vote.content.length >20 \" ng-click=\"openMore()\">\n          更多\n          <i class=\"ion-ios-arrow-down\"></i>\n        </div>\n      </div>\n    </div>\n    <div class=\"vote-content\">\n        <div class=\"item\" ng-repeat=\"topic in topics\">\n          <div class=\"vote-title\">\n            {{ $index + 1 }}、{{ topic.subject }}\n            <span ng-if=\" topic.maxselectnum !== \'1\'\">(多选 | 最多选{{ topic.maxselectnum }}项)</span>\n          </div>\n          <div class=\"vote-checkbox\" ng-repeat=\"item in topic.items\">\n            <label class=\"item item-checkbox\" ng-class=\"{\'voted\': vote.isvote || !vote.canvote }\">\n              <div class=\"checkbox checkbox-input-hidden\" ng-if=\"!vote.isvote && vote.canvote\">\n                <input ng-if=\"topic.maxselectnum != \'1\'\" type=\"checkbox\" name=\"item{{ topic.itemid }}\"\n                       ng-model=\"form.topics[item.topicid][item.itemid]\"\n                       ng-click=\"checkMaxSelected(topic.topicid, topic.maxselectnum, item.itemid)\"\n                       ng-disabled=\"vote.status === 2\">\n\n                <input ng-if=\"topic.maxselectnum == \'1\'\" type=\"radio\" name=\"item{{ topic.topicid }}\"\n                  ng-model=\"form.topics[item.topicid]\"\n                  ng-value=\"{{ item.itemid }}\"\n                  ng-disabled=\"vote.status === 2\">\n                <i class=\"checkbox-icon\" ng-class=\"{ \'radio\': topic.maxselectnum === \'1\'}\"></i>\n              </div>\n              <div class=\"picture\" ng-if=\"topic.type === \'2\'\">\n                <img  ng-src=\"{{ item.picpath | fullUrl }}\">\n              </div>\n              <div class=\"item-content disable-pointer-events\">\n                {{ item.content }}\n                <i class=\"ion-checkmark positive\" ng-if=\"topic.selectitemid.indexOf(item.itemid) !== -1 \"></i>\n              </div>\n            </label>\n            <div class=\"progress-bar row\" ng-if=\"item.isvisible === \'0\' ||  item.votepercent\">\n              <div class=\"col col-70 progress-bar-bg\">\n                <div class=\"progress\" style=\"width: {{ item.votepercent }} ;\"></div> <!--{{ item.votepercent }}-->\n              </div>\n              <div class=\"col col-30 item-note\">{{ item.number }}人({{ item.votepercent }})</div>\n            </div>\n          </div>\n        </div>\n    </div>\n\n    <!-- <div class=\"vote-button\" ng-class=\"{\'light-gray\': vote.status === 2 || vote.isvote } \"> -->\n    <div class=\"padding text-center\">\n      <button class=\"button button-positive vote-button\"\n        ng-disabled=\"vote.status === 2 || vote.isvote || !validForm()\"\n        ng-if=\"vote.canvote\" ng-click=\"submit()\">\n        {{ vote.status === 2 ? \'已结束\' : (vote.isvote ? \'已投票\' : \'投票\')  }}\n      </button>\n    </div>\n    <!-- </div> -->\n  </ion-content>\n\n  <ion-footer-bar class=\"vote-view-footer\">\n    <span class=\"common-black fsm\">已投票: {{ vote.joinedusernum }}人</span>\n    <div class=\"item-note positive\" ng-click=\"openCrewModal()\">查看全部</div>\n  </ion-footer-bar>\n\n</ion-view>");
$templateCache.put("templates/workflow/backstep-modal.html","<ion-modal-view class=\"gloomy-bg\">\n  <ion-header-bar>\n    <button class=\"button button-icon button-clear\" ng-click=\"rollbackModal.hide()\">取消</button>\n    <h1 class=\"title\">选择回退步骤</h1>\n    <button class=\"button button-icon button-clear\" ng-click=\"rollbackModal.save()\">确定</button>\n  </ion-header-bar>\n  \n  <ion-content>\n\n    <div class=\"list\">\n      <ion-radio ng-model=\"rollbackData.stepId\" ng-repeat=\"step in flow.backlist\" ng-value=\"step.id\"><span class=\"label\">{{ step.id }}</span>&nbsp;&nbsp;{{ step.name }}</ion-radio>\n    </div>\n\n  </ion-content>\n</ion-modal-view>\n");
$templateCache.put("templates/workflow/ic-fileupload-view.html","<div class=\"wfic-fileupload\">\n  <div class=\"item item-avatar padding-vertical\" ng-if=\"file\">\n    <div class=\"item-image\">\n      <img ng-src=\"{{file.type|fileIconByExtname:\'lt\'}}\" alt=\"{{ file.name }}\" width=\"44\" height=\"44\">\n    </div>\n    <h2>{{file.name}}</h2>\n    <p>\n      <a href=\"javascript:;\" class=\"anchor\" ng-if=\"file.src && file.read == 1\" ng-click=\"download()\">下载</a>\n      <span ng-if=\"file.read == 0\">无下载权限</span>\n    </p>\n  </div>\n</div>");
$templateCache.put("templates/workflow/ic-fileupload.html","<div class=\"wfic-fileupload\">\n  <div class=\"item item-avatar padding-vertical\" ng-if=\"file\">\n    <div class=\"item-image\">\n      <img ng-src=\"{{file.type|fileIconByExtname:\'lt\'}}\" alt=\"{{ file.name }}\" width=\"44\" height=\"44\">\n    </div>\n    <h2>{{file.name}}</h2>\n    <p>\n      <a href=\"javascript:;\" class=\"anchor\" ng-if=\"file.src\" ng-click=\"download()\">下载</a>\n      <a href=\"javascript:;\" class=\"anchor\" ng-click=\"removeFile()\">删除</a>\n    </p>\n  </div>\n  \n  <div class=\"wfic-fileupload-btn\" ng-show=\"!file\">\n    <button type=\"button\" class=\"button button-light\">上传文件</button>\n    <input type=\"file\" file-on-change=\"selectFile\" name=\"{{ name }}\"/>\n  </div>\n  <ic-error-tip error=\"$error\" title=\"data[\'data-title\']\"></ic-error-tip>\n</div>");
$templateCache.put("templates/workflow/ic-imgupload-view.html","<div class=\"wfic-imgupload-view\">\n  <img\n    ng-if=\"originSrc\"\n    ng-src=\"{{ originSrc | fullUrl }}\"\n    alt=\"{{ data[\'data-title\'] }}\"\n    style=\"width: {{ width }}px; height: {{ height }}px;\">\n</div>\n");
$templateCache.put("templates/workflow/ic-imgupload.html","<div class=\"wfic-imgupload\">\n  <div class=\"wfic-imgupload-img\" ng-if=\"hasSrc()\">\n    <img\n      ng-src=\"{{ localSrc || (originSrc | fullUrl) }}\"\n      alt=\"{{ data[\'data-title\'] }}\"\n      style=\"width: {{ width }}px; height: {{ height }}px;\">\n    <div class=\"ion-ios-upload-outline\">\n      <input type=\"file\" file-on-change=\"updateFile\" accept=\"image/gif,image/jpeg,image/png\" />\n    </div>\n  </div>\n\n  <div class=\"ion-ios-plus-empty\" ng-if=\"!hasSrc()\">\n    <input type=\"file\" file-on-change=\"updateFile\" accept=\"image/gif,image/jpeg,image/png\"/>\n  </div>\n</div>");
$templateCache.put("templates/workflow/ic-listview-modal.html","<ion-modal-view class=\"page-wf\">\n  <ion-header-bar>\n    <button class=\"button back-button buttons button-clear header-item\" ng-click=\"modal.hide()\">\n      <span class=\"icon fs32 ion-ios-close-empty\" style=\"margin-left: 10px\"></span>\n    </button>\n    <h1 class=\"title\">\n      {{\n        edittingRowIndex === -1 ? \'添加一行\' : \'编辑第\' + (edittingRowIndex + 1) + \'行\'\n      }}\n    </h1>\n    <button class=\"button button-positive buttons button-clear header-item\" ng-click=\"save()\">\n      保存\n    </button>\n  </ion-header-bar>\n\n  <ion-content>\n    <div class=\"list\">\n      <div class=\"item item-input item-indent wfic-{{ lvColtypes[colIndex] }}\" ng-repeat=\"(colIndex, title) in lvTitles\">\n        <label class=\"input-label\">{{ title }}</label>\n\n        <!-- 单行文本 -->\n        <input type=\"text\" ng-if=\"lvColtypes[colIndex] === \'text\'\" ng-model=\"edittingRow[colIndex]\">\n\n        <!-- 多行文本 -->\n        <div class=\"input-content\" ng-if=\"lvColtypes[colIndex] === \'textarea\'\">\n          <textarea ng-model=\"edittingRow[colIndex]\" rows=\"3\"></textarea>\n        </div>\n        \n        <!-- 下拉选框 -->\n        <div class=\"input-content\" ng-if=\"lvColtypes[colIndex] === \'select\'\">\n          <select ng-model=\"edittingRow[colIndex]\" ng-options=\"item for item in splitValue(colIndex)\"></select>\n        </div>\n\n        <!-- 单选 -->\n        <div ng-if=\"lvColtypes[colIndex] === \'radio\'\">\n          <label ng-repeat=\"radio in splitValue(colIndex)\" class=\"checkbox\">\n            <input type=\"radio\" ng-model=\"edittingRow[colIndex]\" ng-value=\"radio\" name=\"{{ title }}\">\n            {{ radio }}\n          </label>\n        </div>\n\n        <!-- 复选 -->\n        <ic-listview-checkbox ng-if=\"lvColtypes[colIndex] === \'checkbox\'\" ng-model=\"edittingRow[colIndex]\" values=\"lvColvalues[colIndex]\">\n        </ic-listview-checkbox>\n\n        <!-- 日期 -->\n        <label ng-if=\"lvColtypes[colIndex] === \'date\'\">\n          <input type=\"date\" ng-model=\"edittingRow[colIndex]\" date-str-input>\n        </label>\n\n        <!-- 计算 -->\n        <span ng-if=\"lvColtypes[colIndex] === \'calc\'\">\n          <span>{{ edittingRow[colIndex] }}</span>\n          <ic-listview-calc ng-model=\"edittingRow[colIndex]\" exp=\"lvColvalues[colIndex]\" row-data=\"edittingRow\"></ic-listview-calc>\n        </span>\n\n        <!-- <span>不支持的控件类型</span> -->\n      </div>\n    </div>\n    <div class=\"padding\" ng-if=\"edittingRowIndex !== -1\">\n      <button class=\"button button-block button-light\" ng-click=\"removeRow()\">删除此行</button>\n    </div>\n  </ion-content>\n</ion-modal-view>");
$templateCache.put("templates/workflow/ic-listview-view.html","<div class=\"wfic-listview\">\n  <ion-scroll direction=\"x\" delegate-handle=\"ic-listview-{{ data[\'data-title\'] }}\">\n    <table>\n      <thead>\n        <tr>\n          <th>序号</th>\n          <th ng-repeat=\"title in lvTitles track by $index\">{{ title }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat=\"(rowIndex, cols) in ([]|range:rows.length)\">\n          <td>\n            <strong>{{ rowIndex + 1 }}</strong>\n          </td>\n          <td ng-repeat=\"(colIndex, col) in ([]|range:lvTitles.length)\">\n            <div ng-switch=\"lvColtypes[$index]\" class=\"ellipsis\">\n              <span ng-switch-default>{{ rows[rowIndex][colIndex] }}</span>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n      <tfoot>\n        <td>合计</td>\n        <td ng-repeat=\"sum in lvSums track by $index\">\n          <span ng-if=\"sum == 1\">{{ rows | sumArrayBy:$index }}</span>\n        </td>\n      </tfoot>\n    </table>\n  </ion-scroll>\n</div>");
$templateCache.put("templates/workflow/ic-listview.html","<div class=\"wfic-listview\">\n  <ion-scroll direction=\"x\" delegate-handle=\"ic-listview-{{ data[\'data-title\'] }}\">\n    <table>\n      <thead>\n        <tr>\n          <th>序号</th>\n          <th ng-repeat=\"title in lvTitles track by $index\">{{ title }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat=\"(rowIndex, cols) in ([]|range:rows.length)\" ng-click=\"editRow(rowIndex)\">\n          <td>\n            <strong>{{ rowIndex + 1 }}</strong>\n          </td>\n          <td ng-repeat=\"(colIndex, col) in ([]|range:lvTitles.length)\">\n            <div ng-switch=\"lvColtypes[$index]\" class=\"ellipsis\">\n              <span ng-switch-default>{{ rows[rowIndex][colIndex] }}</span>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n      <tfoot>\n        <td>合计</td>\n        <td ng-repeat=\"sum in lvSums track by $index\">\n          <span ng-if=\"sum == 1\">{{ rows | sumArrayBy:$index }}</span>\n        </td>\n      </tfoot>\n    </table>\n  </ion-scroll>\n\n  <button class=\"button button-block button-clear button-positive\" ng-click=\"addRow()\">\n    <i class=\"ion-ios-plus-empty\"></i>\n    添加一行\n  </button>\n</div>");
$templateCache.put("templates/workflow/ic-sign-modal.html","<div class=\"wfic-sign-modal\">\n  <div pw-canvas options=\"pwCanvas.options\" version=\"pwCanvas.version\"></div>\n  <div class=\"wfic-sign-modal-footer\">\n    <div class=\"row\">\n      <div class=\"col col-50\">\n        <button class=\"button button-light button-block\" ng-click=\"reset()\">\n          {{ pwCanvas.version === 0 ? \'取消\' : \'重写\' }}\n        </button>\n      </div>\n      <div class=\"col col-50\">\n        <button class=\"button button-positive button-block\" ng-click=\"done()\">完成</button>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("templates/workflow/ic-sign.html","<div class=\"wfic-sign\">\n  <a href=\"javascript:;\" class=\"anchor\" ng-if=\"!src\" ng-click=\"modal.show()\">点击开始签名</a>\n  <div class=\"wfic-sign-view\" ng-if=\"src\">\n    <i class=\"ion-ios-close assertive\" ng-click=\"remove()\"></i>\n    <img ng-src=\"{{ src }}\" alt=\"签名\" ng-click=\"modal.show()\">\n  </div>\n  <ic-error-tip error=\"$error\" title=\"data[\'data-title\']\"></ic-error-tip>\n</div>");
$templateCache.put("templates/workflow/wf-ic-empty-fields.html","<div ng-if=\"fields && fields.length\">\n  <div ng-if=\"emptyFieldShown\">\n    <div class=\"item item-input item-indent item-text-wrap\" ng-repeat=\"item in fields\">\n      <span class=\"input-label coyness\">{{item[\'data-title\']}}：</span>\n    </div>\n  </div>\n\n  <div class=\"item padding-vertical text-center fss\" ng-click=\"toggleFieldShown()\">\n    {{ emptyFieldShown ? \'收起表单空项\' : \'查看表单空项\' }}\n    <i ng-class=\"{\n      \'ion-ios-arrow-down\': !emptyFieldShown,\n      \'ion-ios-arrow-up\': emptyFieldShown\n    }\"></i>\n  </div>\n</div>");
$templateCache.put("templates/workflow/wf-ic-value-fields.html","<div>\n<!-- 工作流表单字段显示模板 -->\n  <!-- isHidden 保密项则不显示 -->\n  <div class=\"item item-input item-indent item-text-wrap\"\n    ng-if=\"!isHidden(item) &&\n      item[\'data-type\'] !== \'label\' &&\n      item[\'data-type\'] !== \'imgupload\' &&\n      item[\'data-type\'] !== \'fileupload\' &&\n      item[\'data-type\'] !== \'listview\' &&\n      item[\'data-type\'] !== \'sign\' &&\n      item[\'data-type\'] !== \'checkbox\'\"\n    ng-repeat-start=\"item in fields\"\n    >\n    <span class=\"input-label coyness\">{{item[\'data-title\']}}：</span>\n    <div class=\"input-content common ic-{{item[\'data-type\']}}-view\" ng-class=\"{\'on\': item[\'origin-value\']}\">\n      {{ item | wfic | htmlToPlaintext }}\n    </div>\n  </div>\n\n  <!-- 签章 -->\n  <div class=\"item item-input item-indent item-text-wrap\"\n    ng-if=\"!isHidden(item) && item[\'data-type\'] === \'sign\' && item[\'value\']\">\n    <span class=\"input-label coyness\">{{item[\'data-title\']}}：</span>\n    <div class=\"wfic-{{item[\'data-type\']}}-view\">\n      <img ng-src={{item[\'value\']}}>\n    </div>\n  </div>\n\n    <!-- 复选框 -->\n  <div class=\"item item-input item-indent item-text-wrap\"  ng-if=\"!isHidden(item) && item[\'data-type\'] === \'checkbox\'\">\n    <span class=\"input-label coyness\">{{item[\'data-title\']}}：</span>\n    <div class=\"input-content common ic-checkbox-view\" ng-class=\"{\'on\': item[\'origin-value\']}\">\n      <div class=\"checkbox checkbox-input-hidden disable-pointer-events checkbox-circle\" style=\"padding: 0;\">\n        <input type=\"checkbox\" disabled=\"disabled\" checked=\"checked\">\n        <i class=\"checkbox-icon\"></i>\n      </div>\n    </div>\n  </div>\n\n  <!-- 列表控件 -->\n  <div class=\"item item-indent item-text-wrap\" ng-if=\"!isHidden(item) && item[\'data-type\'] === \'listview\'\">\n    <h2 class=\"coyness margin-bottom\">{{item[\'data-title\']}}</h2>\n    <ic-listview-view data=\"item\"></ic-listview-view>\n  </div>\n\n  <!-- 图片上传控件 -->\n  <div class=\"item item-indent item-text-wrap\" ng-if=\"!isHidden(item) && item[\'data-type\'] === \'imgupload\'\">\n    <h2 class=\"coyness margin-bottom\">{{item[\'data-title\']}}</h2>\n    <ic-imgupload-view data=\"item\"></ic-imgupload-view>\n  </div>\n\n  <!-- 文件上传控件 -->\n  <div class=\"item item-indent item-text-wrap\" ng-if=\"!isHidden(item) && item[\'data-type\'] === \'fileupload\'\">\n    <h2 class=\"coyness margin-bottom\">{{item[\'data-title\']}}</h2>\n    <ic-fileupload-view data=\"item\"></ic-fileupload-view>\n  </div>\n\n  <!-- 标签类型 -->\n  <div class=\"item item-indent item-text-wrap\" ng-repeat-end ng-if=\"item[\'data-type\'] === \'label\'\">\n    <ic-label data=\"item\"></ic-label>\n  </div>\n</div>");
$templateCache.put("templates/workflow/wf-process.html","<div class=\"wf-card\">\n  <div class=\"wf-card-header\">\n    <h4 class=\"wf-card-title\">进度</h4>\n  </div>\n  <div class=\"wf-process-card\" ng-repeat=\"rp in process\" ng-class=\"{\'active\': rp.delivertime == \'0\'}\">\n    <span \n      class=\"label light\"\n      ng-class=\"{\n        \'energized-bg\': rp.delivertime == \'0\',\n        \'energized-border\': rp.delivertime == \'0\',\n        \'dark-bg\': rp.delivertime != \'0\',\n        \'dark-border\': rp.delivertime != \'0\'\n      }\"\n    >{{rp.flowprocess}}</span>\n    <h4>\n    [{{rp.name}}] 由 [{{rp.opuser}}] 主办\n    </h4>\n    <div ng-if=\"rp.delivertime == \'0\'\">\n      <div class=\"energized\">执行中</div>\n      <div class=\"coyness\">持续：<span ng-bind-html=\"rp.timestr\"></span></div>\n    </div>\n    <div ng-if=\"rp.delivertime != \'0\'\">\n      <div class=\"coyness\">用时：{{rp.timestr}}</div>\n      <div class=\"coyness\">开始：<span ng-bind-html=\"rp.processtime\"></span></div>\n      <div class=\"coyness\">结束：<span ng-bind-html=\"rp.delivertime\"></span></div>\n    </div>\n  </div>\n</div>");
$templateCache.put("templates/workflow/workflow-cate-modal.html","<ion-modal-view>\n  <ion-header-bar>\n    <button class=\"button button-icon button-clear button-positive\" ng-click=\"close()\">取消</button>\n    <h1 class=\"title\">{{category.name}}</h1>\n  </ion-header-bar>\n  <ion-content>\n    <div class=\"list\">\n      <div class=\"item\" ng-repeat=\"process in category.flows\" ng-click=\"process.enabled ? create(process) : false\" ng-class=\"{ \'coyness\': !process.enabled }\">\n      {{process.name}}\n      </div>\n    </div>\n  </ion-content>\n</ion-modal-view>");
$templateCache.put("templates/workflow/workflow-create.html","<ion-view title=\"发起工作\" hide-back-button=\"true\">\n\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-if=\"hasBackView()\" ng-click=\"$ionicGoBack()\"  nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      返回\n    </button>\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!hasBackView()\" ui-sref=\"workflow.index\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      工作流\n    </button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <div class=\"list\">\n      <div class=\"item item-divider\">常用流程</div>\n      <div class=\"item\" ng-repeat=\"process in processes\" ng-click=\"process.enabled ? create(process) : false\" ng-class=\"{ \'coyness\': !process.enabled }\">\n        {{process.name}}\n      </div>\n      <div class=\"item text-center\" ng-if=\"loading\">\n        <ion-spinner></ion-spinner>\n      </div>\n\n      <div class=\"item item-divider\">按分类</div>\n      <div class=\"item item-icon-left wf-cate-item\" ng-repeat=\"category in categories\" ng-click=\"openCate(category)\">\n        <i class=\"icon ion-ios-folder\"></i>\n        <h2>{{category.name}}</h2>\n        <p>共 {{category.flowcount}} 个工作</p>\n      </div>\n      <div class=\"item text-center\" ng-if=\"loading\">\n        <ion-spinner></ion-spinner>\n      </div>\n    </div>\n  </ion-content>\n</ion-view>");
$templateCache.put("templates/workflow/workflow-detail.html","<ion-view title=\"查看工作\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!hasBackView()\" ui-sref=\"workflow.index\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      工作流\n    </button>\n  </ion-nav-buttons>\n  \n  <ion-content class=\"page-wf\">\n\n    <div class=\"wf-form\">\n      <!-- 表单基本信息，非空项（不可填） -->\n      <div class=\"wf-card no-border-top no-border-bottom\">\n        <div class=\"padding\">\n          <h4 class=\"fsl\">{{flow.run.name}}</h4>\n          <div>\n            <p>[{{flow.run.runid}}] {{flow.flow.name}}</p>\n            <p>发起人：{{flow.run.beginuser|userInfo:\'realname\'}}</p>\n            <p>发起时间：{{flow.run.begintime * 1000|date:\'yyyy年MM月dd日，EEEE\'}}</p>\n          </div>\n          <div class=\"view-origin-form\">\n            <a ng-click=\"viewSource()\">查看原表</a>\n          </div>\n        </div>\n\n        <wf-ic-value-fields fields=\"flow.valueArr\" hidden-field=\"flow.hidden\"></wf-ic-value-fields>\n      </div>\n\n      <div class=\"wf-card has-value\" ng-class=\"{\'no-border-top\': !flow.enableArr || !flow.enableArr.length}\">\n        <wf-ic-value-fields fields=\"flow.enableArr\" hidden-field=\"flow.hidden\"></wf-ic-value-fields>\n        <!-- 表单空项（不可填） -->\n        <wf-ic-empty-fields fields=\"flow.emptyArr\"></wf-ic-empty-fields>\n      </div>\n    </div>\n\n    <!--图片-->\n    <div class=\"wf-card\" ng-if=\"imageAttach.length\">\n      <div class=\"wf-card-header\">\n        <h4 class=\"wf-card-title\">图片</h4>\n      </div>\n      <div class=\"upload-img-box\">\n        <div class=\"img\" ng-repeat=\"item in imageAttach\">\n          <img ng-src=\"{{item.url}}\" alt=\"img\" img-preview>\n        </div>\n      </div>  \n    </div>\n\n    <!-- 文件 -->\n    <div class=\"wf-card\" ng-if=\"fileAttach.length\">\n      <div class=\"wf-card-header\">\n        <h4 class=\"wf-card-title\">文件</h4>\n      </div>\n      <div class=\"file-item\" ng-repeat=\"item in fileAttach\">\n        <div class=\"left\">\n          <img ng-src=\"{{ item.filename | fileIconByFilename:\'lt\' }}\">\n          <div class=\"info\">\n            <p class=\"name\" ng-bind-html=\"item.filename | wfFilenameFormat\"></p>\n            <p class=\"size\">{{item.filesize}}</p>\n          </div>\n        </div>\n        <div class=\"right\">\n          <button class=\"icon-download\" ng-show=\"item.down && flow.process.attachpriv.indexOf(4) !== -1\" ng-click=\"downloadFile(item)\"></button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 会签 -->\n    <div class=\"wf-card\" ng-if=\"flow.feedback.length\">\n      <div class=\"wf-card-header\">\n        <h4 class=\"wf-card-title\">会签</h4>\n      </div>\n      <div class=\"padding feedback\" ng-repeat=\"feedback in flow.feedback\">\n        <img ng-src=\"{{feedback.user.avatar_middle | fullUrl}}\">\n        <div class=\"info\">\n          <p class=\"name\">{{feedback.user.realname}}</p>\n          <p class=\"content\">{{feedback.content}}</p>\n          <div class=\"mata\">\n            <span class=\"label light\">{{feedback.processid}}</span>\n            <span class=\"fsm\">{{feedback.name}}</span>\n            <time ng-bind-html=\"feedback.edittime\"></time>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 进度 -->\n    <wf-process process=\"flow.rpcache\"></wf-process>\n  </ion-content>\n\n</ion-view>\n");
$templateCache.put("templates/workflow/workflow-field-modal.html","<ion-modal-view>\n  <ion-header-bar>\n    <h1 class=\"title\">选择可写字段</h1>\n    <button class=\"button button-positive button-clear\" ng-click=\"modal.hide()\">确定</button>\n  </ion-header-bar>\n  <ion-content>\n    <div class=\"list\">\n      <div class=\"item item-checkbox\" ng-repeat=\"item in run.itemArr\">\n        <div ng-if=\"item && item != \'[A@]\' && item != \'[B@]\'\">\n          <label class=\"checkbox\">\n              <input type=\"checkbox\" ng-init=\"form.field[$index] = item\" ng-model=\"form.field[$index]\" ng-true-value=\"\'{{item}}\'\" ng-false-value=\"\">\n          </label>\n          {{item}}\n        </div>\n\n        <div ng-if=\"item && item == \'[A@]\'\">\n          <label class=\"checkbox\">\n              <input type=\"checkbox\" ng-init=\"form.field[$index] = \'[A@]\'\" ng-model=\"form.field[$index]\" ng-true-value=\"\'[A@]\'\" ng-false-value=\"\">\n          </label>\n          流程公共附件\n        </div>\n\n        <div ng-if=\"item && item == \'[B@]\'\">\n          <label class=\"checkbox\">\n              <input type=\"checkbox\" ng-init=\"form.field[$index] = \'[B@]\'\" ng-model=\"form.field[$index]\" ng-true-value=\"\'[B@]\'\" ng-false-value=\"\">\n          </label>\n          文号/名称\n        </div>\n      </div>\n    </div>\n  </ion-content>\n</ion-modal-view>");
$templateCache.put("templates/workflow/workflow-follow-list.html","<ion-view title=\"{{title}}\">\n\n  <ion-content>\n    <ion-refresher on-refresh=\"refresh()\"></ion-refresher>\n\n    <div class=\"list-empty-tip\" ng-if=\"list.checkNoData()\">暂无相关工作</div>\n\n    <ion-list>\n      <a class=\"item\"\n        ng-repeat=\"flow in list.items\"\n        type=\"item-text-wrap\"\n        on-hold=\"showMenu(flow)\"\n        ui-sref=\"{{sref}}\"\n      >\n        <h2 ng-class=\"{\'positive\': flow.flag == \'1\'}\">{{flow.runName}}</h2>\n        <p>\n          <span>[{{flow.runid}}]</span>\n          <span>{{flow.stepname}}</span>\n          <span class=\"item-note\">\n            <i class=\"icon ion-star assertive\"></i>\n            <time class=\"fss\">{{flow.begintime * 1000|humanizedTime:\'yyyy年MM月dd日\'}}</time>\n          </span>\n        </p>\n      </a>\n    </ion-list>\n        \n    <button class=\"button button-full button-clear button-positive\" ng-if=\"list.items.length && list.hasMore\" ng-click=\"list.loadMore()\">加载更多</button>\n\n  </ion-content>\n</ion-view>\n");
$templateCache.put("templates/workflow/workflow-handle.html","<ion-view title=\"办理工作\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ng-if=\"!hasBackView()\" ui-sref=\"workflow.index\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      工作流\n    </button>\n  </ion-nav-buttons>\n  <form name=\"flowForm\">\n  <ion-content class=\"page-wf\">\n    <input type=\"hidden\" name=\"key\" value=\"{{key}}\">\n    <input type=\"hidden\" name=\"hidden\" value=\"{{flow[\'hidden\']}}\">\n    <input type=\"hidden\" name=\"readonly\" value=\"{{flow[\'readonly\']}}\">\n    <input type=\"hidden\" name=\"attachmentid\" id=\"attachmentid\" value=\"{{flow[\'run\'][\'attachmentid\']}}\">\n    <input type=\"hidden\" name=\"fbattachmentid\" id=\"fbattachmentid\" value=\"\">\n    <input type=\"hidden\" name=\"topflag\" value=\"{{flow[\'rp\'][\'opflag\']}}\">\n    <input type=\"hidden\" name=\"saveflag\">\n    <input type=\"hidden\" name=\"formhash\" value=\"{{formhash}}\">\n    <input type=\"hidden\" name=\"enablefiled\" value=\"{{flow[\'enablefiled\'] + \'\'}}\">\n    <!-- 主表单 -->\n    <div class=\"wf-form\">\n      <!-- 表单基本信息，非空项（不可填） -->\n      <div class=\"wf-card no-border-top no-margin-bottom\" ng-class=\"{\'no-border-bottom\': !flow.valueArr || !flow.valueArr.length}\">\n        <div class=\"padding\">\n           <h4 ng-if=\"flow.process.processid != 1\" class=\"fsl\">{{flow.run.name}}</h4>\n          <input ng-if=\"flow.process.processid == 1\"\n            name=\"title\"\n            ng-model=\"form.title\"\n            class=\"fsl-title\"\n            placeholder=\"请输入标题\" >\n          </input>\n          <div>\n            <p>[{{flow.run.runid}}] {{flow.flow.name}}</p>\n            <p>发起人：{{flow.run.beginuser|userInfo:\'realname\'}}</p>\n            <p>发起时间：{{flow.run.begintime * 1000|date:\'yyyy年MM月dd日，EEEE\'}}</p>\n          </div>\n          <div class=\"view-origin-form\">\n            <a ng-click=\"viewSource()\">查看原表</a>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"wf-card has-value no-border-top\" >\n        <!-- 表单已有值的项 -->\n        <wf-ic-value-fields fields=\"flow.valueArr\" hidden-field=\"flow.hidden\"></wf-ic-value-fields>\n\n        <!-- 表单空项（不可填） -->\n        <wf-ic-empty-fields fields=\"flow.emptyArr\"></wf-ic-empty-fields>\n      </div>\n\n      <!-- 表单可填项 -->\n      <div class=\"wf-card\" ng-if=\"flow.enableArr && flow.enableArr.length\">\n        <div class=\"item item-input item-indent item-text-wrap\" ng-repeat-start=\"item in flow.enableArr\"\n          ng-if=\"\n          item[\'data-type\'] !== \'listview\' &&\n          item[\'data-type\'] !== \'imgupload\' &&\n          item[\'data-type\'] !== \'label\' &&\n          item[\'data-type\'] !== \'sign\' &&\n          item[\'data-type\'] !== \'fileupload\'\n          \">\n          <span class=\"input-label coyness\">{{item[\'data-title\']}}</span>\n          <!-- 如果是主办人，则显示表单控件 -->\n          <ic\n            ng-if=\"flow | wfIsSponsor\"\n            data=\"item\"\n            ics=\"ics\"\n            name=\"data_{{ item[\'data-id\'] }}\"\n            ng-model=\"form[\'data_\' + item[\'data-id\']]\"\n            pattern-type=\"{{ item[\'data-title\'] | icPatternType:flow.checkItem }}\"\n          ></ic>\n          \n          <!-- 如果是经办人，只显示值-->\n          <div ng-if=\"!(flow | wfIsSponsor)\" class=\"input-content\">{{ item | wfic }}</div>\n        </div>\n        \n        <!-- 标签类型 -->\n        <div class=\"item item-indent item-text-wrap\" ng-if=\"item[\'data-type\'] === \'label\'\">\n          <ic-label data=\"item\"></ic-label>\n        </div>\n\n        <!-- 列表类型 -->\n        <div class=\"item item-indent item-text-wrap\" ng-if=\"item[\'data-type\'] === \'listview\'\">\n          <h2 class=\"coyness margin-bottom\">{{ item[\'data-title\'] }}</h2>\n          <ic-listview ng-if=\"flow | wfIsSponsor\" data=\"item\" ng-model=\"form[\'data_\' + item[\'data-id\']]\"></ic-listview>\n          <ic-listview-view ng-if=\"!(flow | wfIsSponsor)\" data=\"item\" ng-model=\"form[\'data_\' + item[\'data-id\']]\"></ic-listview-view>\n        </div>\n\n        <!-- 签章手写类型 -->\n        <div class=\"item item-input item-indent item-text-wrap\" ng-if=\"item[\'data-type\'] === \'sign\'\">\n          <span class=\"input-label coyness\">{{item[\'data-title\']}}</span>\n          <div class=\"input-content\">\n            <ic-sign ng-if=\"flow | wfIsSponsor\" data=\"item\" ng-model=\"form[\'data_\' + item[\'data-id\']]\"\n              pattern-type=\"{{ item[\'data-title\'] | icPatternType:flow.checkItem }}\"\n              ></ic-sign>\n            <!-- <a href=\"javascript:;\" class=\"anchor\">点击开始签名</a> -->\n          </div>\n        </div>\n\n        <!-- 文件上传类型 -->\n        <div class=\"item item-indent item-text-wrap\" ng-if=\"item[\'data-type\'] === \'fileupload\'\">\n          <h2 class=\"coyness margin-bottom\">{{ item[\'data-title\'] }}</h2>\n          <ic-fileupload \n            ng-if=\"flow | wfIsSponsor\"\n            data=\"item\"\n            ng-model=\"form[\'data_\' + item[\'data-id\']]\"\n            name=\"\'data_\' + item[\'data-id\']\"\n            pattern-type=\"{{ item[\'data-title\'] | icPatternType:flow.checkItem }}\"\n            ></ic-fileupload>\n          <ic-fileupload-view ng-if=\"!(flow | wfIsSponsor)\" data=\"item\" ng-model=\"form[\'data_\' + item[\'data-id\']]\"></ic-fileupload-view>\n          <ic-fileupload-hidden\n            ng-model=\"form[\'fileid_\' + item[\'data-id\']]\"\n            data=\"item\"\n            name=\"\'fileid_\' + item[\'data-id\']\"\n            file=\"form[\'data_\' + item[\'data-id\']]\"\n            >\n          </ic-fileupload-hidden>\n        </div>\n        \n        <!-- 图片上传类型 -->\n        <div class=\"item item-indent item-text-wrap\" ng-repeat-end ng-if=\"item[\'data-type\'] === \'imgupload\'\">\n          <h2 class=\"coyness margin-bottom\">{{ item[\'data-title\'] }}</h2>\n          <ic-imgupload ng-if=\"flow | wfIsSponsor\" data=\"item\" ng-model=\"form[\'data_\' + item[\'data-id\']]\"></ic-imgupload>\n          <ic-imgupload-view ng-if=\"!(flow | wfIsSponsor)\" data=\"item\" ng-model=\"form[\'data_\' + item[\'data-id\']]\"></ic-imgupload-view>\n          <input type=\"hidden\" ng-model=\"form[\'imgid_\' + item[\'data-id\']]\" ng-init=\"form[\'imgid_\' + item[\'data-id\']] = item[\'origin-value\']\">\n        </div>\n      </div>\n    </div>\n\n    <!-- \n      @Todo#zcs: 这里模板代码需要整理\n      process.attachpriv 附件权限\n      1 新建\n      2 编辑\n      3 删除\n      4 下载\n      5 打印\n    -->\n    <!--图片-->\n    <div class=\"wf-card\" ng-if=\"flow.allowAttach || imageAttach.length\">\n      <div class=\"wf-card-header\">\n        <h4 class=\"wf-card-title\">图片</h4>\n      </div>\n\n      <div class=\"upload-img-box\" ng-hide=\"!imageAttach.length && flow.process.attachpriv.indexOf(1) === -1 && flow.process.attachpriv.indexOf(3) === -1\">\n        <div class=\"img\" ng-repeat=\"item in imageAttach\">\n          <i ng-show=\"showDelImg && !item.uploading && item.delete\" ng-click=\"removeImage($index)\"></i>\n          <img ng-src=\"{{item.url}}\" alt=\"img\" img-preview>\n          <ion-spinner class=\"rp-form-spinner item-note\" ng-show=\"item.uploading\"></ion-spinner>\n        </div>\n        <div class=\"img add\" ng-if=\"flow.allowAttach && flow.process.attachpriv.indexOf(1) !== -1\">\n          <input type=\"file\" class=\"input-file\" multiple accept=\"image/*\" file-on-change=\"addImage\">\n        </div>\n        <div class=\"img cut\" ng-click=\"showDelImg = !showDelImg\" ng-show=\"flow.process.attachpriv.indexOf(3) !== -1\"></div>\n      </div>  \n    </div> \n\n    <!-- 文件 -->\n    <div class=\"wf-card\" ng-if=\"flow.allowAttach || fileAttach.length\">\n      <div class=\"wf-card-header\">\n        <div class=\"wf-card-header-btn\" ng-click=\"checkIos()\" ng-if=\"flow.allowAttach && flow.process.attachpriv.indexOf(1) !== -1\">\n          上传\n          <input type=\"file\" class=\"input-file\" multiple file-on-change=\"addFile\" ng-if=\"!isIos\">\n        </div>\n        <h4 class=\"wf-card-title\">文件</h4>\n      </div>\n\n      <div class=\"file-item\" ng-repeat=\"item in fileAttach\">\n        <div class=\"left\">\n          <img ng-src=\"{{ item.filename | fileIconByFilename:\'lt\' }}\">\n          <div class=\"info\">\n            <p class=\"name\" ng-bind-html=\"item.filename | wfFilenameFormat\"></p>\n            <p class=\"size\">{{item.filesize}}</p>\n          </div>\n        </div>\n        <div class=\"right\">\n          <button class=\"icon-download\" ng-show=\"!item.uploading && item.down && flow.process.attachpriv.indexOf(4) !== -1\" ng-click=\"downloadFile(item)\"></button>\n          <button class=\"icon-delete\" ng-show=\"!item.uploading && item.delete && flow.process.attachpriv.indexOf(3) !== -1\" ng-click=\"removeFile($index)\"></button>\n          <ion-spinner class=\"rp-form-spinner item-note\" ng-show=\"item.uploading\" ng-click=\"item.xhr && item.xhr.abort()\"></ion-spinner>\n        </div>\n      </div>\n    </div>\n\n    <!-- 会签 -->\n    <div class=\"wf-card\">\n      <div class=\"wf-card-header\">\n        <h4 class=\"wf-card-title\">会签</h4>\n      </div>\n      <div class=\"padding feedback\" ng-repeat=\"feedback in flow.feedback\">\n        <img ng-src=\"{{feedback.user.avatar_middle | fullUrl}}\">\n        <div class=\"info\">\n          <p class=\"name\">{{feedback.user.realname}}</p>\n          <p class=\"content\">{{feedback.content}}</p>\n          <div class=\"mata\">\n            <span class=\"label light\">{{feedback.processid}}</span>\n            <span class=\"fsm\">{{feedback.name}}</span>\n            <time ng-bind-html=\"feedback.edittime\"></time>\n          </div>\n        </div>\n      </div>\n\n      <!-- 会签内容 -->\n      <div class=\"padding\" ng-if=\"flow.allowFeedback\">\n        <textarea name=\"content\" class=\"w100p feedback-content\" placeholder=\"填写你的会签意见...\" ng-required=\"flow.process.feedback == \'2\'\" ng-model=\"form.content\"></textarea>\n        <!-- 强制会签 -->\n        <div ng-if=\"flowForm.content.$invalid\" class=\"assertive fss\">本步骤为强制会签，请填写会签意见</div>\n      </div>\n    </div>\n\n    <!-- 进度 -->\n    <wf-process process=\"flow.rpcache\"></wf-process>\n\n  </ion-content>\n\n  <ion-footer-bar class=\"page-wf-bottom\">\n    <div class=\"tabs tabs-light tabs-icon-only toolbar-tabs\">\n      <!-- 子流程？\n      <a class=\"tab-item positive\"\n        ng-if=\"flow.run.parentrun == \'0\' && flow.rp.processid == \'1\' && flow.rp.autonew\">\n        取消\n      </a>\n      -->\n\n      <!-- 如果是主办人、配置允许回退且不为第一步 -->\n      <div class=\"tab-item return\" ng-if=\"flow.rp.opflag == \'1\' && flow.allowBack && flow.rp.flowprocess != \'1\'\">\n        <button type=\"button\" \n          class=\"button button-block button-clear\" \n          ng-click=\"rollback()\">回退</button>\n      </div>\n\n      <!-- 如果自由流程且满足必要条件，则可以手动结束流程 -->\n      <div class=\"tab-item return\" ng-if=\"flow.defaultEnd || flow.otherEnd\">\n        <button type=\"button\" \n          class=\"button button-block button-clear\"\n          ng-click=\"end()\">结束</button>\n      </div>\n\n      <!-- 如果是主办人 -->\n      <div class=\"tab-item save\" ng-if=\"flow.rp.opflag == \'1\'\">\n        <button type=\"button\" \n          class=\"button button-block button-clear\"\n          ng-click=\"save()\">保存</button>\n      </div>\n\n      <div class=\"tab-item forwarded\" ng-if=\"flow.rp.opflag == \'1\'\">\n        <button type=\"button\" \n          class=\"button button-block button-clear\"\n          ng-disabled=\"flowForm.$invalid\"\n          ng-click=\"handover()\">转交</button>\n      </div>\n\n      <!-- 如果是经办人 -->\n      <div \n        class=\"tab-item\" \n        ng-if=\"flow.rp.opflag == \'0\'\">\n        <button type=\"button\" \n          class=\"button button-block button-clear button-positive\"\n          ng-disabled=\"flowForm.$invalid\"\n          ng-click=\"sign()\"\n          >办理完毕</button>\n      </div>\n    </div>\n\n    <ic-script data=\"flow.script\"></ic-script>\n  </ion-footer-bar>\n  \n  </form>\n</ion-view>\n");
$templateCache.put("templates/workflow/workflow-handover-free.html","<ion-view title=\"转交下一步\">\n  \n  <form name=\"flowHandoverForm\" ng-submit=\"save()\">\n  <ion-content>\n\n    <!-- 步骤信息 -->\n    <div class=\"item item-divider\">步骤信息</div>\n\n    <div class=\"list card\">\n      <div class=\"item item-text-wrap\" ng-repeat=\"(index, step) in run.prcsUser\">\n        <span class=\"label light dark-bg\">{{index}}</span>\n        <span ng-bind-html=\"step.userName\" ng-class=\"{\'assertive\': $last }\"></span>\n      </div>\n    </div>\n    \n    <!-- 下一步骤 -->\n    <div class=\"list card\">\n      <div class=\"item item-divider\">第 {{ getPresetIndex(0, run.processid)}} 步：(下一步骤)</div>\n      <!-- if(下步骤有预设): -->\n      <div ng-if=\"run.preset != \'\'\">\n        <div class=\"item item-text-wrap\">\n          {{run.preset}}\n          <p><span class=\"assertive\">本步骤为预设步骤</span></p>\n        </div>\n        \n        <input type=\"hidden\" name=\"preset\" value=\"1\" />\n        <input type=\"hidden\" name=\"prcsUser\" value=\"1\" />\n        <input type=\"hidden\" name=\"prcsUserOp\" id=\"prcsUserOp\" value=\"1\" />\n        <input type=\"hidden\" name=\"topflag\" value=\"1\" />\n      </div>\n\n      <!-- elseif(下步骤没有预设): -->\n      <div ng-if=\"run.preset == \'\'\">\n        <div class=\"item item-input item-select\">\n          <span class=\"input-label\">主办人选项</span>\n          <select \n            name=\"topflag\"\n            ng-model=\"form.next.topflag\">\n            <option value=\"0\">主办</option>\n            <option value=\"1\">先接收者为主办人</option>\n            <option value=\"2\">无主办人会签</option>\n          </select>\n        </div>\n\n        <!-- 没有经办权限时，不显示主办、经办 -->\n        <!-- 主办人选项 ‘先接收者为主办’ 跟 ‘无主办人会签’ 都不用选主办人 -->\n        <div \n          class=\"item item-text-wrap item-user-select clearfix\"\n          ng-hide=\"form.next.topflag == \'1\' || form.next.topflag == \'2\'\"\n        >\n          <span class=\"fl\">主办</span>\n          <i class=\"icon ion-ios-plus positive\"\n            ng-model=\"form.next.prcsUserOp\"\n            user-selector-trigger\n            max-selection=\"1\"\n            >\n          </i>\n          <user-selector\n            ng-model=\"form.next.prcsUserOp\"\n            name=\"prcsUserOp\"\n            required>\n          </user-selector>\n        </div>\n        \n        <div class=\"item item-text-wrap item-user-select clearfix\">\n          <span class=\"fl\">经办</span>\n          <i class=\"icon ion-ios-plus positive\"\n            ng-model=\"form.next.prcsUser\"\n            user-selector-trigger\n            >\n          </i>\n          <user-selector\n            ng-model=\"form.next.prcsUser\"\n            name=\"prcs_user\">\n          </user-selector>\n        </div>\n\n        <div class=\"item positive\">\n          <a ng-click=\"modal.show()\">设置可写字段</a>\n        </div>\n      </div>\n      <!-- endif; -->\n    </div>\n    \n    <!-- 预设步骤 -->\n    <div class=\"list card\" ng-repeat=\"preset in form.preset\">\n      <div class=\"item item-divider\">\n        第 {{getPresetIndex($index, run.processid)}} 步：(预设步骤)\n        <!-- <a ng-click=\"removePreset($index)\" class=\"positive item-note\">移除</a> -->\n        <a ng-click=\"removePreset($index)\" class=\"icon ion-ios-close fr\" style=\"font-size: 24px;\"></a>\n      </div>\n      <div>\n        <div class=\"item item-input item-select\">\n          <span class=\"input-label\">主办人选项</span>\n          <select \n            name=\"topflag{{$index + 1}}\"\n            ng-model=\"preset.topflag\">\n            <option value=\"0\">主办</option>\n            <option value=\"1\">先接收者为主办人</option>\n            <option value=\"2\">无主办人会签</option>\n          </select>\n        </div>\n\n        <!-- 没有经办权限时，不显示主办、经办 -->\n        <!-- 主办人选项 ‘先接收者为主办’ 跟 ‘无主办人会签’ 都不用选主办人 -->\n        <div \n          class=\"item item-text-wrap item-user-select clearfix\"\n          ng-hide=\"preset.topflag == \'1\' || preset.topflag == \'2\'\"\n        >\n          <span class=\"fl\">主办</span>\n          <i class=\"icon ion-ios-plus positive\"\n            ng-model=\"preset.prcsUserOp\"\n            user-selector-trigger\n            max-selection=\"1\"\n            >\n          </i>\n          <user-selector\n            name=\"prcsUserOp{{$index + 1}}\"\n            ng-model=\"preset.prcsUserOp\"\n            required>\n          </user-selector>\n        </div>\n        \n        <div class=\"item item-text-wrap item-user-select clearfix\">\n          <span class=\"fl\">经办</span>\n          <i class=\"icon ion-ios-plus positive\"\n            ng-model=\"preset.prcsUser\"\n            user-selector-trigger\n            >\n          </i>\n          <user-selector\n            name=\"prcsUser{{$index + 1}}\"\n            ng-model=\"preset.prcsUser\">\n          </user-selector>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 判断是滞允许预设步骤 -->\n    <div class=\"padding-horizontal\" ng-if=\"run.preset == \'\' && run.freePreset == \'1\' \">\n      <button type=\"button\" class=\"button button-block\" ng-click=\"addPreset()\">增加预设步骤</button>\n    </div>\n      \n\n    <!-- 事务提醒 -->\n    <div class=\"item item-divider\">事务提醒</div>\n    <div>\n      <div class=\"item item-input\">\n        <span class=\"input-label\">提醒内容</span>\n        <input type=\"text\" placeholder=\"请输入提醒内容\" ng-model=\"form.message\" name=\"message\">\n      </div>\n    </div>\n  </ion-content>\n\n  <ion-footer-bar>\n    <div class=\"tabs tabs-light tabs-icon-only toolbar-tabs\">\n      <div class=\"tab-item\">\n        <button type=\"submit\" class=\"button button-block button-clear button-positive\" ng-disabled=\"!validate()\">确定</button>\n      </div>\n    </div>\n  </ion-footer-bar>\n\n  </form>\n</ion-view>\n");
$templateCache.put("templates/workflow/workflow-handover.html","<ion-view title=\"转交下一步\">\n  \n  <form name=\"flowHandoverForm\" ng-submit=\"save()\">\n  <ion-content>\n\n    <!-- 选择下一步骤 -->\n    <div class=\"item item-divider\">选择下一步骤</div>\n    <div class=\"list card\">\n      <!-- 循环输出可用步骤 -->\n      <div ng-repeat=\"(index, step) in data.list\">\n\n         <!-- data.process.syncdeal(0 为不并发， 1为并发， 2为强制并发) -->\n        <div>\n\n          <!-- 如果流程未达到转交条件则禁用 -->\n          <!-- 强制并发时，默认选中 -->\n          <div class=\"item item-checkbox item-text-wrap\">\n            <label class=\"checkbox\">\n              <input type=\"checkbox\" \n                name=\"prcs_choose[]\"\n                ng-init=\"initStep(index, step)\"\n                ng-model=\"form.prcs_choose[index].checked\"\n                ng-disabled=\"!!step.notpass || data.process.syncdeal == 2\"\n                ng-change=\"selectStep(index, step)\"\n              >\n            </label>\n            \n            <!-- if(流程到达最后一步): -->\n            <span class=\"label light dark-bg\" ng-if=\"step.isover\">结束</span>\n            <!-- else: -->\n            <span \n              ng-if=\"!step.isover\"\n              class=\"label light\"\n              ng-class=\"{ \'assertive-bg\': step.notpass, \'dark-bg\': !step.notpass }\">\n              {{data.prcsto[index]}}\n            </span>\n            <!-- endif;-->\n\n            <span>{{step.prcsname}}</span>\n            <span ng-if=\"step.notpass\">（<em class=\"assertive\">{{step.notpass}}</em>）</span>\n          </div>\n          \n          <div\n            class=\"item item-text-wrap text-center assertive\"\n            ng-if=\"step.nopriv\"\n            ng-show=\"form.prcs_choose[index].checked\">\n            {{step.nopriv}}\n          </div>\n          \n          <!-- 流程的最后步骤（除子流程），不显示主办经办 -->\n          <!-- 没有权限时，不显示主办经办 -->\n          <div\n            ng-if=\"(!step.isover || (step.isover && data.prcsback)) && !step.nopriv\"\n            ng-show=\"form.prcs_choose[index].checked\">\n            <!-- 进入子流程或结束子流程时，不显示主办人选项 -->\n            <div class=\"item item-input item-select\" ng-show=\"notChildFlow(step)\">\n              <span class=\"input-label\">主办人选项</span>\n              <select \n                name=\"topflag{{index}}\"\n                ng-init=\"form.topflag[index] = step.topdefault || \'0\'\"\n                ng-disabled=\"step.topmodify == \'0\'\"\n                ng-model=\"form.topflag[index]\">\n                <option value=\"0\">主办</option>\n                <option value=\"1\">先接收者为主办人</option>\n                <option value=\"2\">无主办人会签</option>\n              </select>\n            </div>\n\n            \n            <!-- 没有经办权限时，不显示主办、经办 -->\n            <!-- 主办人选项 ‘先接收者为主办’ 跟 ‘无主办人会签’ 都不用选主办人 -->\n            <div \n              class=\"item item-text-wrap item-user-select clearfix\"\n              ng-hide=\"form.topflag[index] == \'1\' || form.topflag[index] == \'2\'\"\n            >\n              <span class=\"fl\">主办</span>\n              <i class=\"icon ion-ios-plus positive\"\n                ng-class=\"{ \'icon-disabled\' : data.list[index].ismergerprocess }\"\n                ng-model=\"form.prcs_user_op[index]\"\n                ng-disabled=\"{{data.list[index].ismergerprocess}}\"\n                user-selector-trigger\n                max-selection=\"1\"\n                enabled-users=\"data.list[index].prcsEnabledUsers | removeUserPrefix\"\n                >\n              </i>\n              <user-selector\n                ng-class=\"{ \'user-selector_disabled\' : data.list[index].ismergerprocess }\"\n                ng-init=\"form.prcs_user_op[index] = step.prcsOpUser\"\n                ng-model=\"form.prcs_user_op[index]\"\n                name=\"prcs_user_op{{index}}\"\n                disabled-remove=\"{{data.list[index].ismergerprocess}}\"\n                required>\n              </user-selector>\n            </div>\n            \n            <div class=\"item item-text-wrap item-user-select clearfix\">\n              <span class=\"fl\">经办</span>\n              <i class=\"icon ion-ios-plus positive\"\n                ng-class=\"{ \'icon-disabled\' : data.list[index].ismergerprocess }\"\n                ng-model=\"form.prcs_user[index]\"\n                ng-disabled=\"{{data.list[index].ismergerprocess}}\"\n                user-selector-trigger\n                enabled-users=\"data.list[index].prcsEnabledUsers | removeUserPrefix\"\n                >\n                </i>\n              <user-selector\n                ng-class=\"{ \'user-selector_disabled\' : data.list[index].ismergerprocess }\"\n                ng-init=\"form.prcs_user[index] = step.prcsUser\"\n                ng-model=\"form.prcs_user[index]\"\n                disabled-remove=\"{{data.list[index].ismergerprocess}}\"\n                name=\"prcs_user{{index}}\">\n              </user-selector>\n            </div>\n          </div>\n          \n        </div>\n      </div>\n      <!-- 循环输出可用步骤 end -->\n\n      <div class=\"item assertive text-center\" ng-if=\"data.process.syncdeal == 2\">\n        此步骤为强制并发\n      </div>\n      \n    </div>\n\n    <!-- 事务提醒 -->\n    <div class=\"item item-divider\">事务提醒</div>\n    <div class=\"list card\">\n    \n      <div class=\"item item-checkbox\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" name=\"remind[1]\" ng-model=\"form.remind[1]\">\n        </label>\n        下一步办理人\n      </div>\n\n      <div class=\"item item-checkbox\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" name=\"remind[2]\" ng-model=\"form.remind[2]\">\n        </label>\n        发起人\n      </div>\n\n      <div class=\"item item-checkbox\">\n        <label class=\"checkbox\">\n          <input type=\"checkbox\" name=\"remind[3]\" ng-model=\"form.remind[3]\">\n        </label>\n         全部经办人\n      </div>\n\n      <div class=\"item item-input\">\n        <span class=\"input-label\">提醒内容</span>\n        <input type=\"text\" placeholder=\"请输入提醒内容\" ng-model=\"form.message\" name=\"message\">\n      </div>\n    </div>\n  </ion-content>\n\n  <ion-footer-bar>\n    <div class=\"tabs tabs-light tabs-icon-only toolbar-tabs\">\n      <div class=\"tab-item\">\n        <button type=\"submit\" class=\"button button-block button-clear button-positive\" ng-disabled=\"!validate()\">确定</button>\n      </div>\n    </div>\n  </ion-footer-bar>\n\n  </form>\n</ion-view>\n");
$templateCache.put("templates/workflow/workflow-index.html","<ion-view title=\"工作流\" hide-back-button=\"true\">\n  <ion-nav-buttons side=\"left\">\n    <button class=\"button back-button button-clear header-item\" ui-sref=\"portal\" nav-direction=\"back\">\n      <i class=\"icon ion-ios-arrow-back\"></i>\n      门户\n    </button>\n  </ion-nav-buttons>\n  \n  <ion-nav-buttons side=\"right\">\n    <button class=\"button button-clear button-positive\" ui-sref=\"workflow.create\"> 发起工作</button>\n  </ion-nav-buttons>\n\n  <ion-content>\n    <ion-list>\n      <ion-item class=\"item-icon-left\" ui-sref=\"workflow.todo\">\n        <i class=\"icon ion-ios-briefcase\"></i>\n        待办工作\n      </ion-item>\n\n      <ion-item class=\"item-icon-left\" ui-sref=\"workflow.trans\">\n        <i class=\"icon ion-ios-redo\"></i>\n        已办结\n      </ion-item>\n\n      <ion-item class=\"item-icon-left\" ui-sref=\"workflow.done\">\n        <i class=\"icon ion-checkmark\"></i>\n        已完成\n      </ion-item>\n\n      <ion-item class=\"item-icon-left\" ui-sref=\"workflow.follow\">\n        <i class=\"icon ion-ios-star\"></i>\n        我的关注\n      </ion-item>\n    </ion-list>\n  </ion-content>\n</ion-view>\n");}]);